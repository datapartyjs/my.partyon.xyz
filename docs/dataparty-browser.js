(()=>{function t(t,e,r,n){Object.defineProperty(t,e,{get:r,set:n,enumerable:!0,configurable:!0})}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};var r={},n={},i=e.parcelRequire7d50;null==i&&((i=function(t){if(t in r)return r[t].exports;if(t in n){var e=n[t];delete n[t];var i={id:t,exports:{}};return r[t]=i,e.call(i.exports,i,i.exports),i.exports}var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(t,e){n[t]=e},e.parcelRequire7d50=i),i.register("fOb60",(function(t,e){"use strict";var r=i("gFAKp"),n=i("3aiGx"),o=i("c3CAj"),s=i("e03Uu");var a=function t(e){var i=new o(e),a=n(o.prototype.request,i);return r.extend(a,o.prototype,i),r.extend(a,i),a.create=function(r){return t(s(e,r))},a}(i("civET"));a.Axios=o,a.CanceledError=i("20OSs"),a.CancelToken=i("95Qna"),a.isCancel=i("1Iqrg"),a.VERSION=i("cuUo4").version,a.toFormData=i("90AJB"),a.AxiosError=i("90ixH"),a.Cancel=a.CanceledError,a.all=function(t){return Promise.all(t)},a.spread=i("anaz5"),a.isAxiosError=i("7sAWy"),t.exports=a,t.exports.default=a})),i.register("gFAKp",(function(t,e){"use strict";var r,n=i("3aiGx"),o=Object.prototype.toString,s=(r=Object.create(null),function(t){var e=o.call(t);return r[e]||(r[e]=e.slice(8,-1).toLowerCase())});function a(t){return t=t.toLowerCase(),function(e){return s(e)===t}}function u(t){return Array.isArray(t)}function c(t){return void 0===t}var l=a("ArrayBuffer");function h(t){return null!==t&&"object"==typeof t}function f(t){if("object"!==s(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}var d=a("Date"),p=a("File"),y=a("Blob"),v=a("FileList");function m(t){return"[object Function]"===o.call(t)}var g=a("URLSearchParams");function b(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),u(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}var w,_=(w="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(t){return w&&t instanceof w});t.exports={isArray:u,isArrayBuffer:l,isBuffer:function(t){return null!==t&&!c(t)&&null!==t.constructor&&!c(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){var e="[object FormData]";return t&&("function"==typeof FormData&&t instanceof FormData||o.call(t)===e||m(t.toString)&&t.toString()===e)},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&l(t.buffer)},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:h,isPlainObject:f,isUndefined:c,isDate:d,isFile:p,isBlob:y,isFunction:m,isStream:function(t){return h(t)&&m(t.pipe)},isURLSearchParams:g,isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:b,merge:function t(){var e={};function r(r,n){f(e[n])&&f(r)?e[n]=t(e[n],r):f(r)?e[n]=t({},r):u(r)?e[n]=r.slice():e[n]=r}for(var n=0,i=arguments.length;n<i;n++)b(arguments[n],r);return e},extend:function(t,e,r){return b(e,(function(e,i){t[i]=r&&"function"==typeof e?n(e,r):e})),t},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t},inherits:function(t,e,r,n){t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,r&&Object.assign(t.prototype,r)},toFlatObject:function(t,e,r){var n,i,o,s={};e=e||{};do{for(i=(n=Object.getOwnPropertyNames(t)).length;i-- >0;)s[o=n[i]]||(e[o]=t[o],s[o]=!0);t=Object.getPrototypeOf(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},kindOf:s,kindOfTest:a,endsWith:function(t,e,r){t=String(t),(void 0===r||r>t.length)&&(r=t.length),r-=e.length;var n=t.indexOf(e,r);return-1!==n&&n===r},toArray:function(t){if(!t)return null;var e=t.length;if(c(e))return null;for(var r=new Array(e);e-- >0;)r[e]=t[e];return r},isTypedArray:_,isFileList:v}})),i.register("3aiGx",(function(t,e){"use strict";t.exports=function(t,e){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return t.apply(e,r)}}})),i.register("c3CAj",(function(t,e){"use strict";var r=i("gFAKp"),n=i("3XzxC"),o=i("4O4e5"),s=i("2k1lP"),a=i("e03Uu"),u=i("4IkXU"),c=i("ggTRX"),l=c.validators;function h(t){this.defaults=t,this.interceptors={request:new o,response:new o}}h.prototype.request=function(t,e){"string"==typeof t?(e=e||{}).url=t:e=t||{},(e=a(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var r=e.transitional;void 0!==r&&c.assertOptions(r,{silentJSONParsing:l.transitional(l.boolean),forcedJSONParsing:l.transitional(l.boolean),clarifyTimeoutError:l.transitional(l.boolean)},!1);var n=[],i=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(i=i&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var o,u=[];if(this.interceptors.response.forEach((function(t){u.push(t.fulfilled,t.rejected)})),!i){var h=[s,void 0];for(Array.prototype.unshift.apply(h,n),h=h.concat(u),o=Promise.resolve(e);h.length;)o=o.then(h.shift(),h.shift());return o}for(var f=e;n.length;){var d=n.shift(),p=n.shift();try{f=d(f)}catch(t){p(t);break}}try{o=s(f)}catch(t){return Promise.reject(t)}for(;u.length;)o=o.then(u.shift(),u.shift());return o},h.prototype.getUri=function(t){t=a(this.defaults,t);var e=u(t.baseURL,t.url);return n(e,t.params,t.paramsSerializer)},r.forEach(["delete","get","head","options"],(function(t){h.prototype[t]=function(e,r){return this.request(a(r||{},{method:t,url:e,data:(r||{}).data}))}})),r.forEach(["post","put","patch"],(function(t){function e(e){return function(r,n,i){return this.request(a(i||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}h.prototype[t]=e(),h.prototype[t+"Form"]=e(!0)})),t.exports=h})),i.register("3XzxC",(function(t,e){"use strict";var r=i("gFAKp");function n(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,i){if(!e)return t;var o;if(i)o=i(e);else if(r.isURLSearchParams(e))o=e.toString();else{var s=[];r.forEach(e,(function(t,e){null!=t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,(function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),s.push(n(e)+"="+n(t))})))})),o=s.join("&")}if(o){var a=t.indexOf("#");-1!==a&&(t=t.slice(0,a)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}})),i.register("4O4e5",(function(t,e){"use strict";var r=i("gFAKp");function n(){this.handlers=[]}n.prototype.use=function(t,e,r){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},n.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},n.prototype.forEach=function(t){r.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=n})),i.register("2k1lP",(function(t,e){"use strict";var r=i("gFAKp"),n=i("ctVL7"),o=i("1Iqrg"),s=i("civET"),a=i("20OSs");function u(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new a}t.exports=function(t){return u(t),t.headers=t.headers||{},t.data=n.call(t,t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||s.adapter)(t).then((function(e){return u(t),e.data=n.call(t,e.data,e.headers,t.transformResponse),e}),(function(e){return o(e)||(u(t),e&&e.response&&(e.response.data=n.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}})),i.register("ctVL7",(function(t,e){"use strict";var r=i("gFAKp"),n=i("civET");t.exports=function(t,e,i){var o=this||n;return r.forEach(i,(function(r){t=r.call(o,t,e)})),t}})),i.register("civET",(function(t,e){var r=i("b28Wo"),n=i("gFAKp"),o=i("iQ5gD"),s=i("90ixH"),a=i("gDNBZ"),u=i("90AJB"),c={"Content-Type":"application/x-www-form-urlencoded"};function l(t,e){!n.isUndefined(t)&&n.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var h,f={transitional:a,adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==r&&"[object process]"===Object.prototype.toString.call(r))&&(h=i("3Czlw")),h),transformRequest:[function(t,e){if(o(e,"Accept"),o(e,"Content-Type"),n.isFormData(t)||n.isArrayBuffer(t)||n.isBuffer(t)||n.isStream(t)||n.isFile(t)||n.isBlob(t))return t;if(n.isArrayBufferView(t))return t.buffer;if(n.isURLSearchParams(t))return l(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString();var r,i=n.isObject(t),s=e&&e["Content-Type"];if((r=n.isFileList(t))||i&&"multipart/form-data"===s){var a=this.env&&this.env.FormData;return u(r?{"files[]":t}:t,a&&new a)}return i||"application/json"===s?(l(e,"application/json"),function(t,e,r){if(n.isString(t))try{return(e||JSON.parse)(t),n.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(r||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){var e=this.transitional||f.transitional,r=e&&e.silentJSONParsing,i=e&&e.forcedJSONParsing,o=!r&&"json"===this.responseType;if(o||i&&n.isString(t)&&t.length)try{return JSON.parse(t)}catch(t){if(o){if("SyntaxError"===t.name)throw s.from(t,s.ERR_BAD_RESPONSE,this,null,this.response);throw t}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:i("9GgaX")},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(t){f.headers[t]={}})),n.forEach(["post","put","patch"],(function(t){f.headers[t]=n.merge(c)})),t.exports=f})),i.register("b28Wo",(function(t,e){var r,n,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(t){r=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(t){n=s}}();var u,c=[],l=!1,h=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):h=-1,c.length&&d())}function d(){if(!l){var t=a(f);l=!0;for(var e=c.length;e;){for(u=c,c=[];++h<e;)u&&u[h].run();h=-1,e=c.length}u=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function y(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new p(t,e)),1!==c.length||l||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}})),i.register("iQ5gD",(function(t,e){"use strict";var r=i("gFAKp");t.exports=function(t,e){r.forEach(t,(function(r,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[n])}))}})),i.register("90ixH",(function(t,e){"use strict";var r=i("gFAKp");function n(t,e,r,n,i){Error.call(this),this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}r.inherits(n,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var o=n.prototype,s={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(t){s[t]={value:t}})),Object.defineProperties(n,s),Object.defineProperty(o,"isAxiosError",{value:!0}),n.from=function(t,e,i,s,a,u){var c=Object.create(o);return r.toFlatObject(t,c,(function(t){return t!==Error.prototype})),n.call(c,t.message,e,i,s,a),c.name=t.name,u&&Object.assign(c,u),c},t.exports=n})),i.register("gDNBZ",(function(t,e){"use strict";t.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}})),i.register("90AJB",(function(t,e){var r=i("6ymgl").Buffer,n=i("gFAKp");t.exports=function(t,e){e=e||new FormData;var i=[];function o(t){return null===t?"":n.isDate(t)?t.toISOString():n.isArrayBuffer(t)||n.isTypedArray(t)?"function"==typeof Blob?new Blob([t]):r.from(t):t}return function t(r,s){if(n.isPlainObject(r)||n.isArray(r)){if(-1!==i.indexOf(r))throw Error("Circular reference detected in "+s);i.push(r),n.forEach(r,(function(r,i){if(!n.isUndefined(r)){var a,u=s?s+"."+i:i;if(r&&!s&&"object"==typeof r)if(n.endsWith(i,"{}"))r=JSON.stringify(r);else if(n.endsWith(i,"[]")&&(a=n.toArray(r)))return void a.forEach((function(t){!n.isUndefined(t)&&e.append(u,o(t))}));t(r,u)}})),i.pop()}else e.append(s,o(r))}(t),e}})),i.register("6ymgl",(function(e,r){var n,o,s,a;t(e.exports,"Buffer",(()=>n),(t=>n=t)),t(e.exports,"SlowBuffer",(()=>o),(t=>o=t)),t(e.exports,"INSPECT_MAX_BYTES",(()=>s),(t=>s=t)),t(e.exports,"kMaxLength",(()=>a),(t=>a=t));var u=i("4Zllk"),c=i("9jpWi"),l="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;n=d,o=function(t){+t!=t&&(t=0);return d.alloc(+t)},s=50;var h=2147483647;function f(t){if(t>h)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,d.prototype),e}function d(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return v(t)}return p(t,e,r)}function p(t,e,r){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!d.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=0|w(t,e),n=f(r),i=n.write(t,e);i!==r&&(n=n.slice(0,i));return n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(V(t,Uint8Array)){var e=new Uint8Array(t);return g(e.buffer,e.byteOffset,e.byteLength)}return m(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(V(t,ArrayBuffer)||t&&V(t.buffer,ArrayBuffer))return g(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(V(t,SharedArrayBuffer)||t&&V(t.buffer,SharedArrayBuffer)))return g(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return d.from(n,e,r);var i=function(t){if(d.isBuffer(t)){var e=0|b(t.length),r=f(e);return 0===r.length||t.copy(r,0,0,e),r}if(void 0!==t.length)return"number"!=typeof t.length||H(t.length)?f(0):m(t);if("Buffer"===t.type&&Array.isArray(t.data))return m(t.data)}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return d.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function y(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function v(t){return y(t),f(t<0?0:0|b(t))}function m(t){for(var e=t.length<0?0:0|b(t.length),r=f(e),n=0;n<e;n+=1)r[n]=255&t[n];return r}function g(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,d.prototype),n}function b(t){if(t>=h)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+h.toString(16)+" bytes");return 0|t}function w(t,e){if(d.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||V(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return q(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Y(t).length;default:if(i)return n?-1:q(t).length;e=(""+e).toLowerCase(),i=!0}}function _(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return F(this,e,r);case"utf8":case"utf-8":return D(this,e,r);case"ascii":return I(this,e,r);case"latin1":case"binary":return T(this,e,r);case"base64":return j(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function S(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function E(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),H(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=d.from(e,n)),d.isBuffer(e))return 0===e.length?-1:x(t,e,r,n,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):x(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function x(t,e,r,n,i){var o,s=1,a=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,r/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var l=-1;for(o=r;o<a;o++)if(c(t,o)===c(e,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){for(var h=!0,f=0;f<u;f++)if(c(t,o+f)!==c(e,f)){h=!1;break}if(h)return o}return-1}function O(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=e.length;n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(e.substr(2*s,2),16);if(H(a))return s;t[r+s]=a}return s}function C(t,e,r,n){return W(q(e,t.length-r),t,r,n)}function A(t,e,r,n){return W(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function k(t,e,r,n){return W(Y(e),t,r,n)}function P(t,e,r,n){return W(function(t,e){for(var r,n,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)n=(r=t.charCodeAt(s))>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function j(t,e,r){return 0===e&&r===t.length?u.fromByteArray(t):u.fromByteArray(t.slice(e,r))}function D(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o,s,a,u,c=t[i],l=null,h=c>239?4:c>223?3:c>191?2:1;if(i+h<=r)switch(h){case 1:c<128&&(l=c);break;case 2:128==(192&(o=t[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=t[i+1],s=t[i+2],128==(192&o)&&128==(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,h=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=h}return function(t){var e=t.length;if(e<=R)return String.fromCharCode.apply(String,t);var r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=R));return r}(n)}a=h,d.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),d.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}}),d.poolSize=8192,d.from=function(t,e,r){return p(t,e,r)},Object.setPrototypeOf(d.prototype,Uint8Array.prototype),Object.setPrototypeOf(d,Uint8Array),d.alloc=function(t,e,r){return function(t,e,r){return y(t),t<=0?f(t):void 0!==e?"string"==typeof r?f(t).fill(e,r):f(t).fill(e):f(t)}(t,e,r)},d.allocUnsafe=function(t){return v(t)},d.allocUnsafeSlow=function(t){return v(t)},d.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==d.prototype},d.compare=function(t,e){if(V(t,Uint8Array)&&(t=d.from(t,t.offset,t.byteLength)),V(e,Uint8Array)&&(e=d.from(e,e.offset,e.byteLength)),!d.isBuffer(t)||!d.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},d.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return d.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=d.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var o=t[r];if(V(o,Uint8Array))i+o.length>n.length?d.from(o).copy(n,i):Uint8Array.prototype.set.call(n,o,i);else{if(!d.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i)}i+=o.length}return n},d.byteLength=w,d.prototype._isBuffer=!0,d.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)S(this,e,e+1);return this},d.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)S(this,e,e+3),S(this,e+1,e+2);return this},d.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)S(this,e,e+7),S(this,e+1,e+6),S(this,e+2,e+5),S(this,e+3,e+4);return this},d.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?D(this,0,t):_.apply(this,arguments)},d.prototype.toLocaleString=d.prototype.toString,d.prototype.equals=function(t){if(!d.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===d.compare(this,t)},d.prototype.inspect=function(){var t="",e=s;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"},l&&(d.prototype[l]=d.prototype.inspect),d.prototype.compare=function(t,e,r,n,i){if(V(t,Uint8Array)&&(t=d.from(t,t.offset,t.byteLength)),!d.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(e>>>=0),a=Math.min(o,s),u=this.slice(n,i),c=t.slice(e,r),l=0;l<a;++l)if(u[l]!==c[l]){o=u[l],s=c[l];break}return o<s?-1:s<o?1:0},d.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},d.prototype.indexOf=function(t,e,r){return E(this,t,e,r,!0)},d.prototype.lastIndexOf=function(t,e,r){return E(this,t,e,r,!1)},d.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return O(this,t,e,r);case"utf8":case"utf-8":return C(this,t,e,r);case"ascii":case"latin1":case"binary":return A(this,t,e,r);case"base64":return k(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var R=4096;function I(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function T(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function F(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;++o)i+=G[t[o]];return i}function M(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function N(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function L(t,e,r,n,i,o){if(!d.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function B(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function U(t,e,r,n,i){return e=+e,r>>>=0,i||B(t,0,r,4),c.write(t,e,r,n,23,4),r+4}function $(t,e,r,n,i){return e=+e,r>>>=0,i||B(t,0,r,8),c.write(t,e,r,n,52,8),r+8}d.prototype.slice=function(t,e){var r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);var n=this.subarray(t,e);return Object.setPrototypeOf(n,d.prototype),n},d.prototype.readUintLE=d.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n},d.prototype.readUintBE=d.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},d.prototype.readUint8=d.prototype.readUInt8=function(t,e){return t>>>=0,e||N(t,1,this.length),this[t]},d.prototype.readUint16LE=d.prototype.readUInt16LE=function(t,e){return t>>>=0,e||N(t,2,this.length),this[t]|this[t+1]<<8},d.prototype.readUint16BE=d.prototype.readUInt16BE=function(t,e){return t>>>=0,e||N(t,2,this.length),this[t]<<8|this[t+1]},d.prototype.readUint32LE=d.prototype.readUInt32LE=function(t,e){return t>>>=0,e||N(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},d.prototype.readUint32BE=d.prototype.readUInt32BE=function(t,e){return t>>>=0,e||N(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},d.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},d.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);for(var n=e,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},d.prototype.readInt8=function(t,e){return t>>>=0,e||N(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},d.prototype.readInt16LE=function(t,e){t>>>=0,e||N(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},d.prototype.readInt16BE=function(t,e){t>>>=0,e||N(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},d.prototype.readInt32LE=function(t,e){return t>>>=0,e||N(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},d.prototype.readInt32BE=function(t,e){return t>>>=0,e||N(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},d.prototype.readFloatLE=function(t,e){return t>>>=0,e||N(t,4,this.length),c.read(this,t,!0,23,4)},d.prototype.readFloatBE=function(t,e){return t>>>=0,e||N(t,4,this.length),c.read(this,t,!1,23,4)},d.prototype.readDoubleLE=function(t,e){return t>>>=0,e||N(t,8,this.length),c.read(this,t,!0,52,8)},d.prototype.readDoubleBE=function(t,e){return t>>>=0,e||N(t,8,this.length),c.read(this,t,!1,52,8)},d.prototype.writeUintLE=d.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e>>>=0,r>>>=0,n)||L(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},d.prototype.writeUintBE=d.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e>>>=0,r>>>=0,n)||L(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},d.prototype.writeUint8=d.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,1,255,0),this[e]=255&t,e+1},d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},d.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);L(this,t,e,r,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<r&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},d.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);L(this,t,e,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},d.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},d.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},d.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},d.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},d.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},d.prototype.writeFloatLE=function(t,e,r){return U(this,t,e,!0,r)},d.prototype.writeFloatBE=function(t,e,r){return U(this,t,e,!1,r)},d.prototype.writeDoubleLE=function(t,e,r){return $(this,t,e,!0,r)},d.prototype.writeDoubleBE=function(t,e,r){return $(this,t,e,!1,r)},d.prototype.copy=function(t,e,r,n){if(!d.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),i},d.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!d.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){var i=t.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(t=i)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(o=e;o<r;++o)this[o]=t;else{var s=d.isBuffer(t)?t:d.from(t,n),a=s.length;if(0===a)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<r-e;++o)this[o+e]=s[o%a]}return this};var z=/[^+/0-9A-Za-z-_]/g;function q(t,e){var r;e=e||1/0;for(var n=t.length,i=null,o=[],s=0;s<n;++s){if((r=t.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function Y(t){return u.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(z,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function W(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function V(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function H(t){return t!=t}var G=function(){for(var t="0123456789abcdef",e=new Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)e[n+i]=t[r]+t[i];return e}()})),i.register("4Zllk",(function(e,r){var n,i;t(e.exports,"toByteArray",(()=>n),(t=>n=t)),t(e.exports,"fromByteArray",(()=>i),(t=>i=t)),n=function(t){var e,r,n=h(t),i=n[0],o=n[1],u=new a(function(t,e,r){return 3*(e+r)/4-r}(0,i,o)),c=0,l=o>0?i-4:i;for(r=0;r<l;r+=4)e=s[t.charCodeAt(r)]<<18|s[t.charCodeAt(r+1)]<<12|s[t.charCodeAt(r+2)]<<6|s[t.charCodeAt(r+3)],u[c++]=e>>16&255,u[c++]=e>>8&255,u[c++]=255&e;2===o&&(e=s[t.charCodeAt(r)]<<2|s[t.charCodeAt(r+1)]>>4,u[c++]=255&e);1===o&&(e=s[t.charCodeAt(r)]<<10|s[t.charCodeAt(r+1)]<<4|s[t.charCodeAt(r+2)]>>2,u[c++]=e>>8&255,u[c++]=255&e);return u},i=function(t){for(var e,r=t.length,n=r%3,i=[],s=16383,a=0,u=r-n;a<u;a+=s)i.push(f(t,a,a+s>u?u:a+s));1===n?(e=t[r-1],i.push(o[e>>2]+o[e<<4&63]+"==")):2===n&&(e=(t[r-2]<<8)+t[r-1],i.push(o[e>>10]+o[e>>4&63]+o[e<<2&63]+"="));return i.join("")};for(var o=[],s=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,l=u.length;c<l;++c)o[c]=u[c],s[u.charCodeAt(c)]=c;function h(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function f(t,e,r){for(var n,i,s=[],a=e;a<r;a+=3)n=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(o[(i=n)>>18&63]+o[i>>12&63]+o[i>>6&63]+o[63&i]);return s.join("")}s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63})),i.register("9jpWi",(function(e,r){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var n,i;t(e.exports,"read",(()=>n),(t=>n=t)),t(e.exports,"write",(()=>i),(t=>i=t)),n=function(t,e,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,c=u>>1,l=-7,h=r?i-1:0,f=r?-1:1,d=t[e+h];for(h+=f,o=d&(1<<-l)-1,d>>=-l,l+=a;l>0;o=256*o+t[e+h],h+=f,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=256*s+t[e+h],h+=f,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,n),o-=c}return(d?-1:1)*s*Math.pow(2,o-n)},i=function(t,e,r,n,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,h=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,p=n?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(s++,u/=2),s+h>=l?(a=0,s=l):s+h>=1?(a=(e*u-1)*Math.pow(2,i),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[r+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[r+d]=255&s,d+=p,s/=256,c-=8);t[r+d-p]|=128*y}})),i.register("3Czlw",(function(t,e){"use strict";var r=i("gFAKp"),n=i("czmbN"),o=i("kX03q"),s=i("3XzxC"),a=i("4IkXU"),u=i("ih2sv"),c=i("cLuPK"),l=i("gDNBZ"),h=i("90ixH"),f=i("20OSs"),d=i("g0ity");t.exports=function(t){return new Promise((function(e,i){var p,y=t.data,v=t.headers,m=t.responseType;function g(){t.cancelToken&&t.cancelToken.unsubscribe(p),t.signal&&t.signal.removeEventListener("abort",p)}r.isFormData(y)&&r.isStandardBrowserEnv()&&delete v["Content-Type"];var b=new XMLHttpRequest;if(t.auth){var w=t.auth.username||"",_=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";v.Authorization="Basic "+btoa(w+":"+_)}var S=a(t.baseURL,t.url);function E(){if(b){var r="getAllResponseHeaders"in b?u(b.getAllResponseHeaders()):null,o={data:m&&"text"!==m&&"json"!==m?b.response:b.responseText,status:b.status,statusText:b.statusText,headers:r,config:t,request:b};n((function(t){e(t),g()}),(function(t){i(t),g()}),o),b=null}}if(b.open(t.method.toUpperCase(),s(S,t.params,t.paramsSerializer),!0),b.timeout=t.timeout,"onloadend"in b?b.onloadend=E:b.onreadystatechange=function(){b&&4===b.readyState&&(0!==b.status||b.responseURL&&0===b.responseURL.indexOf("file:"))&&setTimeout(E)},b.onabort=function(){b&&(i(new h("Request aborted",h.ECONNABORTED,t,b)),b=null)},b.onerror=function(){i(new h("Network Error",h.ERR_NETWORK,t,b,b)),b=null},b.ontimeout=function(){var e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",r=t.transitional||l;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),i(new h(e,r.clarifyTimeoutError?h.ETIMEDOUT:h.ECONNABORTED,t,b)),b=null},r.isStandardBrowserEnv()){var x=(t.withCredentials||c(S))&&t.xsrfCookieName?o.read(t.xsrfCookieName):void 0;x&&(v[t.xsrfHeaderName]=x)}"setRequestHeader"in b&&r.forEach(v,(function(t,e){void 0===y&&"content-type"===e.toLowerCase()?delete v[e]:b.setRequestHeader(e,t)})),r.isUndefined(t.withCredentials)||(b.withCredentials=!!t.withCredentials),m&&"json"!==m&&(b.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&b.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&b.upload&&b.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(p=function(t){b&&(i(!t||t&&t.type?new f:t),b.abort(),b=null)},t.cancelToken&&t.cancelToken.subscribe(p),t.signal&&(t.signal.aborted?p():t.signal.addEventListener("abort",p))),y||(y=null);var O=d(S);O&&-1===["http","https","file"].indexOf(O)?i(new h("Unsupported protocol "+O+":",h.ERR_BAD_REQUEST,t)):b.send(y)}))}})),i.register("czmbN",(function(t,e){"use strict";var r=i("90ixH");t.exports=function(t,e,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(new r("Request failed with status code "+n.status,[r.ERR_BAD_REQUEST,r.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):t(n)}})),i.register("kX03q",(function(t,e){"use strict";var r=i("gFAKp");t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,i,o,s){var a=[];a.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(i)&&a.push("path="+i),r.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}})),i.register("4IkXU",(function(t,e){"use strict";var r=i("eBqtX"),n=i("eEzdS");t.exports=function(t,e){return t&&!r(e)?n(t,e):e}})),i.register("eBqtX",(function(t,e){"use strict";t.exports=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}})),i.register("eEzdS",(function(t,e){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}})),i.register("ih2sv",(function(t,e){"use strict";var r=i("gFAKp"),n=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,i,o,s={};return t?(r.forEach(t.split("\n"),(function(t){if(o=t.indexOf(":"),e=r.trim(t.substr(0,o)).toLowerCase(),i=r.trim(t.substr(o+1)),e){if(s[e]&&n.indexOf(e)>=0)return;s[e]="set-cookie"===e?(s[e]?s[e]:[]).concat([i]):s[e]?s[e]+", "+i:i}})),s):s}})),i.register("cLuPK",(function(t,e){"use strict";var r=i("gFAKp");t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=i(window.location.href),function(e){var n=r.isString(e)?i(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}})),i.register("20OSs",(function(t,e){"use strict";var r=i("90ixH");function n(t){r.call(this,null==t?"canceled":t,r.ERR_CANCELED),this.name="CanceledError"}i("gFAKp").inherits(n,r,{__CANCEL__:!0}),t.exports=n})),i.register("g0ity",(function(t,e){"use strict";t.exports=function(t){var e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}})),i.register("9GgaX",(function(t,e){t.exports=null})),i.register("1Iqrg",(function(t,e){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}})),i.register("e03Uu",(function(t,e){"use strict";var r=i("gFAKp");t.exports=function(t,e){e=e||{};var n={};function i(t,e){return r.isPlainObject(t)&&r.isPlainObject(e)?r.merge(t,e):r.isPlainObject(e)?r.merge({},e):r.isArray(e)?e.slice():e}function o(n){return r.isUndefined(e[n])?r.isUndefined(t[n])?void 0:i(void 0,t[n]):i(t[n],e[n])}function s(t){if(!r.isUndefined(e[t]))return i(void 0,e[t])}function a(n){return r.isUndefined(e[n])?r.isUndefined(t[n])?void 0:i(void 0,t[n]):i(void 0,e[n])}function u(r){return r in e?i(t[r],e[r]):r in t?i(void 0,t[r]):void 0}var c={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:u};return r.forEach(Object.keys(t).concat(Object.keys(e)),(function(t){var e=c[t]||o,i=e(t);r.isUndefined(i)&&e!==u||(n[t]=i)})),n}})),i.register("ggTRX",(function(t,e){"use strict";var r=i("cuUo4").version,n=i("90ixH"),o={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){o[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}}));var s={};o.transitional=function(t,e,i){function o(t,e){return"[Axios v"+r+"] Transitional option '"+t+"'"+e+(i?". "+i:"")}return function(r,i,a){if(!1===t)throw new n(o(i," has been removed"+(e?" in "+e:"")),n.ERR_DEPRECATED);return e&&!s[i]&&(s[i]=!0,console.warn(o(i," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(r,i,a)}},t.exports={assertOptions:function(t,e,r){if("object"!=typeof t)throw new n("options must be an object",n.ERR_BAD_OPTION_VALUE);for(var i=Object.keys(t),o=i.length;o-- >0;){var s=i[o],a=e[s];if(a){var u=t[s],c=void 0===u||a(u,s,t);if(!0!==c)throw new n("option "+s+" must be "+c,n.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new n("Unknown option "+s,n.ERR_BAD_OPTION)}},validators:o}})),i.register("cuUo4",(function(t,e){t.exports={version:"0.27.2"}})),i.register("95Qna",(function(t,e){"use strict";var r=i("20OSs");function n(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;this.promise.then((function(t){if(n._listeners){var e,r=n._listeners.length;for(e=0;e<r;e++)n._listeners[e](t);n._listeners=null}})),this.promise.then=function(t){var e,r=new Promise((function(t){n.subscribe(t),e=t})).then(t);return r.cancel=function(){n.unsubscribe(e)},r},t((function(t){n.reason||(n.reason=new r(t),e(n.reason))}))}n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.prototype.subscribe=function(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]},n.prototype.unsubscribe=function(t){if(this._listeners){var e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}},n.source=function(){var t;return{token:new n((function(e){t=e})),cancel:t}},t.exports=n})),i.register("anaz5",(function(t,e){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}})),i.register("7sAWy",(function(t,e){"use strict";var r=i("gFAKp");t.exports=function(t){return r.isObject(t)&&!0===t.isAxiosError}})),i.register("gh2nv",(function(t,e){"use strict";var r=Object.prototype.hasOwnProperty,n="~";function i(){}function o(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function s(t,e,r,i,s){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new o(r,i||t,s),u=n?n+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],a]:t._events[u].push(a):(t._events[u]=a,t._eventsCount++),t}function a(t,e){0==--t._eventsCount?t._events=new i:delete t._events[e]}function u(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(n=!1)),u.prototype.eventNames=function(){var t,e,i=[];if(0===this._eventsCount)return i;for(e in t=this._events)r.call(t,e)&&i.push(n?e.slice(1):e);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},u.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,s=new Array(o);i<o;i++)s[i]=r[i].fn;return s},u.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},u.prototype.emit=function(t,e,r,i,o,s){var a=n?n+t:t;if(!this._events[a])return!1;var u,c,l=this._events[a],h=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,r),!0;case 4:return l.fn.call(l.context,e,r,i),!0;case 5:return l.fn.call(l.context,e,r,i,o),!0;case 6:return l.fn.call(l.context,e,r,i,o,s),!0}for(c=1,u=new Array(h-1);c<h;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var f,d=l.length;for(c=0;c<d;c++)switch(l[c].once&&this.removeListener(t,l[c].fn,void 0,!0),h){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,e);break;case 3:l[c].fn.call(l[c].context,e,r);break;case 4:l[c].fn.call(l[c].context,e,r,i);break;default:if(!u)for(f=1,u=new Array(h-1);f<h;f++)u[f-1]=arguments[f];l[c].fn.apply(l[c].context,u)}}return!0},u.prototype.on=function(t,e,r){return s(this,t,e,r,!1)},u.prototype.once=function(t,e,r){return s(this,t,e,r,!0)},u.prototype.removeListener=function(t,e,r,i){var o=n?n+t:t;if(!this._events[o])return this;if(!e)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==e||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var u=0,c=[],l=s.length;u<l;u++)(s[u].fn!==e||i&&!s[u].once||r&&s[u].context!==r)&&c.push(s[u]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},u.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&a(this,e)):(this._events=new i,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})),i.register("23wL6",(function(t,e){var r=i("b28Wo");function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}t.exports.log=function(){var t;return"object"===("undefined"==typeof console?"undefined":n(console))&&console.log&&(t=console).log.apply(t,arguments)},t.exports.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var n=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(n++,"%c"===t&&(i=n))})),e.splice(i,0,r)},t.exports.save=function(e){try{e?t.exports.storage.setItem("debug",e):t.exports.storage.removeItem("debug")}catch(t){}},t.exports.load=function(){var e;try{e=t.exports.storage.getItem("debug")}catch(t){}!e&&void 0!==r&&"env"in r&&(e=void 0);return e},t.exports.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.exports.storage=function(){try{return localStorage}catch(t){}}(),t.exports.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.exports=i("jDXjh")(t.exports),t.exports.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}})),i.register("jDXjh",(function(t,e){"use strict";t.exports=function(t){function e(t){for(var e=0,n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e|=0;return r.colors[Math.abs(e)%r.colors.length]}function r(t){var i;function s(){if(s.enabled){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var o=s,a=Number(new Date),u=a-(i||a);o.diff=u,o.prev=i,o.curr=a,i=a,e[0]=r.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");var c=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(function(t,n){if("%%"===t)return t;c++;var i=r.formatters[n];if("function"==typeof i){var s=e[c];t=i.call(o,s),e.splice(c,1),c--}return t})),r.formatArgs.call(o,e);var l=o.log||r.log;l.apply(o,e)}}return s.namespace=t,s.enabled=r.enabled(t),s.useColors=r.useColors(),s.color=e(t),s.destroy=n,s.extend=o,"function"==typeof r.init&&r.init(s),r.instances.push(s),s}function n(){var t=r.instances.indexOf(this);return-1!==t&&(r.instances.splice(t,1),!0)}function o(t,e){return r(this.namespace+(void 0===e?":":e)+t)}return r.debug=r,r.default=r,r.coerce=function(t){return t instanceof Error?t.stack||t.message:t},r.disable=function(){r.enable("")},r.enable=function(t){var e;r.save(t),r.names=[],r.skips=[];var n=("string"==typeof t?t:"").split(/[\s,]+/),i=n.length;for(e=0;e<i;e++)n[e]&&("-"===(t=n[e].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+t.substr(1)+"$")):r.names.push(new RegExp("^"+t+"$")));for(e=0;e<r.instances.length;e++){var o=r.instances[e];o.enabled=r.enabled(o.namespace)}},r.enabled=function(t){if("*"===t[t.length-1])return!0;var e,n;for(e=0,n=r.skips.length;e<n;e++)if(r.skips[e].test(t))return!1;for(e=0,n=r.names.length;e<n;e++)if(r.names[e].test(t))return!0;return!1},r.humanize=i("l1xnR"),Object.keys(t).forEach((function(e){r[e]=t[e]})),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=e,r.enable(r.load()),r}})),i.register("l1xnR",(function(t,e){var r=1e3,n=6e4,i=36e5,o=864e5,s=6048e5,a=315576e5;function u(t,e,r,n){var i=e>=1.5*r;return Math.round(t/r)+" "+n+(i?"s":"")}t.exports=function(t,e){e=e||{};var c,l,h=typeof t;if("string"===h&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!e)return;var u=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return u*a;case"weeks":case"week":case"w":return u*s;case"days":case"day":case"d":return u*o;case"hours":case"hour":case"hrs":case"hr":case"h":return u*i;case"minutes":case"minute":case"mins":case"min":case"m":return u*n;case"seconds":case"second":case"secs":case"sec":case"s":return u*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return u;default:return}}(t);if("number"===h&&isFinite(t))return e.long?(c=t,(l=Math.abs(c))>=o?u(c,l,o,"day"):l>=i?u(c,l,i,"hour"):l>=n?u(c,l,n,"minute"):l>=r?u(c,l,r,"second"):c+" ms"):function(t){var e=Math.abs(t);return e>=o?Math.round(t/o)+"d":e>=i?Math.round(t/i)+"h":e>=n?Math.round(t/n)+"m":e>=r?Math.round(t/r)+"s":t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}})),i.register("8wVEU",(function(t,e){
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
"use strict";var r=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function o(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(t){n[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var s,a,u=o(t),c=1;c<arguments.length;c++){for(var l in s=Object(arguments[c]))n.call(s,l)&&(u[l]=s[l]);if(r){a=r(s);for(var h=0;h<a.length;h++)i.call(s,a[h])&&(u[a[h]]=s[a[h]])}}return u}})),i.register("bRQKM",(function(t,e){var r=i("5vxty"),n=t.exports={Ros:i("jm3l7"),Topic:i("75uGY"),Message:i("68MZx"),Param:i("5LxVP"),Service:i("fAaBp"),ServiceRequest:i("g7Gjb"),ServiceResponse:i("a3MgN")};r(n.Ros,["Param","Service","Topic"],n)})),i.register("5vxty",(function(t,e){t.exports=function(t,e,r){e.forEach((function(e){var n=r[e];t.prototype[e]=function(t){return t.ros=this,new n(t)}}))}})),i.register("jm3l7",(function(t,e){var r=i("7N6ob"),n=i("8GMZt"),o=i("iYtOJ"),s=i("fAaBp"),a=i("g7Gjb"),u=i("8wVEU"),c=i("6xZrn").EventEmitter2;function l(t){t=t||{};var e=this;this.socket=null,this.idCounter=0,this.isConnected=!1,this.transportLibrary=t.transportLibrary||"websocket",this.transportOptions=t.transportOptions||{},this._sendFunc=function(t){e.sendEncodedMessage(t)},void 0===t.groovyCompatibility?this.groovyCompatibility=!0:this.groovyCompatibility=t.groovyCompatibility,this.setMaxListeners(0),t.url&&this.connect(t.url)}l.prototype.__proto__=c.prototype,l.prototype.connect=function(t){if("socket.io"===this.transportLibrary)this.socket=u(io(t,{"force new connection":!0}),o(this)),this.socket.on("connect",this.socket.onopen),this.socket.on("data",this.socket.onmessage),this.socket.on("close",this.socket.onclose),this.socket.on("error",this.socket.onerror);else if("RTCPeerConnection"===this.transportLibrary.constructor.name)this.socket=u(this.transportLibrary.createDataChannel(t,this.transportOptions),o(this));else if("websocket"===this.transportLibrary){if(!this.socket||this.socket.readyState===r.CLOSED){var e=new r(t);e.binaryType="arraybuffer",this.socket=u(e,o(this))}}else{if("workersocket"!==this.transportLibrary)throw"Unknown transportLibrary: "+this.transportLibrary.toString();this.socket=u(new n(t),o(this))}},l.prototype.close=function(){this.socket&&this.socket.close()},l.prototype.authenticate=function(t,e,r,n,i,o,s){var a={op:"auth",mac:t,client:e,dest:r,rand:n,t:i,level:o,end:s};this.callOnConnection(a)},l.prototype.sendEncodedMessage=function(t){var e=null,r=this;e="socket.io"===this.transportLibrary?function(t){r.socket.emit("operation",t)}:function(t){r.socket.send(t)},this.isConnected?e(t):r.once("connection",(function(){e(t)}))},l.prototype.callOnConnection=function(t){this.transportOptions.encoder?this.transportOptions.encoder(t,this._sendFunc):this._sendFunc(JSON.stringify(t))},l.prototype.setStatusLevel=function(t,e){var r={op:"set_level",level:t,id:e};this.callOnConnection(r)},l.prototype.getActionServers=function(t,e){var r=new s({ros:this,name:"/rosapi/action_servers",serviceType:"rosapi/GetActionServers"}),n=new a({});"function"==typeof e?r.callService(n,(function(e){t(e.action_servers)}),(function(t){e(t)})):r.callService(n,(function(e){t(e.action_servers)}))},l.prototype.getTopics=function(t,e){var r=new s({ros:this,name:"/rosapi/topics",serviceType:"rosapi/Topics"}),n=new a;"function"==typeof e?r.callService(n,(function(e){t(e)}),(function(t){e(t)})):r.callService(n,(function(e){t(e)}))},l.prototype.getTopicsForType=function(t,e,r){var n=new s({ros:this,name:"/rosapi/topics_for_type",serviceType:"rosapi/TopicsForType"}),i=new a({type:t});"function"==typeof r?n.callService(i,(function(t){e(t.topics)}),(function(t){r(t)})):n.callService(i,(function(t){e(t.topics)}))},l.prototype.getServices=function(t,e){var r=new s({ros:this,name:"/rosapi/services",serviceType:"rosapi/Services"}),n=new a;"function"==typeof e?r.callService(n,(function(e){t(e.services)}),(function(t){e(t)})):r.callService(n,(function(e){t(e.services)}))},l.prototype.getServicesForType=function(t,e,r){var n=new s({ros:this,name:"/rosapi/services_for_type",serviceType:"rosapi/ServicesForType"}),i=new a({type:t});"function"==typeof r?n.callService(i,(function(t){e(t.services)}),(function(t){r(t)})):n.callService(i,(function(t){e(t.services)}))},l.prototype.getServiceRequestDetails=function(t,e,r){var n=new s({ros:this,name:"/rosapi/service_request_details",serviceType:"rosapi/ServiceRequestDetails"}),i=new a({type:t});"function"==typeof r?n.callService(i,(function(t){e(t)}),(function(t){r(t)})):n.callService(i,(function(t){e(t)}))},l.prototype.getServiceResponseDetails=function(t,e,r){var n=new s({ros:this,name:"/rosapi/service_response_details",serviceType:"rosapi/ServiceResponseDetails"}),i=new a({type:t});"function"==typeof r?n.callService(i,(function(t){e(t)}),(function(t){r(t)})):n.callService(i,(function(t){e(t)}))},l.prototype.getNodes=function(t,e){var r=new s({ros:this,name:"/rosapi/nodes",serviceType:"rosapi/Nodes"}),n=new a;"function"==typeof e?r.callService(n,(function(e){t(e.nodes)}),(function(t){e(t)})):r.callService(n,(function(e){t(e.nodes)}))},l.prototype.getNodeDetails=function(t,e,r){var n=new s({ros:this,name:"/rosapi/node_details",serviceType:"rosapi/NodeDetails"}),i=new a({node:t});"function"==typeof r?n.callService(i,(function(t){e(t.subscribing,t.publishing,t.services)}),(function(t){r(t)})):n.callService(i,(function(t){e(t)}))},l.prototype.getParams=function(t,e){var r=new s({ros:this,name:"/rosapi/get_param_names",serviceType:"rosapi/GetParamNames"}),n=new a;"function"==typeof e?r.callService(n,(function(e){t(e.names)}),(function(t){e(t)})):r.callService(n,(function(e){t(e.names)}))},l.prototype.getTopicType=function(t,e,r){var n=new s({ros:this,name:"/rosapi/topic_type",serviceType:"rosapi/TopicType"}),i=new a({topic:t});"function"==typeof r?n.callService(i,(function(t){e(t.type)}),(function(t){r(t)})):n.callService(i,(function(t){e(t.type)}))},l.prototype.getServiceType=function(t,e,r){var n=new s({ros:this,name:"/rosapi/service_type",serviceType:"rosapi/ServiceType"}),i=new a({service:t});"function"==typeof r?n.callService(i,(function(t){e(t.type)}),(function(t){r(t)})):n.callService(i,(function(t){e(t.type)}))},l.prototype.getMessageDetails=function(t,e,r){var n=new s({ros:this,name:"/rosapi/message_details",serviceType:"rosapi/MessageDetails"}),i=new a({type:t});"function"==typeof r?n.callService(i,(function(t){e(t.typedefs)}),(function(t){r(t)})):n.callService(i,(function(t){e(t.typedefs)}))},l.prototype.decodeTypeDefs=function(t){var e=this,r=function(t,n){for(var i={},o=0;o<t.fieldnames.length;o++){var s=t.fieldarraylen[o],a=t.fieldnames[o],u=t.fieldtypes[o];if(-1===u.indexOf("/"))i[a]=-1===s?u:[u];else{for(var c=!1,l=0;l<n.length;l++)if(n[l].type.toString()===u.toString()){c=n[l];break}if(c){var h=r(c,n);-1===s||(i[a]=[h])}else e.emit("error","Cannot find "+u+" in decodeTypeDefs")}}return i};return r(t[0],t)},l.prototype.getTopicsAndRawTypes=function(t,e){var r=new s({ros:this,name:"/rosapi/topics_and_raw_types",serviceType:"rosapi/TopicsAndRawTypes"}),n=new a;"function"==typeof e?r.callService(n,(function(e){t(e)}),(function(t){e(t)})):r.callService(n,(function(e){t(e)}))},t.exports=l})),i.register("7N6ob",(function(t,e){t.exports="undefined"!=typeof window?window.WebSocket:WebSocket})),i.register("8GMZt",(function(t,e){try{var r=i("h1A1L")}catch(t){r=i("2PObB")}var n=i("kjc4e");function o(t){this.socket_=r(n),this.socket_.addEventListener("message",this.handleWorkerMessage_.bind(this)),this.socket_.postMessage({uri:t})}o.prototype.handleWorkerMessage_=function(t){var e=t.data;if(e instanceof ArrayBuffer||"string"==typeof e)this.onmessage(t);else{var r=e.type;if("close"===r)this.onclose(null);else if("open"===r)this.onopen(null);else{if("error"!==r)throw"Unknown message from workersocket";this.onerror(null)}}},o.prototype.send=function(t){this.socket_.postMessage(t)},o.prototype.close=function(){this.socket_.postMessage({close:!0})},t.exports=o})),i.register("h1A1L",(function(t,e){var r=arguments[3],n=arguments[4],i=arguments[5],o=JSON.stringify;t.exports=function(t,e){for(var s,a=Object.keys(i),u=0,c=a.length;u<c;u++){var l=a[u],h=i[l].exports;if(h===t||h&&h.default===t){s=l;break}}if(!s){s=Math.floor(Math.pow(16,8)*Math.random()).toString(16);var f={};for(u=0,c=a.length;u<c;u++){f[l=a[u]]=l}n[s]=["function(require,module,exports){"+t+"(self); }",f]}var d=Math.floor(Math.pow(16,8)*Math.random()).toString(16),p={};p[s]=s,n[d]=["function(require,module,exports){var f = require("+o(s)+");(f.default ? f.default : f)(self);}",p];var y={};!function t(e){for(var r in y[e]=!0,n[e][1]){var i=n[e][1][r];y[i]||t(i)}}(d);var v="("+r+")({"+Object.keys(y).map((function(t){return o(t)+":["+n[t][0]+","+o(n[t][1])+"]"})).join(",")+"},{},["+o(d)+"])",m=window.URL||window.webkitURL||window.mozURL||window.msURL,g=new Blob([v],{type:"text/javascript"});if(e&&e.bare)return g;var b=m.createObjectURL(g),w=new Worker(b);return w.objectURL=b,w}})),i.register("2PObB",(function(t,e){function r(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.i=function(t){return t},r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/",r.oe=function(t){throw console.error(t),t};var n=r(r.s=ENTRY_MODULE);return n.default||n}var n="\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)";function i(t){return(t+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function o(t,e,r){var o={};o[r]=[];var s=e.toString(),a=s.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!a)return o;for(var u,c=a[1],l=new RegExp("(\\\\n|\\W)"+i(c)+n,"g");u=l.exec(s);)"dll-reference"!==u[3]&&o[r].push(u[3]);for(l=new RegExp("\\("+i(c)+'\\("(dll-reference\\s('+'[\\.|\\-|\\+|\\w|/|@]+))"\\)\\)'+n,"g");u=l.exec(s);)t[u[2]]||(o[r].push(u[1]),t[u[2]]=__webpack_require__(u[1]).m),o[u[2]]=o[u[2]]||[],o[u[2]].push(u[4]);for(var h,f=Object.keys(o),d=0;d<f.length;d++)for(var p=0;p<o[f[d]].length;p++)h=o[f[d]][p],isNaN(1*h)||(o[f[d]][p]=1*o[f[d]][p]);return o}function s(t){return Object.keys(t).reduce((function(e,r){return e||t[r].length>0}),!1)}t.exports=function(t,e){e=e||{};var n={main:__webpack_modules__},i=e.all?{main:Object.keys(n.main)}:function(t,e){for(var r={main:[e]},n={main:[]},i={main:{}};s(r);)for(var a=Object.keys(r),u=0;u<a.length;u++){var c=a[u],l=r[c].pop();if(i[c]=i[c]||{},!i[c][l]&&t[c][l]){i[c][l]=!0,n[c]=n[c]||[],n[c].push(l);for(var h=o(t,t[c][l],c),f=Object.keys(h),d=0;d<f.length;d++)r[f[d]]=r[f[d]]||[],r[f[d]]=r[f[d]].concat(h[f[d]])}}return n}(n,t),a="";Object.keys(i).filter((function(t){return"main"!==t})).forEach((function(t){for(var e=0;i[t][e];)e++;i[t].push(e),n[t][e]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",a=a+"var "+t+" = ("+r.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+i[t].map((function(e){return JSON.stringify(e)+": "+n[t][e].toString()})).join(",")+"});\n"})),a=a+"new (("+r.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+i.main.map((function(t){return JSON.stringify(t)+": "+n.main[t].toString()})).join(",")+"}))(self);";var u=new window.Blob([a],{type:"text/javascript"});if(e.bare)return u;var c=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(u),l=new window.Worker(c);return l.objectURL=c,l}})),i.register("kjc4e",(function(t,e){var r=r||i("7N6ob");t.exports=function(t){var e=null;function n(e){var r=e.data;r instanceof ArrayBuffer?t.postMessage(r,[r]):t.postMessage(r)}function i(e){t.postMessage({type:e.type})}t.addEventListener("message",(function(t){var o=t.data;if("string"==typeof o)e.send(o);else if(o.hasOwnProperty("close"))e.close(),e=null;else{if(!o.hasOwnProperty("uri"))throw"Unknown message to WorkerSocket";var s=o.uri;(e=new r(s)).binaryType="arraybuffer",e.onmessage=n,e.onclose=i,e.onopen=i,e.onerror=i}}))}})),i.register("iYtOJ",(function(t,e){"use strict";var r=i("7yQWi"),n=i("cP8tP"),o=i("8wFa3"),s=null;"undefined"!=typeof bson&&(s=bson().BSON),t.exports=function(t){var e=null;function i(e){"publish"===e.op?t.emit(e.topic,e.msg):"service_response"===e.op?t.emit(e.id,e):"call_service"===e.op?t.emit(e.service,e):"status"===e.op&&(e.id?t.emit("status:"+e.id,e):t.emit("status",e))}function a(t,e){"png"===t.op?r(t.data,e):e(t)}return t.transportOptions.decoder&&(e=t.transportOptions.decoder),{onopen:function(e){t.isConnected=!0,t.emit("connection",e)},onclose:function(e){t.isConnected=!1,t.emit("close",e)},onerror:function(e){t.emit("error",e)},onmessage:function(t){if(e)e(t.data,(function(t){i(t)}));else if("undefined"!=typeof Blob&&t.data instanceof Blob)!function(t,e){if(!s)throw"Cannot process BSON encoded message without BSON header.";var r=new FileReader;r.onload=function(){var t=new Uint8Array(this.result),r=s.deserialize(t);e(r)},r.readAsArrayBuffer(t)}(t.data,(function(t){a(t,i)}));else if(t.data instanceof ArrayBuffer){i(n.decode(t.data,o))}else{a(JSON.parse("string"==typeof t?t:t.data),i)}}}}})),i.register("7yQWi",(function(t,e){"use strict";var r=i("j2ZR8"),n=r.Image||window.Image;t.exports=function(t,e){var i=new n;i.onload=function(){var t=new r,n=t.getContext("2d");t.width=i.width,t.height=i.height,n.imageSmoothingEnabled=!1,n.webkitImageSmoothingEnabled=!1,n.mozImageSmoothingEnabled=!1,n.drawImage(i,0,0);for(var o=n.getImageData(0,0,i.width,i.height).data,s="",a=0;a<o.length;a+=4)s+=String.fromCharCode(o[a],o[a+1],o[a+2]);e(JSON.parse(s))},i.src="data:image/png;base64,"+t}})),i.register("j2ZR8",(function(t,e){t.exports=function(){return document.createElement("canvas")}})),i.register("cP8tP",(function(t,e){!function(e,r){"use strict";var n=Math.pow(2,-24),i=Math.pow(2,32),o=Math.pow(2,53);var s={encode:function(t){var e,n=new ArrayBuffer(256),s=new DataView(n),a=0;function u(t){for(var r=n.byteLength,i=a+t;r<i;)r*=2;if(r!==n.byteLength){var o=s;n=new ArrayBuffer(r),s=new DataView(n);for(var u=a+3>>2,c=0;c<u;++c)s.setUint32(4*c,o.getUint32(4*c))}return e=t,s}function c(){a+=e}function l(t){c(u(1).setUint8(a,t))}function h(t){for(var e=u(t.length),r=0;r<t.length;++r)e.setUint8(a+r,t[r]);c()}function f(t,e){e<24?l(t<<5|e):e<256?(l(t<<5|24),l(e)):e<65536?(l(t<<5|25),function(t){c(u(2).setUint16(a,t))}(e)):e<4294967296?(l(t<<5|26),function(t){c(u(4).setUint32(a,t))}(e)):(l(t<<5|27),function(t){var e=t%i,r=(t-e)/i,n=u(8);n.setUint32(a,r),n.setUint32(a+4,e),c()}(e))}if(function t(e){var n;if(!1===e)return l(244);if(!0===e)return l(245);if(null===e)return l(246);if(e===r)return l(247);switch(typeof e){case"number":if(Math.floor(e)===e){if(0<=e&&e<=o)return f(0,e);if(-o<=e&&e<0)return f(1,-(e+1))}return l(251),function(t){c(u(8).setFloat64(a,t))}(e);case"string":var i=[];for(n=0;n<e.length;++n){var s=e.charCodeAt(n);s<128?i.push(s):s<2048?(i.push(192|s>>6),i.push(128|63&s)):s<55296?(i.push(224|s>>12),i.push(128|s>>6&63),i.push(128|63&s)):(s=(1023&s)<<10,s|=1023&e.charCodeAt(++n),s+=65536,i.push(240|s>>18),i.push(128|s>>12&63),i.push(128|s>>6&63),i.push(128|63&s))}return f(3,i.length),h(i);default:var d;if(Array.isArray(e))for(f(4,d=e.length),n=0;n<d;++n)t(e[n]);else if(e instanceof Uint8Array)f(2,e.length),h(e);else{var p=Object.keys(e);for(f(5,d=p.length),n=0;n<d;++n){var y=p[n];t(y),t(e[y])}}}}(t),"slice"in n)return n.slice(0,a);for(var d=new ArrayBuffer(a),p=new DataView(d),y=0;y<a;++y)p.setUint8(y,s.getUint8(y));return d},decode:function(t,e,o){var s=new DataView(t),a=0;function u(t,e){return a+=e,t}function c(e){return u(new Uint8Array(t,a,e),e)}function l(){return u(s.getUint8(a),1)}function h(){return u(s.getUint16(a),2)}function f(){return u(s.getUint32(a),4)}function d(){return 255===s.getUint8(a)&&(a+=1,!0)}function p(t){if(t<24)return t;if(24===t)return l();if(25===t)return h();if(26===t)return f();if(27===t)return f()*i+f();if(31===t)return-1;throw"Invalid length encoding"}function y(t){var e=l();if(255===e)return-1;var r=p(31&e);if(r<0||e>>5!==t)throw"Invalid indefinite length element";return r}function v(t,e){for(var r=0;r<e;++r){var n=l();128&n&&(n<224?(n=(31&n)<<6|63&l(),e-=1):n<240?(n=(15&n)<<12|(63&l())<<6|63&l(),e-=2):(n=(15&n)<<18|(63&l())<<12|(63&l())<<6|63&l(),e-=3)),n<65536?t.push(n):(n-=65536,t.push(55296|n>>10),t.push(56320|1023&n))}}"function"!=typeof e&&(e=function(t){return t}),"function"!=typeof o&&(o=function(){return r});var m=function t(){var i,f,m=l(),g=m>>5,b=31&m;if(7===g)switch(b){case 25:return function(){var t=new ArrayBuffer(4),e=new DataView(t),r=h(),i=32768&r,o=31744&r,s=1023&r;if(31744===o)o=261120;else if(0!==o)o+=114688;else if(0!==s)return s*n;return e.setUint32(0,i<<16|o<<13|s<<13),e.getFloat32(0)}();case 26:return u(s.getFloat32(a),4);case 27:return u(s.getFloat64(a),8)}if((f=p(b))<0&&(g<2||6<g))throw"Invalid length";switch(g){case 0:return f;case 1:return-1-f;case 2:if(f<0){for(var w=[],_=0;(f=y(g))>=0;)_+=f,w.push(c(f));var S=new Uint8Array(_),E=0;for(i=0;i<w.length;++i)S.set(w[i],E),E+=w[i].length;return S}return c(f);case 3:var x=[];if(f<0)for(;(f=y(g))>=0;)v(x,f);else v(x,f);return String.fromCharCode.apply(null,x);case 4:var O;if(f<0)for(O=[];!d();)O.push(t());else for(O=new Array(f),i=0;i<f;++i)O[i]=t();return O;case 5:var C={};for(i=0;i<f||f<0&&!d();++i){C[t()]=t()}return C;case 6:return e(t(),f);case 7:switch(f){case 20:return!1;case 21:return!0;case 22:return null;case 23:return r;default:return o(f)}}}();if(a!==t.byteLength)throw"Remaining bytes";return m}};"function"==typeof define&&define.amd?define("cbor/cbor",s):t.exports?t.exports=s:e.CBOR||(e.CBOR=s)}(t.exports)})),i.register("8wFa3",(function(t,e){"use strict";var r=Math.pow(2,32),n=!1;function i(){n||(n=!0,console.warn("CBOR 64-bit integer array values may lose precision. No further warnings."))}var o={64:Uint8Array,69:Uint16Array,70:Uint32Array,72:Int8Array,77:Int16Array,78:Int32Array,85:Float32Array,86:Float64Array},s={71:function(t){i();for(var e=t.byteLength,n=t.byteOffset,o=e/8,s=t.buffer.slice(n,n+e),a=new Uint32Array(s),u=new Array(o),c=0;c<o;c++){var l=2*c,h=a[l],f=a[l+1];u[c]=h+r*f}return u},79:function(t){i();for(var e=t.byteLength,n=t.byteOffset,o=e/8,s=t.buffer.slice(n,n+e),a=new Uint32Array(s),u=new Int32Array(s),c=new Array(o),l=0;l<o;l++){var h=2*l,f=a[h],d=u[h+1];c[l]=f+r*d}return c}};t.exports&&(t.exports=function(t,e){var r,n,i,a;return e in o?(n=o[e],i=(r=t).byteLength,a=r.byteOffset,new n(r.buffer.slice(a,a+i))):e in s?s[e](t):t})})),i.register("fAaBp",(function(t,e){var r=i("a3MgN");i("g7Gjb");var n=i("6xZrn").EventEmitter2;function o(t){t=t||{},this.ros=t.ros,this.name=t.name,this.serviceType=t.serviceType,this.isAdvertised=!1,this._serviceCallback=null}o.prototype.__proto__=n.prototype,o.prototype.callService=function(t,e,n){if(!this.isAdvertised){var i="call_service:"+this.name+":"+ ++this.ros.idCounter;(e||n)&&this.ros.once(i,(function(t){void 0!==t.result&&!1===t.result?"function"==typeof n&&n(t.values):"function"==typeof e&&e(new r(t.values))}));var o={op:"call_service",id:i,service:this.name,type:this.serviceType,args:t};this.ros.callOnConnection(o)}},o.prototype.advertise=function(t){this.isAdvertised||"function"!=typeof t||(this._serviceCallback=t,this.ros.on(this.name,this._serviceResponse.bind(this)),this.ros.callOnConnection({op:"advertise_service",type:this.serviceType,service:this.name}),this.isAdvertised=!0)},o.prototype.unadvertise=function(){this.isAdvertised&&(this.ros.callOnConnection({op:"unadvertise_service",service:this.name}),this.isAdvertised=!1)},o.prototype._serviceResponse=function(t){var e={},n=this._serviceCallback(t.args,e),i={op:"service_response",service:this.name,values:new r(e),result:n};t.id&&(i.id=t.id),this.ros.callOnConnection(i)},t.exports=o})),i.register("a3MgN",(function(t,e){var r=i("8wVEU");t.exports=function(t){r(this,t)}})),i.register("g7Gjb",(function(t,e){var r=i("8wVEU");t.exports=function(t){r(this,t)}})),i.register("6xZrn",(function(t,e){var r=i("b28Wo");!function(e){var n=Object.hasOwnProperty,i=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},o="object"==typeof r&&"function"==typeof r.nextTick,s="function"==typeof Symbol,a="object"==typeof Reflect,u="function"==typeof setImmediate?setImmediate:setTimeout,c=s?a&&"function"==typeof Reflect.ownKeys?Reflect.ownKeys:function(t){var e=Object.getOwnPropertyNames(t);return e.push.apply(e,Object.getOwnPropertySymbols(t)),e}:Object.keys;function l(){this._events={},this._conf&&h.call(this,this._conf)}function h(t){t&&(this._conf=t,t.delimiter&&(this.delimiter=t.delimiter),t.maxListeners!==e&&(this._maxListeners=t.maxListeners),t.wildcard&&(this.wildcard=t.wildcard),t.newListener&&(this._newListener=t.newListener),t.removeListener&&(this._removeListener=t.removeListener),t.verboseMemoryLeak&&(this.verboseMemoryLeak=t.verboseMemoryLeak),t.ignoreErrors&&(this.ignoreErrors=t.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function f(t,e){var n="(node) warning: possible EventEmitter memory leak detected. "+t+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(n+=" Event name: "+e+"."),void 0!==r&&r.emitWarning){var i=new Error(n);i.name="MaxListenersExceededWarning",i.emitter=this,i.count=t,r.emitWarning(i)}else console.error(n),console.trace&&console.trace()}var d=function(t,e,r){var n=arguments.length;switch(n){case 0:return[];case 1:return[t];case 2:return[t,e];case 3:return[t,e,r];default:for(var i=new Array(n);n--;)i[n]=arguments[n];return i}};function p(t,r){for(var n={},i=t.length,o=r?r.length:0,s=0;s<i;s++)n[t[s]]=s<o?r[s]:e;return n}function y(t,e,r){var n,i;if(this._emitter=t,this._target=e,this._listeners={},this._listenersCount=0,(r.on||r.off)&&(n=r.on,i=r.off),e.addEventListener?(n=e.addEventListener,i=e.removeEventListener):e.addListener?(n=e.addListener,i=e.removeListener):e.on&&(n=e.on,i=e.off),!n&&!i)throw Error("target does not implement any known event API");if("function"!=typeof n)throw TypeError("on method must be a function");if("function"!=typeof i)throw TypeError("off method must be a function");this._on=n,this._off=i;var o=t._observers;o?o.push(this):t._observers=[this]}function v(t,r,i,o){var s=Object.assign({},r);if(!t)return s;if("object"!=typeof t)throw TypeError("options must be an object");var a,u,c,l=Object.keys(t),h=l.length;function f(t){throw Error('Invalid "'+a+'" option value'+(t?". Reason: "+t:""))}for(var d=0;d<h;d++){if(a=l[d],!o&&!n.call(r,a))throw Error('Unknown "'+a+'" option');(u=t[a])!==e&&(c=i[a],s[a]=c?c(u,f):u)}return s}function m(t,e){return"function"==typeof t&&t.hasOwnProperty("prototype")||e("value must be a constructor"),t}function g(t){var e="value must be type of "+t.join("|"),r=t.length,n=t[0],i=t[1];return 1===r?function(t,r){if(typeof t===n)return t;r(e)}:2===r?function(t,r){var o=typeof t;if(o===n||o===i)return t;r(e)}:function(n,i){for(var o=typeof n,s=r;s-- >0;)if(o===t[s])return n;i(e)}}Object.assign(y.prototype,{subscribe:function(t,e,r){var n=this,i=this._target,o=this._emitter,s=this._listeners,a=function(){var n=d.apply(null,arguments),s={data:n,name:e,original:t};if(r){var a=r.call(i,s);!1!==a&&o.emit.apply(o,[s.name].concat(n))}else o.emit.apply(o,[e].concat(n))};if(s[t])throw Error("Event '"+t+"' is already listening");this._listenersCount++,o._newListener&&o._removeListener&&!n._onNewListener?(this._onNewListener=function(r){r===e&&null===s[t]&&(s[t]=a,n._on.call(i,t,a))},o.on("newListener",this._onNewListener),this._onRemoveListener=function(r){r===e&&!o.hasListeners(r)&&s[t]&&(s[t]=null,n._off.call(i,t,a))},s[t]=null,o.on("removeListener",this._onRemoveListener)):(s[t]=a,n._on.call(i,t,a))},unsubscribe:function(t){var e,r,n,i=this,o=this._listeners,s=this._emitter,a=this._off,u=this._target;if(t&&"string"!=typeof t)throw TypeError("event must be a string");function l(){i._onNewListener&&(s.off("newListener",i._onNewListener),s.off("removeListener",i._onRemoveListener),i._onNewListener=null,i._onRemoveListener=null);var t=S.call(s,i);s._observers.splice(t,1)}if(t){if(!(e=o[t]))return;a.call(u,t,e),delete o[t],--this._listenersCount||l()}else{for(n=(r=c(o)).length;n-- >0;)t=r[n],a.call(u,t,o[t]);this._listeners={},this._listenersCount=0,l()}}});var b=g(["function"]),w=g(["object","function"]);function _(t,e,r){var n,i,o,s=0,a=new t((function(u,c,l){function h(){i&&(i=null),s&&(clearTimeout(s),s=0)}r=v(r,{timeout:0,overload:!1},{timeout:function(t,e){return("number"!=typeof(t*=1)||t<0||!Number.isFinite(t))&&e("timeout must be a positive number"),t}}),n=!r.overload&&"function"==typeof t.prototype.cancel&&"function"==typeof l;var f=function(t){h(),u(t)},d=function(t){h(),c(t)};n?e(f,d,l):(i=[function(t){d(t||Error("canceled"))}],e(f,d,(function(t){if(o)throw Error("Unable to subscribe on cancel event asynchronously");if("function"!=typeof t)throw TypeError("onCancel callback must be a function");i.push(t)})),o=!0),r.timeout>0&&(s=setTimeout((function(){var t=Error("timeout");t.code="ETIMEDOUT",s=0,a.cancel(t),c(t)}),r.timeout))}));return n||(a.cancel=function(t){if(i){for(var e=i.length,r=1;r<e;r++)i[r](t);i[0](t),i=null}}),a}function S(t){var e=this._observers;if(!e)return-1;for(var r=e.length,n=0;n<r;n++)if(e[n]._target===t)return n;return-1}function E(t,e,r,n,i){if(!r)return null;if(0===n){var o=typeof e;if("string"===o){var s,a,u=0,l=0,h=this.delimiter,f=h.length;if(-1!==(a=e.indexOf(h))){s=new Array(5);do{s[u++]=e.slice(l,a),l=a+f}while(-1!==(a=e.indexOf(h,l)));s[u++]=e.slice(l),e=s,i=u}else e=[e],i=1}else"object"===o?i=e.length:(e=[e],i=1)}var d,p,y,v,m,g,b,w=null,_=e[n],S=e[n+1];if(n===i)r._listeners&&("function"==typeof r._listeners?(t&&t.push(r._listeners),w=[r]):(t&&t.push.apply(t,r._listeners),w=[r]));else{if("*"===_){for(a=(g=c(r)).length;a-- >0;)"_listeners"!==(d=g[a])&&(b=E(t,e,r[d],n+1,i))&&(w?w.push.apply(w,b):w=b);return w}if("**"===_){for((m=n+1===i||n+2===i&&"*"===S)&&r._listeners&&(w=E(t,e,r,i,i)),a=(g=c(r)).length;a-- >0;)"_listeners"!==(d=g[a])&&("*"===d||"**"===d?(r[d]._listeners&&!m&&(b=E(t,e,r[d],i,i))&&(w?w.push.apply(w,b):w=b),b=E(t,e,r[d],n,i)):b=E(t,e,r[d],d===S?n+2:n,i),b&&(w?w.push.apply(w,b):w=b));return w}r[_]&&(w=E(t,e,r[_],n+1,i))}if((p=r["*"])&&E(t,e,p,n+1,i),y=r["**"])if(n<i)for(y._listeners&&E(t,e,y,i,i),a=(g=c(y)).length;a-- >0;)"_listeners"!==(d=g[a])&&(d===S?E(t,e,y[d],n+2,i):d===_?E(t,e,y[d],n+1,i):((v={})[d]=y[d],E(t,e,{"**":v},n+1,i)));else y._listeners?E(t,e,y,i,i):y["*"]&&y["*"]._listeners&&E(t,e,y["*"],i,i);return w}function x(t,e,r){var n,i,o=0,s=0,a=this.delimiter,u=a.length;if("string"==typeof t)if(-1!==(n=t.indexOf(a))){i=new Array(5);do{i[o++]=t.slice(s,n),s=n+u}while(-1!==(n=t.indexOf(a,s)));i[o++]=t.slice(s)}else i=[t],o=1;else i=t,o=t.length;if(o>1)for(n=0;n+1<o;n++)if("**"===i[n]&&"**"===i[n+1])return;var c,l=this.listenerTree;for(n=0;n<o;n++)if(l=l[c=i[n]]||(l[c]={}),n===o-1)return l._listeners?("function"==typeof l._listeners&&(l._listeners=[l._listeners]),r?l._listeners.unshift(e):l._listeners.push(e),!l._listeners.warned&&this._maxListeners>0&&l._listeners.length>this._maxListeners&&(l._listeners.warned=!0,f.call(this,l._listeners.length,c))):l._listeners=e,!0;return!0}function O(t,e,r,n){for(var i,o,s,a,u=c(t),l=u.length,h=t._listeners;l-- >0;)i=t[o=u[l]],s="_listeners"===o?r:r?r.concat(o):[o],a=n||"symbol"==typeof o,h&&e.push(a?s:s.join(this.delimiter)),"object"==typeof i&&O.call(this,i,e,s,a);return e}function C(t){for(var e,r,n,i=c(t),o=i.length;o-- >0;)(e=t[r=i[o]])&&(n=!0,"_listeners"===r||C(e)||delete t[r]);return n}function A(t,e,r){this.emitter=t,this.event=e,this.listener=r}function k(t,n,i){if(!0===i)a=!0;else if(!1===i)s=!0;else{if(!i||"object"!=typeof i)throw TypeError("options should be an object or true");var s=i.async,a=i.promisify,c=i.nextTick,l=i.objectify}if(s||c||a){var h=n,f=n._origin||n;if(c&&!o)throw Error("process.nextTick is not supported");a===e&&(a="AsyncFunction"===n.constructor.name),n=function(){var t=arguments,e=this,n=this.event;return a?c?Promise.resolve():new Promise((function(t){u(t)})).then((function(){return e.event=n,h.apply(e,t)})):(c?r.nextTick:u)((function(){e.event=n,h.apply(e,t)}))},n._async=!0,n._origin=f}return[n,l?new A(this,t,n):this]}function P(t){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,h.call(this,t)}A.prototype.off=function(){return this.emitter.off(this.event,this.listener),this},P.EventEmitter2=P,P.prototype.listenTo=function(t,r,n){if("object"!=typeof t)throw TypeError("target musts be an object");var o=this;function s(e){if("object"!=typeof e)throw TypeError("events must be an object");var r,i=n.reducers,s=S.call(o,t);r=-1===s?new y(o,t,n):o._observers[s];for(var a,u=c(e),l=u.length,h="function"==typeof i,f=0;f<l;f++)a=u[f],r.subscribe(a,e[a]||a,h?i:i&&i[a])}return n=v(n,{on:e,off:e,reducers:e},{on:b,off:b,reducers:w}),i(r)?s(p(r)):s("string"==typeof r?p(r.split(/\s+/)):r),this},P.prototype.stopListeningTo=function(t,e){var r=this._observers;if(!r)return!1;var n,i=r.length,o=!1;if(t&&"object"!=typeof t)throw TypeError("target should be an object");for(;i-- >0;)n=r[i],t&&n._target!==t||(n.unsubscribe(e),o=!0);return o},P.prototype.delimiter=".",P.prototype.setMaxListeners=function(t){t!==e&&(this._maxListeners=t,this._conf||(this._conf={}),this._conf.maxListeners=t)},P.prototype.getMaxListeners=function(){return this._maxListeners},P.prototype.event="",P.prototype.once=function(t,e,r){return this._once(t,e,!1,r)},P.prototype.prependOnceListener=function(t,e,r){return this._once(t,e,!0,r)},P.prototype._once=function(t,e,r,n){return this._many(t,1,e,r,n)},P.prototype.many=function(t,e,r,n){return this._many(t,e,r,!1,n)},P.prototype.prependMany=function(t,e,r,n){return this._many(t,e,r,!0,n)},P.prototype._many=function(t,e,r,n,i){var o=this;if("function"!=typeof r)throw new Error("many only accepts instances of Function");function s(){return 0==--e&&o.off(t,s),r.apply(this,arguments)}return s._origin=r,this._on(t,s,n,i)},P.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||l.call(this);var t,e,r,n,i,o,a=arguments[0],u=this.wildcard;if("newListener"===a&&!this._newListener&&!this._events.newListener)return!1;if(u&&(t=a,"newListener"!==a&&"removeListener"!==a&&"object"==typeof a)){if(r=a.length,s)for(n=0;n<r;n++)if("symbol"==typeof a[n]){o=!0;break}o||(a=a.join(this.delimiter))}var c,h=arguments.length;if(this._all&&this._all.length)for(n=0,r=(c=this._all.slice()).length;n<r;n++)switch(this.event=a,h){case 1:c[n].call(this,a);break;case 2:c[n].call(this,a,arguments[1]);break;case 3:c[n].call(this,a,arguments[1],arguments[2]);break;default:c[n].apply(this,arguments)}if(u)c=[],E.call(this,c,t,this.listenerTree,0,r);else{if("function"==typeof(c=this._events[a])){switch(this.event=a,h){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:for(e=new Array(h-1),i=1;i<h;i++)e[i-1]=arguments[i];c.apply(this,e)}return!0}c&&(c=c.slice())}if(c&&c.length){if(h>3)for(e=new Array(h-1),i=1;i<h;i++)e[i-1]=arguments[i];for(n=0,r=c.length;n<r;n++)switch(this.event=a,h){case 1:c[n].call(this);break;case 2:c[n].call(this,arguments[1]);break;case 3:c[n].call(this,arguments[1],arguments[2]);break;default:c[n].apply(this,e)}return!0}if(!this.ignoreErrors&&!this._all&&"error"===a)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},P.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||l.call(this);var t,e,r,n,i,o,a=arguments[0],u=this.wildcard;if("newListener"===a&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(u&&(t=a,"newListener"!==a&&"removeListener"!==a&&"object"==typeof a)){if(n=a.length,s)for(i=0;i<n;i++)if("symbol"==typeof a[i]){e=!0;break}e||(a=a.join(this.delimiter))}var c,h=[],f=arguments.length;if(this._all)for(i=0,n=this._all.length;i<n;i++)switch(this.event=a,f){case 1:h.push(this._all[i].call(this,a));break;case 2:h.push(this._all[i].call(this,a,arguments[1]));break;case 3:h.push(this._all[i].call(this,a,arguments[1],arguments[2]));break;default:h.push(this._all[i].apply(this,arguments))}if(u?(c=[],E.call(this,c,t,this.listenerTree,0)):c=this._events[a],"function"==typeof c)switch(this.event=a,f){case 1:h.push(c.call(this));break;case 2:h.push(c.call(this,arguments[1]));break;case 3:h.push(c.call(this,arguments[1],arguments[2]));break;default:for(r=new Array(f-1),o=1;o<f;o++)r[o-1]=arguments[o];h.push(c.apply(this,r))}else if(c&&c.length){if(c=c.slice(),f>3)for(r=new Array(f-1),o=1;o<f;o++)r[o-1]=arguments[o];for(i=0,n=c.length;i<n;i++)switch(this.event=a,f){case 1:h.push(c[i].call(this));break;case 2:h.push(c[i].call(this,arguments[1]));break;case 3:h.push(c[i].call(this,arguments[1],arguments[2]));break;default:h.push(c[i].apply(this,r))}}else if(!this.ignoreErrors&&!this._all&&"error"===a)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(h)},P.prototype.on=function(t,e,r){return this._on(t,e,!1,r)},P.prototype.prependListener=function(t,e,r){return this._on(t,e,!0,r)},P.prototype.onAny=function(t){return this._onAny(t,!1)},P.prototype.prependAny=function(t){return this._onAny(t,!0)},P.prototype.addListener=P.prototype.on,P.prototype._onAny=function(t,e){if("function"!=typeof t)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),e?this._all.unshift(t):this._all.push(t),this},P.prototype._on=function(t,r,n,i){if("function"==typeof t)return this._onAny(t,r),this;if("function"!=typeof r)throw new Error("on only accepts instances of Function");this._events||l.call(this);var o,s=this;return i!==e&&(r=(o=k.call(this,t,r,i))[0],s=o[1]),this._newListener&&this.emit("newListener",t,r),this.wildcard?(x.call(this,t,r,n),s):(this._events[t]?("function"==typeof this._events[t]&&(this._events[t]=[this._events[t]]),n?this._events[t].unshift(r):this._events[t].push(r),!this._events[t].warned&&this._maxListeners>0&&this._events[t].length>this._maxListeners&&(this._events[t].warned=!0,f.call(this,this._events[t].length,t))):this._events[t]=r,s)},P.prototype.off=function(t,e){if("function"!=typeof e)throw new Error("removeListener only takes instances of Function");var r,n=[];if(this.wildcard){var o="string"==typeof t?t.split(this.delimiter):t.slice();if(!(n=E.call(this,null,o,this.listenerTree,0)))return this}else{if(!this._events[t])return this;r=this._events[t],n.push({_listeners:r})}for(var s=0;s<n.length;s++){var a=n[s];if(r=a._listeners,i(r)){for(var u=-1,c=0,l=r.length;c<l;c++)if(r[c]===e||r[c].listener&&r[c].listener===e||r[c]._origin&&r[c]._origin===e){u=c;break}if(u<0)continue;return this.wildcard?a._listeners.splice(u,1):this._events[t].splice(u,1),0===r.length&&(this.wildcard?delete a._listeners:delete this._events[t]),this._removeListener&&this.emit("removeListener",t,e),this}(r===e||r.listener&&r.listener===e||r._origin&&r._origin===e)&&(this.wildcard?delete a._listeners:delete this._events[t],this._removeListener&&this.emit("removeListener",t,e))}return this.listenerTree&&C(this.listenerTree),this},P.prototype.offAny=function(t){var e,r=0,n=0;if(t&&this._all&&this._all.length>0){for(r=0,n=(e=this._all).length;r<n;r++)if(t===e[r])return e.splice(r,1),this._removeListener&&this.emit("removeListenerAny",t),this}else{if(e=this._all,this._removeListener)for(r=0,n=e.length;r<n;r++)this.emit("removeListenerAny",e[r]);this._all=[]}return this},P.prototype.removeListener=P.prototype.off,P.prototype.removeAllListeners=function(t){if(t===e)return!this._events||l.call(this),this;if(this.wildcard){var r,n=E.call(this,null,t,this.listenerTree,0);if(!n)return this;for(r=0;r<n.length;r++)n[r]._listeners=null;this.listenerTree&&C(this.listenerTree)}else this._events&&(this._events[t]=null);return this},P.prototype.listeners=function(t){var r,n,i,o,s,a=this._events;if(t===e){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!a)return[];for(o=(r=c(a)).length,i=[];o-- >0;)"function"==typeof(n=a[r[o]])?i.push(n):i.push.apply(i,n);return i}if(this.wildcard){if(!(s=this.listenerTree))return[];var u=[],l="string"==typeof t?t.split(this.delimiter):t.slice();return E.call(this,u,l,s,0),u}return a&&(n=a[t])?"function"==typeof n?[n]:n:[]},P.prototype.eventNames=function(t){var e=this._events;return this.wildcard?O.call(this,this.listenerTree,[],null,t):e?c(e):[]},P.prototype.listenerCount=function(t){return this.listeners(t).length},P.prototype.hasListeners=function(t){if(this.wildcard){var r=[],n="string"==typeof t?t.split(this.delimiter):t.slice();return E.call(this,r,n,this.listenerTree,0),r.length>0}var i=this._events,o=this._all;return!!(o&&o.length||i&&(t===e?c(i).length:i[t]))},P.prototype.listenersAny=function(){return this._all?this._all:[]},P.prototype.waitFor=function(t,r){var n=this,i=typeof r;return"number"===i?r={timeout:r}:"function"===i&&(r={filter:r}),_((r=v(r,{timeout:0,filter:e,handleError:!1,Promise:Promise,overload:!1},{filter:b,Promise:m})).Promise,(function(e,i,o){function s(){var o=r.filter;if(!o||o.apply(n,arguments))if(n.off(t,s),r.handleError){var a=arguments[0];a?i(a):e(d.apply(null,arguments).slice(1))}else e(d.apply(null,arguments))}o((function(){n.off(t,s)})),n._on(t,s,!1)}),{timeout:r.timeout,overload:r.overload})};var j=P.prototype;(Object.defineProperties(P,{defaultMaxListeners:{get:function(){return j._maxListeners},set:function(t){if("number"!=typeof t||t<0||Number.isNaN(t))throw TypeError("n must be a non-negative number");j._maxListeners=t},enumerable:!0},once:{value:function(t,e,r){return _((r=v(r,{Promise:Promise,timeout:0,overload:!1},{Promise:m})).Promise,(function(r,n,i){var o;if("function"==typeof t.addEventListener)return o=function(){r(d.apply(null,arguments))},i((function(){t.removeEventListener(e,o)})),void t.addEventListener(e,o,{once:!0});var s,a=function(){s&&t.removeListener("error",s),r(d.apply(null,arguments))};"error"!==e&&(s=function(r){t.removeListener(e,a),n(r)},t.once("error",s)),i((function(){s&&t.removeListener("error",s),t.removeListener(e,a)})),t.once(e,a)}),{timeout:r.timeout,overload:r.overload})},writable:!0,configurable:!0}}),Object.defineProperties(j,{_maxListeners:{value:10,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),"function"==typeof define&&define.amd)?define((function(){return P})):t.exports=P}()})),i.register("75uGY",(function(t,e){var r=i("6xZrn").EventEmitter2,n=i("68MZx");function o(t){t=t||{},this.ros=t.ros,this.name=t.name,this.messageType=t.messageType,this.isAdvertised=!1,this.compression=t.compression||"none",this.throttle_rate=t.throttle_rate||0,this.latch=t.latch||!1,this.queue_size=t.queue_size||100,this.queue_length=t.queue_length||0,this.reconnect_on_close=void 0===t.reconnect_on_close||t.reconnect_on_close,this.compression&&"png"!==this.compression&&"cbor"!==this.compression&&"cbor-raw"!==this.compression&&"none"!==this.compression&&(this.emit("warning",this.compression+" compression is not supported. No compression will be used."),this.compression="none"),this.throttle_rate<0&&(this.emit("warning",this.throttle_rate+" is not allowed. Set to 0"),this.throttle_rate=0);var e=this;this.reconnect_on_close?this.callForSubscribeAndAdvertise=function(t){e.ros.callOnConnection(t),e.waitForReconnect=!1,e.reconnectFunc=function(){e.waitForReconnect||(e.waitForReconnect=!0,e.ros.callOnConnection(t),e.ros.once("connection",(function(){e.waitForReconnect=!1})))},e.ros.on("close",e.reconnectFunc)}:this.callForSubscribeAndAdvertise=this.ros.callOnConnection,this._messageCallback=function(t){e.emit("message",new n(t))}}o.prototype.__proto__=r.prototype,o.prototype.subscribe=function(t){"function"==typeof t&&this.on("message",t),this.subscribeId||(this.ros.on(this.name,this._messageCallback),this.subscribeId="subscribe:"+this.name+":"+ ++this.ros.idCounter,this.callForSubscribeAndAdvertise({op:"subscribe",id:this.subscribeId,type:this.messageType,topic:this.name,compression:this.compression,throttle_rate:this.throttle_rate,queue_length:this.queue_length}))},o.prototype.unsubscribe=function(t){t&&(this.off("message",t),this.listeners("message").length)||this.subscribeId&&(this.ros.off(this.name,this._messageCallback),this.reconnect_on_close&&this.ros.off("close",this.reconnectFunc),this.emit("unsubscribe"),this.ros.callOnConnection({op:"unsubscribe",id:this.subscribeId,topic:this.name}),this.subscribeId=null)},o.prototype.advertise=function(){if(!this.isAdvertised&&(this.advertiseId="advertise:"+this.name+":"+ ++this.ros.idCounter,this.callForSubscribeAndAdvertise({op:"advertise",id:this.advertiseId,type:this.messageType,topic:this.name,latch:this.latch,queue_size:this.queue_size}),this.isAdvertised=!0,!this.reconnect_on_close)){var t=this;this.ros.on("close",(function(){t.isAdvertised=!1}))}},o.prototype.unadvertise=function(){this.isAdvertised&&(this.reconnect_on_close&&this.ros.off("close",this.reconnectFunc),this.emit("unadvertise"),this.ros.callOnConnection({op:"unadvertise",id:this.advertiseId,topic:this.name}),this.isAdvertised=!1)},o.prototype.publish=function(t){this.isAdvertised||this.advertise(),this.ros.idCounter++;var e={op:"publish",id:"publish:"+this.name+":"+this.ros.idCounter,topic:this.name,msg:t,latch:this.latch};this.ros.callOnConnection(e)},t.exports=o})),i.register("68MZx",(function(t,e){var r=i("8wVEU");t.exports=function(t){r(this,t)}})),i.register("5LxVP",(function(t,e){var r=i("fAaBp"),n=i("g7Gjb");function o(t){t=t||{},this.ros=t.ros,this.name=t.name}o.prototype.get=function(t){var e=new r({ros:this.ros,name:"/rosapi/get_param",serviceType:"rosapi/GetParam"}),i=new n({name:this.name});e.callService(i,(function(e){var r=JSON.parse(e.value);t(r)}))},o.prototype.set=function(t,e){var i=new r({ros:this.ros,name:"/rosapi/set_param",serviceType:"rosapi/SetParam"}),o=new n({name:this.name,value:JSON.stringify(t)});i.callService(o,e)},o.prototype.delete=function(t){var e=new r({ros:this.ros,name:"/rosapi/delete_param",serviceType:"rosapi/DeleteParam"}),i=new n({name:this.name});e.callService(i,t)},t.exports=o})),i.register("eYAa2",(function(t,e){var r=i("jm3l7");i("5vxty")(r,["ActionClient","SimpleActionServer"],t.exports={ActionClient:i("5dvze"),ActionListener:i("34Qp0"),Goal:i("idFu6"),SimpleActionServer:i("8T6Mo")})})),i.register("5dvze",(function(t,e){var r=i("75uGY"),n=i("68MZx"),o=i("6xZrn").EventEmitter2;function s(t){var e=this;t=t||{},this.ros=t.ros,this.serverName=t.serverName,this.actionName=t.actionName,this.timeout=t.timeout,this.omitFeedback=t.omitFeedback,this.omitStatus=t.omitStatus,this.omitResult=t.omitResult,this.goals={};var n=!1;this.feedbackListener=new r({ros:this.ros,name:this.serverName+"/feedback",messageType:this.actionName+"Feedback"}),this.statusListener=new r({ros:this.ros,name:this.serverName+"/status",messageType:"actionlib_msgs/GoalStatusArray"}),this.resultListener=new r({ros:this.ros,name:this.serverName+"/result",messageType:this.actionName+"Result"}),this.goalTopic=new r({ros:this.ros,name:this.serverName+"/goal",messageType:this.actionName+"Goal"}),this.cancelTopic=new r({ros:this.ros,name:this.serverName+"/cancel",messageType:"actionlib_msgs/GoalID"}),this.goalTopic.advertise(),this.cancelTopic.advertise(),this.omitStatus||this.statusListener.subscribe((function(t){n=!0,t.status_list.forEach((function(t){var r=e.goals[t.goal_id.id];r&&r.emit("status",t)}))})),this.omitFeedback||this.feedbackListener.subscribe((function(t){var r=e.goals[t.status.goal_id.id];r&&(r.emit("status",t.status),r.emit("feedback",t.feedback))})),this.omitResult||this.resultListener.subscribe((function(t){var r=e.goals[t.status.goal_id.id];r&&(r.emit("status",t.status),r.emit("result",t.result))})),this.timeout&&setTimeout((function(){n||e.emit("timeout")}),this.timeout)}s.prototype.__proto__=o.prototype,s.prototype.cancel=function(){var t=new n;this.cancelTopic.publish(t)},s.prototype.dispose=function(){this.goalTopic.unadvertise(),this.cancelTopic.unadvertise(),this.omitStatus||this.statusListener.unsubscribe(),this.omitFeedback||this.feedbackListener.unsubscribe(),this.omitResult||this.resultListener.unsubscribe()},t.exports=s})),i.register("34Qp0",(function(t,e){var r=i("75uGY");i("68MZx");var n=i("6xZrn").EventEmitter2;function o(t){var e=this;t=t||{},this.ros=t.ros,this.serverName=t.serverName,this.actionName=t.actionName,this.timeout=t.timeout,this.omitFeedback=t.omitFeedback,this.omitStatus=t.omitStatus,this.omitResult=t.omitResult;var n=new r({ros:this.ros,name:this.serverName+"/goal",messageType:this.actionName+"Goal"}),i=new r({ros:this.ros,name:this.serverName+"/feedback",messageType:this.actionName+"Feedback"}),o=new r({ros:this.ros,name:this.serverName+"/status",messageType:"actionlib_msgs/GoalStatusArray"}),s=new r({ros:this.ros,name:this.serverName+"/result",messageType:this.actionName+"Result"});n.subscribe((function(t){e.emit("goal",t)})),o.subscribe((function(t){t.status_list.forEach((function(t){e.emit("status",t)}))})),i.subscribe((function(t){e.emit("status",t.status),e.emit("feedback",t.feedback)})),s.subscribe((function(t){e.emit("status",t.status),e.emit("result",t.result)}))}o.prototype.__proto__=n.prototype,t.exports=o})),i.register("idFu6",(function(t,e){var r=i("68MZx"),n=i("6xZrn").EventEmitter2;function o(t){var e=this;this.actionClient=t.actionClient,this.goalMessage=t.goalMessage,this.isFinished=!1;var n=new Date;this.goalID="goal_"+Math.random()+"_"+n.getTime(),this.goalMessage=new r({goal_id:{stamp:{secs:0,nsecs:0},id:this.goalID},goal:this.goalMessage}),this.on("status",(function(t){e.status=t})),this.on("result",(function(t){e.isFinished=!0,e.result=t})),this.on("feedback",(function(t){e.feedback=t})),this.actionClient.goals[this.goalID]=this}o.prototype.__proto__=n.prototype,o.prototype.send=function(t){var e=this;e.actionClient.goalTopic.publish(e.goalMessage),t&&setTimeout((function(){e.isFinished||e.emit("timeout")}),t)},o.prototype.cancel=function(){var t=new r({id:this.goalID});this.actionClient.cancelTopic.publish(t)},t.exports=o})),i.register("8T6Mo",(function(t,e){var r=i("75uGY"),n=i("68MZx"),o=i("6xZrn").EventEmitter2;function s(t){var e=this;t=t||{},this.ros=t.ros,this.serverName=t.serverName,this.actionName=t.actionName,this.feedbackPublisher=new r({ros:this.ros,name:this.serverName+"/feedback",messageType:this.actionName+"Feedback"}),this.feedbackPublisher.advertise();var i=new r({ros:this.ros,name:this.serverName+"/status",messageType:"actionlib_msgs/GoalStatusArray"});i.advertise(),this.resultPublisher=new r({ros:this.ros,name:this.serverName+"/result",messageType:this.actionName+"Result"}),this.resultPublisher.advertise();var o=new r({ros:this.ros,name:this.serverName+"/goal",messageType:this.actionName+"Goal"}),s=new r({ros:this.ros,name:this.serverName+"/cancel",messageType:"actionlib_msgs/GoalID"});this.statusMessage=new n({header:{stamp:{secs:0,nsecs:100},frame_id:""},status_list:[]}),this.currentGoal=null,this.nextGoal=null,o.subscribe((function(t){e.currentGoal?(e.nextGoal=t,e.emit("cancel")):(e.statusMessage.status_list=[{goal_id:t.goal_id,status:1}],e.currentGoal=t,e.emit("goal",t.goal))}));var a=function(t,e){return!(t.secs>e.secs)&&(t.secs<e.secs||t.nsecs<e.nsecs)};s.subscribe((function(t){0===t.stamp.secs&&0===t.stamp.secs&&""===t.id?(e.nextGoal=null,e.currentGoal&&e.emit("cancel")):(e.currentGoal&&t.id===e.currentGoal.goal_id.id?e.emit("cancel"):e.nextGoal&&t.id===e.nextGoal.goal_id.id&&(e.nextGoal=null),e.nextGoal&&a(e.nextGoal.goal_id.stamp,t.stamp)&&(e.nextGoal=null),e.currentGoal&&a(e.currentGoal.goal_id.stamp,t.stamp)&&e.emit("cancel"))}));setInterval((function(){var t=new Date,r=Math.floor(t.getTime()/1e3),n=Math.round(1e9*(t.getTime()/1e3-r));e.statusMessage.header.stamp.secs=r,e.statusMessage.header.stamp.nsecs=n,i.publish(e.statusMessage)}),500)}s.prototype.__proto__=o.prototype,s.prototype.setSucceeded=function(t){var e=new n({status:{goal_id:this.currentGoal.goal_id,status:3},result:t});this.resultPublisher.publish(e),this.statusMessage.status_list=[],this.nextGoal?(this.currentGoal=this.nextGoal,this.nextGoal=null,this.emit("goal",this.currentGoal.goal)):this.currentGoal=null},s.prototype.setAborted=function(t){var e=new n({status:{goal_id:this.currentGoal.goal_id,status:4},result:t});this.resultPublisher.publish(e),this.statusMessage.status_list=[],this.nextGoal?(this.currentGoal=this.nextGoal,this.nextGoal=null,this.emit("goal",this.currentGoal.goal)):this.currentGoal=null},s.prototype.sendFeedback=function(t){var e=new n({status:{goal_id:this.currentGoal.goal_id,status:1},feedback:t});this.feedbackPublisher.publish(e)},s.prototype.setPreempted=function(){this.statusMessage.status_list=[];var t=new n({status:{goal_id:this.currentGoal.goal_id,status:2}});this.resultPublisher.publish(t),this.nextGoal?(this.currentGoal=this.nextGoal,this.nextGoal=null,this.emit("goal",this.currentGoal.goal)):this.currentGoal=null},t.exports=s})),i.register("cFx3N",(function(t,e){t.exports={Pose:i("62N6a"),Quaternion:i("aRMdV"),Transform:i("8wGc7"),Vector3:i("g4y5f")}})),i.register("62N6a",(function(t,e){var r=i("g4y5f"),n=i("aRMdV");function o(t){t=t||{},this.position=new r(t.position),this.orientation=new n(t.orientation)}o.prototype.applyTransform=function(t){this.position.multiplyQuaternion(t.rotation),this.position.add(t.translation);var e=t.rotation.clone();e.multiply(this.orientation),this.orientation=e},o.prototype.clone=function(){return new o(this)},o.prototype.multiply=function(t){var e=t.clone();return e.applyTransform({rotation:this.orientation,translation:this.position}),e},o.prototype.getInverse=function(){var t=this.clone();return t.orientation.invert(),t.position.multiplyQuaternion(t.orientation),t.position.x*=-1,t.position.y*=-1,t.position.z*=-1,t},t.exports=o})),i.register("g4y5f",(function(t,e){function r(t){t=t||{},this.x=t.x||0,this.y=t.y||0,this.z=t.z||0}r.prototype.add=function(t){this.x+=t.x,this.y+=t.y,this.z+=t.z},r.prototype.subtract=function(t){this.x-=t.x,this.y-=t.y,this.z-=t.z},r.prototype.multiplyQuaternion=function(t){var e=t.w*this.x+t.y*this.z-t.z*this.y,r=t.w*this.y+t.z*this.x-t.x*this.z,n=t.w*this.z+t.x*this.y-t.y*this.x,i=-t.x*this.x-t.y*this.y-t.z*this.z;this.x=e*t.w+i*-t.x+r*-t.z-n*-t.y,this.y=r*t.w+i*-t.y+n*-t.x-e*-t.z,this.z=n*t.w+i*-t.z+e*-t.y-r*-t.x},r.prototype.clone=function(){return new r(this)},t.exports=r})),i.register("aRMdV",(function(t,e){function r(t){t=t||{},this.x=t.x||0,this.y=t.y||0,this.z=t.z||0,this.w="number"==typeof t.w?t.w:1}r.prototype.conjugate=function(){this.x*=-1,this.y*=-1,this.z*=-1},r.prototype.norm=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},r.prototype.normalize=function(){var t=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);0===t?(this.x=0,this.y=0,this.z=0,this.w=1):(t=1/t,this.x=this.x*t,this.y=this.y*t,this.z=this.z*t,this.w=this.w*t)},r.prototype.invert=function(){this.conjugate(),this.normalize()},r.prototype.multiply=function(t){var e=this.x*t.w+this.y*t.z-this.z*t.y+this.w*t.x,r=-this.x*t.z+this.y*t.w+this.z*t.x+this.w*t.y,n=this.x*t.y-this.y*t.x+this.z*t.w+this.w*t.z,i=-this.x*t.x-this.y*t.y-this.z*t.z+this.w*t.w;this.x=e,this.y=r,this.z=n,this.w=i},r.prototype.clone=function(){return new r(this)},t.exports=r})),i.register("8wGc7",(function(t,e){var r=i("g4y5f"),n=i("aRMdV");function o(t){t=t||{},this.translation=new r(t.translation),this.rotation=new n(t.rotation)}o.prototype.clone=function(){return new o(this)},t.exports=o})),i.register("3EONg",(function(t,e){var r=i("jm3l7");i("5vxty")(r,["TFClient"],t.exports={TFClient:i("1eflC")})})),i.register("1eflC",(function(t,e){var r=i("5dvze"),n=i("idFu6"),o=i("fAaBp"),s=i("g7Gjb"),a=i("75uGY"),u=i("8wGc7");function c(t){t=t||{},this.ros=t.ros,this.fixedFrame=t.fixedFrame||"/base_link",this.angularThres=t.angularThres||2,this.transThres=t.transThres||.01,this.rate=t.rate||10,this.updateDelay=t.updateDelay||50;var e=t.topicTimeout||2,n=Math.floor(e),i=Math.floor(1e9*(e-n));this.topicTimeout={secs:n,nsecs:i},this.serverName=t.serverName||"/tf2_web_republisher",this.repubServiceName=t.repubServiceName||"/republish_tfs",this.currentGoal=!1,this.currentTopic=!1,this.frameInfos={},this.republisherUpdateRequested=!1,this._subscribeCB=null,this._isDisposed=!1,this.actionClient=new r({ros:t.ros,serverName:this.serverName,actionName:"tf2_web_republisher/TFSubscriptionAction",omitStatus:!0,omitResult:!0}),this.serviceClient=new o({ros:t.ros,name:this.repubServiceName,serviceType:"tf2_web_republisher/RepublishTFs"})}c.prototype.processTFArray=function(t){t.transforms.forEach((function(t){var e=t.child_frame_id;"/"===e[0]&&(e=e.substring(1));var r=this.frameInfos[e];r&&(r.transform=new u({translation:t.transform.translation,rotation:t.transform.rotation}),r.cbs.forEach((function(t){t(r.transform)})))}),this)},c.prototype.updateGoal=function(){var t={source_frames:Object.keys(this.frameInfos),target_frame:this.fixedFrame,angular_thres:this.angularThres,trans_thres:this.transThres,rate:this.rate};if(this.ros.groovyCompatibility)this.currentGoal&&this.currentGoal.cancel(),this.currentGoal=new n({actionClient:this.actionClient,goalMessage:t}),this.currentGoal.on("feedback",this.processTFArray.bind(this)),this.currentGoal.send();else{t.timeout=this.topicTimeout;var e=new s(t);this.serviceClient.callService(e,this.processResponse.bind(this))}this.republisherUpdateRequested=!1},c.prototype.processResponse=function(t){this._isDisposed||(this.currentTopic&&this.currentTopic.unsubscribe(this._subscribeCB),this.currentTopic=new a({ros:this.ros,name:t.topic_name,messageType:"tf2_web_republisher/TFArray"}),this._subscribeCB=this.processTFArray.bind(this),this.currentTopic.subscribe(this._subscribeCB))},c.prototype.subscribe=function(t,e){"/"===t[0]&&(t=t.substring(1)),this.frameInfos[t]?this.frameInfos[t].transform&&e(this.frameInfos[t].transform):(this.frameInfos[t]={cbs:[]},this.republisherUpdateRequested||(setTimeout(this.updateGoal.bind(this),this.updateDelay),this.republisherUpdateRequested=!0)),this.frameInfos[t].cbs.push(e)},c.prototype.unsubscribe=function(t,e){"/"===t[0]&&(t=t.substring(1));for(var r=this.frameInfos[t],n=r&&r.cbs||[],i=n.length;i--;)n[i]===e&&n.splice(i,1);e&&0!==n.length||delete this.frameInfos[t]},c.prototype.dispose=function(){this._isDisposed=!0,this.actionClient.dispose(),this.currentTopic&&this.currentTopic.unsubscribe(this._subscribeCB)},t.exports=c})),i.register("iiuw2",(function(t,e){t.exports=i("8wVEU")({UrdfBox:i("05jRz"),UrdfColor:i("1yu1a"),UrdfCylinder:i("ghpuN"),UrdfLink:i("jKhie"),UrdfMaterial:i("a90k5"),UrdfMesh:i("eObPo"),UrdfModel:i("cnxWS"),UrdfSphere:i("Zcsdv"),UrdfVisual:i("5uAti")},i("jS07y"))})),i.register("05jRz",(function(t,e){var r=i("g4y5f"),n=i("jS07y");t.exports=function(t){this.dimension=null,this.type=n.URDF_BOX;var e=t.xml.getAttribute("size").split(" ");this.dimension=new r({x:parseFloat(e[0]),y:parseFloat(e[1]),z:parseFloat(e[2])})}})),i.register("jS07y",(function(t,e){t.exports={URDF_SPHERE:0,URDF_BOX:1,URDF_CYLINDER:2,URDF_MESH:3}})),i.register("1yu1a",(function(t,e){t.exports=function(t){var e=t.xml.getAttribute("rgba").split(" ");this.r=parseFloat(e[0]),this.g=parseFloat(e[1]),this.b=parseFloat(e[2]),this.a=parseFloat(e[3])}})),i.register("ghpuN",(function(t,e){var r=i("jS07y");t.exports=function(t){this.type=r.URDF_CYLINDER,this.length=parseFloat(t.xml.getAttribute("length")),this.radius=parseFloat(t.xml.getAttribute("radius"))}})),i.register("jKhie",(function(t,e){var r=i("5uAti");t.exports=function(t){this.name=t.xml.getAttribute("name"),this.visuals=[];for(var e=t.xml.getElementsByTagName("visual"),n=0;n<e.length;n++)this.visuals.push(new r({xml:e[n]}))}})),i.register("5uAti",(function(t,e){var r=i("62N6a"),n=i("g4y5f"),o=i("aRMdV"),s=i("ghpuN"),a=i("05jRz"),u=i("a90k5"),c=i("eObPo"),l=i("Zcsdv");t.exports=function(t){var e=t.xml;this.origin=null,this.geometry=null,this.material=null,this.name=t.xml.getAttribute("name");var i=e.getElementsByTagName("origin");if(0===i.length)this.origin=new r;else{var h=i[0].getAttribute("xyz"),f=new n;h&&(h=h.split(" "),f=new n({x:parseFloat(h[0]),y:parseFloat(h[1]),z:parseFloat(h[2])}));var d=i[0].getAttribute("rpy"),p=new o;if(d){d=d.split(" ");var y=parseFloat(d[0])/2,v=parseFloat(d[1])/2,m=parseFloat(d[2])/2,g=Math.sin(y)*Math.cos(v)*Math.cos(m)-Math.cos(y)*Math.sin(v)*Math.sin(m),b=Math.cos(y)*Math.sin(v)*Math.cos(m)+Math.sin(y)*Math.cos(v)*Math.sin(m),w=Math.cos(y)*Math.cos(v)*Math.sin(m)-Math.sin(y)*Math.sin(v)*Math.cos(m),_=Math.cos(y)*Math.cos(v)*Math.cos(m)+Math.sin(y)*Math.sin(v)*Math.sin(m);(p=new o({x:g,y:b,z:w,w:_})).normalize()}this.origin=new r({position:f,orientation:p})}var S=e.getElementsByTagName("geometry");if(S.length>0){for(var E=S[0],x=null,O=0;O<E.childNodes.length;O++){var C=E.childNodes[O];if(1===C.nodeType){x=C;break}}var A=x.nodeName;"sphere"===A?this.geometry=new l({xml:x}):"box"===A?this.geometry=new a({xml:x}):"cylinder"===A?this.geometry=new s({xml:x}):"mesh"===A?this.geometry=new c({xml:x}):console.warn("Unknown geometry type "+A)}var k=e.getElementsByTagName("material");k.length>0&&(this.material=new u({xml:k[0]}))}})),i.register("a90k5",(function(t,e){var r=i("1yu1a");function n(t){this.textureFilename=null,this.color=null,this.name=t.xml.getAttribute("name");var e=t.xml.getElementsByTagName("texture");e.length>0&&(this.textureFilename=e[0].getAttribute("filename"));var n=t.xml.getElementsByTagName("color");n.length>0&&(this.color=new r({xml:n[0]}))}n.prototype.isLink=function(){return null===this.color&&null===this.textureFilename};var o=i("8wVEU");n.prototype.assign=function(t){return o(this,t)},t.exports=n})),i.register("eObPo",(function(t,e){var r=i("g4y5f"),n=i("jS07y");t.exports=function(t){this.scale=null,this.type=n.URDF_MESH,this.filename=t.xml.getAttribute("filename");var e=t.xml.getAttribute("scale");if(e){var i=e.split(" ");this.scale=new r({x:parseFloat(i[0]),y:parseFloat(i[1]),z:parseFloat(i[2])})}}})),i.register("Zcsdv",(function(t,e){var r=i("jS07y");t.exports=function(t){this.type=r.URDF_SPHERE,this.radius=parseFloat(t.xml.getAttribute("radius"))}})),i.register("cnxWS",(function(t,e){var r=i("a90k5"),n=i("jKhie"),o=i("9KvK3"),s=i("bsgwr").DOMParser;t.exports=function(t){var e=(t=t||{}).xml,i=t.string;this.materials={},this.links={},this.joints={},i&&(e=(new s).parseFromString(i,"text/xml"));var a=e.documentElement;this.name=a.getAttribute("name");for(var u=a.childNodes,c=0;c<u.length;c++){var l=u[c];if("material"===l.tagName){var h=new r({xml:l});void 0!==this.materials[h.name]?this.materials[h.name].isLink()?this.materials[h.name].assign(h):console.warn("Material "+h.name+"is not unique."):this.materials[h.name]=h}else if("link"===l.tagName){var f=new n({xml:l});if(void 0!==this.links[f.name])console.warn("Link "+f.name+" is not unique.");else{for(var d=0;d<f.visuals.length;d++){var p=f.visuals[d].material;null!==p&&p.name&&(void 0!==this.materials[p.name]?f.visuals[d].material=this.materials[p.name]:this.materials[p.name]=p)}this.links[f.name]=f}}else if("joint"===l.tagName){var y=new o({xml:l});this.joints[y.name]=y}}}})),i.register("9KvK3",(function(t,e){var r=i("62N6a"),n=i("g4y5f"),o=i("aRMdV");t.exports=function(t){this.name=t.xml.getAttribute("name"),this.type=t.xml.getAttribute("type");var e=t.xml.getElementsByTagName("parent");e.length>0&&(this.parent=e[0].getAttribute("link"));var i=t.xml.getElementsByTagName("child");i.length>0&&(this.child=i[0].getAttribute("link"));var s=t.xml.getElementsByTagName("limit");s.length>0&&(this.minval=parseFloat(s[0].getAttribute("lower")),this.maxval=parseFloat(s[0].getAttribute("upper")));var a=t.xml.getElementsByTagName("origin");if(0===a.length)this.origin=new r;else{var u=a[0].getAttribute("xyz"),c=new n;u&&(u=u.split(" "),c=new n({x:parseFloat(u[0]),y:parseFloat(u[1]),z:parseFloat(u[2])}));var l=a[0].getAttribute("rpy"),h=new o;if(l){l=l.split(" ");var f=parseFloat(l[0])/2,d=parseFloat(l[1])/2,p=parseFloat(l[2])/2,y=Math.sin(f)*Math.cos(d)*Math.cos(p)-Math.cos(f)*Math.sin(d)*Math.sin(p),v=Math.cos(f)*Math.sin(d)*Math.cos(p)+Math.sin(f)*Math.cos(d)*Math.sin(p),m=Math.cos(f)*Math.cos(d)*Math.sin(p)-Math.sin(f)*Math.sin(d)*Math.cos(p),g=Math.cos(f)*Math.cos(d)*Math.cos(p)+Math.sin(f)*Math.sin(d)*Math.sin(p);(h=new o({x:y,y:v,z:m,w:g})).normalize()}this.origin=new r({position:c,orientation:h})}}})),i.register("bsgwr",(function(e,r){var n;t(e.exports,"DOMParser",(()=>n),(t=>n=t)),window.DOMImplementation,window.XMLSerializer,n=window.DOMParser})),i.register("9McT6",(function(t,e){var r=i("b28Wo");t.exports.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;e.splice(1,0,r,"color: inherit");let n=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(t=>{"%%"!==t&&(n++,"%c"===t&&(i=n))})),e.splice(i,0,r)},t.exports.save=function(e){try{e?t.exports.storage.setItem("debug",e):t.exports.storage.removeItem("debug")}catch(t){}},t.exports.load=function(){let e;try{e=t.exports.storage.getItem("debug")}catch(t){}!e&&void 0!==r&&"env"in r&&(e=void 0);return e},t.exports.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.exports.storage=function(){try{return localStorage}catch(t){}}(),t.exports.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.exports.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.exports.log=console.debug||console.log||(()=>{}),t.exports=i("iPxP3")(t.exports);const{formatters:n}=t.exports;n.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}})),i.register("iPxP3",(function(t,e){t.exports=function(t){function e(t){let n,i,o,s=null;function a(...t){if(!a.enabled)return;const r=a,i=Number(new Date),o=i-(n||i);r.diff=o,r.prev=n,r.curr=i,n=i,t[0]=e.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");let s=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,((n,i)=>{if("%%"===n)return"%";s++;const o=e.formatters[i];if("function"==typeof o){const e=t[s];n=o.call(r,e),t.splice(s,1),s--}return n})),e.formatArgs.call(r,t);(r.log||e.log).apply(r,t)}return a.namespace=t,a.useColors=e.useColors(),a.color=e.selectColor(t),a.extend=r,a.destroy=e.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(i!==e.namespaces&&(i=e.namespaces,o=e.enabled(t)),o),set:t=>{s=t}}),"function"==typeof e.init&&e.init(a),a}function r(t,r){const n=e(this.namespace+(void 0===r?":":r)+t);return n.log=this.log,n}function n(t){return t.toString().substring(2,t.toString().length-2).replace(/\.\*\?$/,"*")}return e.debug=e,e.default=e,e.coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){const t=[...e.names.map(n),...e.skips.map(n).map((t=>"-"+t))].join(",");return e.enable(""),t},e.enable=function(t){let r;e.save(t),e.namespaces=t,e.names=[],e.skips=[];const n=("string"==typeof t?t:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(t=n[r].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.slice(1)+"$")):e.names.push(new RegExp("^"+t+"$")))},e.enabled=function(t){if("*"===t[t.length-1])return!0;let r,n;for(r=0,n=e.skips.length;r<n;r++)if(e.skips[r].test(t))return!1;for(r=0,n=e.names.length;r<n;r++)if(e.names[r].test(t))return!0;return!1},e.humanize=i("fJp83"),e.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach((r=>{e[r]=t[r]})),e.names=[],e.skips=[],e.formatters={},e.selectColor=function(t){let r=0;for(let e=0;e<t.length;e++)r=(r<<5)-r+t.charCodeAt(e),r|=0;return e.colors[Math.abs(r)%e.colors.length]},e.enable(e.load()),e}})),i.register("fJp83",(function(t,e){var r=1e3,n=6e4,i=36e5,o=864e5,s=6048e5,a=315576e5;function u(t,e,r,n){var i=e>=1.5*r;return Math.round(t/r)+" "+n+(i?"s":"")}t.exports=function(t,e){e=e||{};var c,l,h=typeof t;if("string"===h&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!e)return;var u=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return u*a;case"weeks":case"week":case"w":return u*s;case"days":case"day":case"d":return u*o;case"hours":case"hour":case"hrs":case"hr":case"h":return u*i;case"minutes":case"minute":case"mins":case"min":case"m":return u*n;case"seconds":case"second":case"secs":case"sec":case"s":return u*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return u;default:return}}(t);if("number"===h&&isFinite(t))return e.long?(c=t,(l=Math.abs(c))>=o?u(c,l,o,"day"):l>=i?u(c,l,i,"hour"):l>=n?u(c,l,n,"minute"):l>=r?u(c,l,r,"second"):c+" ms"):function(t){var e=Math.abs(t);return e>=o?Math.round(t/o)+"d":e>=i?Math.round(t/i)+"h":e>=n?Math.round(t/n)+"m":e>=r?Math.round(t/r)+"s":t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}})),i.register("cjZpE",(function(t,e){(e=t.exports=i("ejQ4r")).Stream=e,e.Readable=e,e.Writable=i("dwrm5"),e.Duplex=i("cinSo"),e.Transform=i("zMlIt"),e.PassThrough=i("8Dzp6"),e.finished=i("6R8zI"),e.pipeline=i("kwxOC")})),i.register("ejQ4r",(function(t,r){var n,o=i("b28Wo");t.exports=C,C.ReadableState=O;i("gh2nv").EventEmitter;var s=function(t,e){return t.listeners(e).length},a=i("cQJ2p"),u=i("6ymgl").Buffer,c=e.Uint8Array||function(){};var l,h=i("eojjI");l=h&&h.debuglog?h.debuglog("stream"):function(){};var f,d,p,y=i("9AvoJ"),v=i("794BZ"),m=i("7QW7z").getHighWaterMark,g=i("dAWUx").codes,b=g.ERR_INVALID_ARG_TYPE,w=g.ERR_STREAM_PUSH_AFTER_EOF,_=g.ERR_METHOD_NOT_IMPLEMENTED,S=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;i("27AqA")(C,a);var E=v.errorOrDestroy,x=["error","close","destroy","pause","resume"];function O(t,e,r){n=n||i("cinSo"),t=t||{},"boolean"!=typeof r&&(r=e instanceof n),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=m(this,t,"readableHighWaterMark",r),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(f||(f=i("iSTT6").StringDecoder),this.decoder=new f(t.encoding),this.encoding=t.encoding)}function C(t){if(n=n||i("cinSo"),!(this instanceof C))return new C(t);var e=this instanceof n;this._readableState=new O(t,this,e),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),a.call(this)}function A(t,e,r,n,i){l("readableAddChunk",e);var o,s=t._readableState;if(null===e)s.reading=!1,function(t,e){if(l("onEofChunk"),e.ended)return;if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?D(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,R(t)))}(t,s);else if(i||(o=function(t,e){var r;n=e,u.isBuffer(n)||n instanceof c||"string"==typeof e||void 0===e||t.objectMode||(r=new b("chunk",["string","Buffer","Uint8Array"],e));var n;return r}(s,e)),o)E(t,o);else if(s.objectMode||e&&e.length>0)if("string"==typeof e||s.objectMode||Object.getPrototypeOf(e)===u.prototype||(e=function(t){return u.from(t)}(e)),n)s.endEmitted?E(t,new S):k(t,s,e,!0);else if(s.ended)E(t,new w);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||0!==e.length?k(t,s,e,!1):I(t,s)):k(t,s,e,!1)}else n||(s.reading=!1,I(t,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function k(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&D(t)),I(t,e)}Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),C.prototype.destroy=v.destroy,C.prototype._undestroy=v.undestroy,C.prototype._destroy=function(t,e){e(t)},C.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=u.from(t,e),e=""),r=!0),A(this,t,e,!1,r)},C.prototype.unshift=function(t){return A(this,t,null,!0,!1)},C.prototype.isPaused=function(){return!1===this._readableState.flowing},C.prototype.setEncoding=function(t){f||(f=i("iSTT6").StringDecoder);var e=new f(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";null!==r;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var P=1073741824;function j(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=P?t=P:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function D(t){var e=t._readableState;l("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(l("emitReadable",e.flowing),e.emittedReadable=!0,o.nextTick(R,t))}function R(t){var e=t._readableState;l("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,L(t)}function I(t,e){e.readingMore||(e.readingMore=!0,o.nextTick(T,t,e))}function T(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var r=e.length;if(l("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}function F(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function M(t){l("readable nexttick read 0"),t.read(0)}function N(t,e){l("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),L(t),e.flowing&&!e.reading&&t.read(0)}function L(t){var e=t._readableState;for(l("flow",e.flowing);e.flowing&&null!==t.read(););}function B(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r);var r}function U(t){var e=t._readableState;l("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,o.nextTick($,e,t))}function $(t,e){if(l("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}function z(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}C.prototype.read=function(t){l("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return l("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?U(this):D(this),null;if(0===(t=j(t,e))&&e.ended)return 0===e.length&&U(this),null;var n,i=e.needReadable;return l("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&l("length less than watermark",i=!0),e.ended||e.reading?l("reading or ended",i=!1):i&&(l("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=j(r,e))),null===(n=t>0?B(t,e):null)?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&U(this)),null!==n&&this.emit("data",n),n},C.prototype._read=function(t){E(this,new _("_read()"))},C.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t)}n.pipesCount+=1,l("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||!1!==e.end)&&t!==o.stdout&&t!==o.stderr?u:v;function a(e,i){l("onunpipe"),e===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,l("cleanup"),t.removeListener("close",p),t.removeListener("finish",y),t.removeListener("drain",c),t.removeListener("error",d),t.removeListener("unpipe",a),r.removeListener("end",u),r.removeListener("end",v),r.removeListener("data",f),h=!0,!n.awaitDrain||t._writableState&&!t._writableState.needDrain||c())}function u(){l("onend"),t.end()}n.endEmitted?o.nextTick(i):r.once("end",i),t.on("unpipe",a);var c=function(t){return function(){var e=t._readableState;l("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&s(t,"data")&&(e.flowing=!0,L(t))}}(r);t.on("drain",c);var h=!1;function f(e){l("ondata");var i=t.write(e);l("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===t||n.pipesCount>1&&-1!==z(n.pipes,t))&&!h&&(l("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function d(e){l("onerror",e),v(),t.removeListener("error",d),0===s(t,"error")&&E(t,e)}function p(){t.removeListener("finish",y),v()}function y(){l("onfinish"),t.removeListener("close",p),v()}function v(){l("unpipe"),r.unpipe(t)}return r.on("data",f),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}(t,"error",d),t.once("close",p),t.once("finish",y),t.emit("pipe",r),n.flowing||(l("pipe resume"),r.resume()),t},C.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r)),this;if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=z(e.pipes,t);return-1===s||(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r)),this},C.prototype.on=function(t,e){var r=a.prototype.on.call(this,t,e),n=this._readableState;return"data"===t?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===t&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,l("on readable",n.length,n.reading),n.length?D(this):n.reading||o.nextTick(M,this))),r},C.prototype.addListener=C.prototype.on,C.prototype.removeListener=function(t,e){var r=a.prototype.removeListener.call(this,t,e);return"readable"===t&&o.nextTick(F,this),r},C.prototype.removeAllListeners=function(t){var e=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||o.nextTick(F,this),e},C.prototype.resume=function(){var t=this._readableState;return t.flowing||(l("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,o.nextTick(N,t,e))}(this,t)),t.paused=!1,this},C.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},C.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;for(var i in t.on("end",(function(){if(l("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){(l("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(e.push(i)||(n=!0,t.pause()))})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<x.length;o++)t.on(x[o],this.emit.bind(this,x[o]));return this._read=function(e){l("wrapped _read",e),n&&(n=!1,t.resume())},this},"function"==typeof Symbol&&(C.prototype[Symbol.asyncIterator]=function(){return void 0===d&&(d=i("lXavW")),d(this)}),Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(C.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(C.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),C._fromList=B,Object.defineProperty(C.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(C.from=function(t,e){return void 0===p&&(p=i("cfxkZ")),p(C,t,e)})})),i.register("cQJ2p",(function(t,e){t.exports=i("gh2nv").EventEmitter})),i.register("eojjI",(function(t,e){})),i.register("9AvoJ",(function(t,e){"use strict";function r(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=i("6ymgl").Buffer,a=i("eojjI").inspect,u=a&&a.custom||"inspect";t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}var e,i,c;return e=t,i=[{key:"push",value:function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r}},{key:"concat",value:function(t){if(0===this.length)return s.alloc(0);for(var e,r,n,i=s.allocUnsafe(t>>>0),o=this.head,a=0;o;)e=o.data,r=i,n=a,s.prototype.copy.call(e,r,n),a+=o.data.length,o=o.next;return i}},{key:"consume",value:function(t,e){var r;return t<this.head.data.length?(r=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):r=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var e=this.head,r=1,n=e.data;for(t-=n.length;e=e.next;){var i=e.data,o=t>i.length?i.length:t;if(o===i.length?n+=i:n+=i.slice(0,t),0==(t-=o)){o===i.length?(++r,e.next?this.head=e.next:this.head=this.tail=null):(this.head=e,e.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(t){var e=s.allocUnsafe(t),r=this.head,n=1;for(r.data.copy(e),t-=r.data.length;r=r.next;){var i=r.data,o=t>i.length?i.length:t;if(i.copy(e,e.length-t,0,o),0==(t-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,e}},{key:u,value:function(t,e){return a(this,function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach((function(e){n(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},e,{depth:0,customInspect:!1}))}}],i&&o(e.prototype,i),c&&o(e,c),t}()})),i.register("794BZ",(function(t,e){var r=i("b28Wo");function n(t,e){s(t,e),o(t)}function o(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function s(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var i=this,a=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return a||u?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,r.nextTick(s,this,t)):r.nextTick(s,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?i._writableState?i._writableState.errorEmitted?r.nextTick(o,i):(i._writableState.errorEmitted=!0,r.nextTick(n,i,t)):r.nextTick(n,i,t):e?(r.nextTick(o,i),e(t)):r.nextTick(o,i)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}}})),i.register("7QW7z",(function(t,e){"use strict";var r=i("dAWUx").codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(t,e,n,i){var o=function(t,e,r){return null!=t.highWaterMark?t.highWaterMark:e?t[r]:null}(e,i,n);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new r(i?n:"highWaterMark",o);return Math.floor(o)}return t.objectMode?16:16384}}})),i.register("dAWUx",(function(e,r){var n;t(e.exports,"codes",(()=>n),(t=>n=t));var i={};function o(t,e,r){r||(r=Error);var n=function(t){var r,n;function i(r,n,i){return t.call(this,function(t,r,n){return"string"==typeof e?e:e(t,r,n)}(r,n,i))||this}return n=t,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,i}(r);n.prototype.name=r.name,n.prototype.code=t,i[t]=n}function s(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map((function(t){return String(t)})),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:2===r?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}o("ERR_INVALID_OPT_VALUE",(function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'}),TypeError),o("ERR_INVALID_ARG_TYPE",(function(t,e,r){var n,i,o,a;if("string"==typeof e&&(i="not ",e.substr(!o||o<0?0:+o,i.length)===i)?(n="must not be",e=e.replace(/^not /,"")):n="must be",function(t,e,r){return(void 0===r||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}(t," argument"))a="The ".concat(t," ").concat(n," ").concat(s(e,"type"));else{var u=function(t,e,r){return"number"!=typeof r&&(r=0),!(r+e.length>t.length)&&-1!==t.indexOf(e,r)}(t,".")?"property":"argument";a='The "'.concat(t,'" ').concat(u," ").concat(n," ").concat(s(e,"type"))}return a+=". Received type ".concat(typeof r)}),TypeError),o("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),o("ERR_METHOD_NOT_IMPLEMENTED",(function(t){return"The "+t+" method is not implemented"})),o("ERR_STREAM_PREMATURE_CLOSE","Premature close"),o("ERR_STREAM_DESTROYED",(function(t){return"Cannot call "+t+" after a stream was destroyed"})),o("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),o("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),o("ERR_STREAM_WRITE_AFTER_END","write after end"),o("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),o("ERR_UNKNOWN_ENCODING",(function(t){return"Unknown encoding: "+t}),TypeError),o("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),n=i})),i.register("27AqA",(function(t,e){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}})),i.register("cinSo",(function(t,e){var r=i("b28Wo"),n=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};t.exports=l;var o=i("ejQ4r"),s=i("dwrm5");i("27AqA")(l,o);for(var a=n(s.prototype),u=0;u<a.length;u++){var c=a[u];l.prototype[c]||(l.prototype[c]=s.prototype[c])}function l(t){if(!(this instanceof l))return new l(t);o.call(this,t),s.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",h)))}function h(){this._writableState.ended||r.nextTick(f,this)}function f(t){t.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})})),i.register("dwrm5",(function(t,r){var n,o=i("b28Wo");function s(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,r){var n=t.entry;t.entry=null;for(;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}(e,t)}}t.exports=C,C.WritableState=O;var a={deprecate:i("hvZfe")},u=i("cQJ2p"),c=i("6ymgl").Buffer,l=e.Uint8Array||function(){};var h,f=i("794BZ"),d=i("7QW7z").getHighWaterMark,p=i("dAWUx").codes,y=p.ERR_INVALID_ARG_TYPE,v=p.ERR_METHOD_NOT_IMPLEMENTED,m=p.ERR_MULTIPLE_CALLBACK,g=p.ERR_STREAM_CANNOT_PIPE,b=p.ERR_STREAM_DESTROYED,w=p.ERR_STREAM_NULL_VALUES,_=p.ERR_STREAM_WRITE_AFTER_END,S=p.ERR_UNKNOWN_ENCODING,E=f.errorOrDestroy;function x(){}function O(t,e,r){n=n||i("cinSo"),t=t||{},"boolean"!=typeof r&&(r=e instanceof n),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=d(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===t.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new m;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),e)!function(t,e,r,n,i){--e.pendingcb,r?(o.nextTick(i,n),o.nextTick(R,t,e),t._writableState.errorEmitted=!0,E(t,n)):(i(n),t._writableState.errorEmitted=!0,E(t,n),R(t,e))}(t,r,n,e,i);else{var s=j(r)||t.destroyed;s||r.corked||r.bufferProcessing||!r.bufferedRequest||P(t,r),n?o.nextTick(k,t,r,s,i):k(t,r,s,i)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function C(t){var e=this instanceof(n=n||i("cinSo"));if(!e&&!h.call(C,this))return new C(t);this._writableState=new O(t,this,e),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),u.call(this)}function A(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new b("write")):r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function k(t,e,r,n){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,n(),R(t,e)}function P(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var a=0,u=!0;r;)i[a]=r,r.isBuf||(u=!1),r=r.next,a+=1;i.allBuffers=u,A(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new s(e),e.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,l=r.encoding,h=r.callback;if(A(t,e,!1,e.objectMode?1:c.length,c,l,h),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function j(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function D(t,e){t._final((function(r){e.pendingcb--,r&&E(t,r),e.prefinished=!0,t.emit("prefinish"),R(t,e)}))}function R(t,e){var r=j(e);if(r&&(function(t,e){e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,o.nextTick(D,t,e)))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}i("27AqA")(C,u),O.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(O.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(t){return!!h.call(this,t)||this===C&&(t&&t._writableState instanceof O)}})):h=function(t){return t instanceof this},C.prototype.pipe=function(){E(this,new g)},C.prototype.write=function(t,e,r){var n,i=this._writableState,s=!1,a=!i.objectMode&&(n=t,c.isBuffer(n)||n instanceof l);return a&&!c.isBuffer(t)&&(t=function(t){return c.from(t)}(t)),"function"==typeof e&&(r=e,e=null),a?e="buffer":e||(e=i.defaultEncoding),"function"!=typeof r&&(r=x),i.ending?function(t,e){var r=new _;E(t,r),o.nextTick(e,r)}(this,r):(a||function(t,e,r,n){var i;return null===r?i=new w:"string"==typeof r||e.objectMode||(i=new y("chunk",["string","Buffer"],r)),!i||(E(t,i),o.nextTick(n,i),!1)}(this,i,t,r))&&(i.pendingcb++,s=function(t,e,r,n,i,o){if(!r){var s=function(t,e,r){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=c.from(e,r));return e}(e,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=e.objectMode?1:n.length;e.length+=a;var u=e.length<e.highWaterMark;u||(e.needDrain=!0);if(e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else A(t,e,!1,a,n,i,o);return u}(this,i,a,t,e,r)),s},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||P(this,t))},C.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new S(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(C.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),C.prototype._write=function(t,e,r){r(new v("_write()"))},C.prototype._writev=null,C.prototype.end=function(t,e,r){var n=this._writableState;return"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!=t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||function(t,e,r){e.ending=!0,R(t,e),r&&(e.finished?o.nextTick(r):t.once("finish",r));e.ended=!0,t.writable=!1}(this,n,r),this},Object.defineProperty(C.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),C.prototype.destroy=f.destroy,C.prototype._undestroy=f.undestroy,C.prototype._destroy=function(t,e){e(t)}})),i.register("hvZfe",(function(t,r){function n(t){try{if(!e.localStorage)return!1}catch(t){return!1}var r=e.localStorage[t];return null!=r&&"true"===String(r).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}}})),i.register("iSTT6",(function(e,r){var n;t(e.exports,"StringDecoder",(()=>n),(t=>n=t));var o=i("lxq2M").Buffer,s=o.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(o.isEncoding===s||!s(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=l,this.end=h,e=4;break;case"utf8":this.fillLast=c,e=4;break;case"base64":this.text=f,this.end=d,e=3;break;default:return this.write=p,void(this.end=y)}this.lastNeed=0,this.lastTotal=0,this.lastChar=o.allocUnsafe(e)}function u(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function c(t){var e=this.lastTotal-this.lastNeed,r=function(t,e,r){if(128!=(192&e[0]))return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,""}}(this,t);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function l(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function h(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function f(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function d(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function p(t){return t.toString(this.encoding)}function y(t){return t&&t.length?this.write(t):""}n=a,a.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},a.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e},a.prototype.text=function(t,e){var r=function(t,e,r){var n=e.length-1;if(n<r)return 0;var i=u(e[n]);if(i>=0)return i>0&&(t.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if((i=u(e[n]))>=0)return i>0&&(t.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if((i=u(e[n]))>=0)return i>0&&(2===i?i=0:t.lastNeed=i-3),i;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},a.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}})),i.register("lxq2M",(function(t,e){var r=i("6ymgl"),n=r.Buffer;function o(t,e){for(var r in t)e[r]=t[r]}function s(t,e,r){return n(t,e,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(o(r,t.exports),t.exports.Buffer=s),s.prototype=Object.create(n.prototype),o(n,s),s.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return n(t,e,r)},s.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var i=n(t);return void 0!==e?"string"==typeof r?i.fill(e,r):i.fill(e):i.fill(0),i},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}})),i.register("lXavW",(function(t,e){var r,n=i("b28Wo");function o(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var s=i("6R8zI"),a=Symbol("lastResolve"),u=Symbol("lastReject"),c=Symbol("error"),l=Symbol("ended"),h=Symbol("lastPromise"),f=Symbol("handlePromise"),d=Symbol("stream");function p(t,e){return{value:t,done:e}}function y(t){var e=t[a];if(null!==e){var r=t[d].read();null!==r&&(t[h]=null,t[a]=null,t[u]=null,e(p(r,!1)))}}function v(t){n.nextTick(y,t)}var m=Object.getPrototypeOf((function(){})),g=Object.setPrototypeOf((o(r={get stream(){return this[d]},next:function(){var t=this,e=this[c];if(null!==e)return Promise.reject(e);if(this[l])return Promise.resolve(p(void 0,!0));if(this[d].destroyed)return new Promise((function(e,r){n.nextTick((function(){t[c]?r(t[c]):e(p(void 0,!0))}))}));var r,i=this[h];if(i)r=new Promise(function(t,e){return function(r,n){t.then((function(){e[l]?r(p(void 0,!0)):e[f](r,n)}),n)}}(i,this));else{var o=this[d].read();if(null!==o)return Promise.resolve(p(o,!1));r=new Promise(this[f])}return this[h]=r,r}},Symbol.asyncIterator,(function(){return this})),o(r,"return",(function(){var t=this;return new Promise((function(e,r){t[d].destroy(null,(function(t){t?r(t):e(p(void 0,!0))}))}))})),r),m);t.exports=function(t){var e,r=Object.create(g,(o(e={},d,{value:t,writable:!0}),o(e,a,{value:null,writable:!0}),o(e,u,{value:null,writable:!0}),o(e,c,{value:null,writable:!0}),o(e,l,{value:t._readableState.endEmitted,writable:!0}),o(e,f,{value:function(t,e){var n=r[d].read();n?(r[h]=null,r[a]=null,r[u]=null,t(p(n,!1))):(r[a]=t,r[u]=e)},writable:!0}),e));return r[h]=null,s(t,(function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=r[u];return null!==e&&(r[h]=null,r[a]=null,r[u]=null,e(t)),void(r[c]=t)}var n=r[a];null!==n&&(r[h]=null,r[a]=null,r[u]=null,n(p(void 0,!0))),r[l]=!0})),t.on("readable",v.bind(null,r)),r}})),i.register("6R8zI",(function(t,e){"use strict";var r=i("dAWUx").codes.ERR_STREAM_PREMATURE_CLOSE;function n(){}t.exports=function t(e,i,o){if("function"==typeof i)return t(e,null,i);i||(i={}),o=function(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}(o||n);var s=i.readable||!1!==i.readable&&e.readable,a=i.writable||!1!==i.writable&&e.writable,u=function(){e.writable||l()},c=e._writableState&&e._writableState.finished,l=function(){a=!1,c=!0,s||o.call(e)},h=e._readableState&&e._readableState.endEmitted,f=function(){s=!1,h=!0,a||o.call(e)},d=function(t){o.call(e,t)},p=function(){var t;return s&&!h?(e._readableState&&e._readableState.ended||(t=new r),o.call(e,t)):a&&!c?(e._writableState&&e._writableState.ended||(t=new r),o.call(e,t)):void 0},y=function(){e.req.on("finish",l)};return!function(t){return t.setHeader&&"function"==typeof t.abort}(e)?a&&!e._writableState&&(e.on("end",u),e.on("close",u)):(e.on("complete",l),e.on("abort",p),e.req?y():e.on("request",y)),e.on("end",f),e.on("finish",l),!1!==i.error&&e.on("error",d),e.on("close",p),function(){e.removeListener("complete",l),e.removeListener("abort",p),e.removeListener("request",y),e.req&&e.req.removeListener("finish",l),e.removeListener("end",u),e.removeListener("close",u),e.removeListener("finish",l),e.removeListener("end",f),e.removeListener("error",d),e.removeListener("close",p)}}})),i.register("cfxkZ",(function(t,e){t.exports=function(){throw new Error("Readable.from is not available in the browser")}})),i.register("zMlIt",(function(t,e){"use strict";t.exports=l;var r=i("dAWUx").codes,n=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,s=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=r.ERR_TRANSFORM_WITH_LENGTH_0,u=i("cinSo");function c(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=e&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(t){if(!(this instanceof l))return new l(t);u.call(this,t),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",h)}function h(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush((function(e,r){f(t,e,r)}))}function f(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new a;if(t._transformState.transforming)throw new s;return t.push(null)}i("27AqA")(l,u),l.prototype.push=function(t,e){return this._transformState.needTransform=!1,u.prototype.push.call(this,t,e)},l.prototype._transform=function(t,e,r){r(new n("_transform()"))},l.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},l.prototype._destroy=function(t,e){u.prototype._destroy.call(this,t,(function(t){e(t)}))}})),i.register("8Dzp6",(function(t,e){"use strict";t.exports=n;var r=i("zMlIt");function n(t){if(!(this instanceof n))return new n(t);r.call(this,t)}i("27AqA")(n,r),n.prototype._transform=function(t,e,r){r(null,t)}})),i.register("kwxOC",(function(t,e){"use strict";var r;var n=i("dAWUx").codes,o=n.ERR_MISSING_ARGS,s=n.ERR_STREAM_DESTROYED;function a(t){if(t)throw t}function u(t,e,n,o){o=function(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}(o);var a=!1;t.on("close",(function(){a=!0})),void 0===r&&(r=i("6R8zI")),r(t,{readable:e,writable:n},(function(t){if(t)return o(t);a=!0,o()}));var u=!1;return function(e){if(!a&&!u)return u=!0,function(t){return t.setHeader&&"function"==typeof t.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void o(e||new s("pipe"))}}function c(t){t()}function l(t,e){return t.pipe(e)}function h(t){return t.length?"function"!=typeof t[t.length-1]?a:t.pop():a}t.exports=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n,i=h(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new o("streams");var s=e.map((function(t,r){var o=r<e.length-1;return u(t,o,r>0,(function(t){n||(n=t),t&&s.forEach(c),o||(s.forEach(c),i(n))}))}));return e.reduce(l)}})),i.register("5EcKJ",(function(t,e){var r=i("fDUPz"),n=i("buZ4l"),o=e&&!e.nodeType&&e,s=o&&t&&!t.nodeType&&t,a=s&&s.exports===o?r.Buffer:void 0,u=(a?a.isBuffer:void 0)||n;t.exports=u})),i.register("fDUPz",(function(t,e){var r=i("2JDDM"),n="object"==typeof self&&self&&self.Object===Object&&self,o=r||n||Function("return this")();t.exports=o})),i.register("2JDDM",(function(t,r){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n})),i.register("buZ4l",(function(t,e){t.exports=function(){return!1}})),i.register("95lXD",(function(t,e){var r=i("2JDDM"),n=e&&!e.nodeType&&e,o=n&&t&&!t.nodeType&&t,s=o&&o.exports===n&&r.process,a=function(){try{var t=o&&o.require&&o.require("util").types;return t||s&&s.binding&&s.binding("util")}catch(t){}}();t.exports=a})),i.register("f7Sn6",(function(t,e){var r=i("fDUPz"),n=e&&!e.nodeType&&e,o=n&&t&&!t.nodeType&&t,s=o&&o.exports===n?r.Buffer:void 0,a=s?s.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var r=t.length,n=a?a(r):new t.constructor(r);return t.copy(n),n}})),i.register("jJuoE",(function(t,e){"use strict";var r=Array.isArray,n=Object.keys,i=Object.prototype.hasOwnProperty;t.exports=function t(e,o){if(e===o)return!0;if(e&&o&&"object"==typeof e&&"object"==typeof o){var s,a,u,c=r(e),l=r(o);if(c&&l){if((a=e.length)!=o.length)return!1;for(s=a;0!=s--;)if(!t(e[s],o[s]))return!1;return!0}if(c!=l)return!1;var h=e instanceof Date,f=o instanceof Date;if(h!=f)return!1;if(h&&f)return e.getTime()==o.getTime();var d=e instanceof RegExp,p=o instanceof RegExp;if(d!=p)return!1;if(d&&p)return e.toString()==o.toString();var y=n(e);if((a=y.length)!==n(o).length)return!1;for(s=a;0!=s--;)if(!i.call(o,y[s]))return!1;for(s=a;0!=s--;)if(!t(e[u=y[s]],o[u]))return!1;return!0}return e!=e&&o!=o}})),i.register("12ssw",(function(t,e){"use strict";t.exports=function(t){for(var e,r=0,n=t.length,i=0;i<n;)r++,(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<n&&56320==(64512&(e=t.charCodeAt(i)))&&i++;return r}})),i.register("fyWtD",(function(t,e){"use strict";t.exports=function(t,e,r){var n="",i=!0===t.schema.$async,o=t.util.schemaHasRulesExcept(t.schema,t.RULES.all,"$ref"),s=t.self._getId(t.schema);if(t.isTop&&(n+=" var validate = ",i&&(t.async=!0,n+="async "),n+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",s&&(t.opts.sourceCode||t.opts.processCode)&&(n+=" /*# sourceURL="+s+" */ ")),"boolean"==typeof t.schema||!o&&!t.schema.$ref){e="false schema";var a=t.level,u=t.dataLevel,c=t.schema[e],l=t.schemaPath+t.util.getProperty(e),h=t.errSchemaPath+"/"+e,f=!t.opts.allErrors,d="data"+(u||""),p="valid"+a;if(!1===t.schema){t.isTop?f=!0:n+=" var "+p+" = false; ",(G=G||[]).push(n),n="",!1!==t.createErrors?(n+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(h)+" , params: {} ",!1!==t.opts.messages&&(n+=" , message: 'boolean schema is false' "),t.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var y=n;n=G.pop(),!t.compositeRule&&f?t.async?n+=" throw new ValidationError(["+y+"]); ":n+=" validate.errors = ["+y+"]; return false; ":n+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else t.isTop?n+=i?" return data; ":" validate.errors = null; return true; ":n+=" var "+p+" = true; ";return t.isTop&&(n+=" }; return validate; "),n}if(t.isTop){var v=t.isTop;a=t.level=0,u=t.dataLevel=0,d="data";t.rootId=t.resolve.fullPath(t.self._getId(t.root.schema)),t.baseId=t.baseId||t.rootId,delete t.isTop,t.dataPathArr=[void 0],n+=" var vErrors = null; ",n+=" var errors = 0;     ",n+=" if (rootData === undefined) rootData = data; "}else{a=t.level,d="data"+((u=t.dataLevel)||"");if(s&&(t.baseId=t.resolve.url(t.baseId,s)),i&&!t.async)throw new Error("async schema in sync schema");n+=" var errs_"+a+" = errors;"}p="valid"+a,f=!t.opts.allErrors;var m="",g="",b=t.schema.type,w=Array.isArray(b);if(b&&t.opts.nullable&&!0===t.schema.nullable&&(w?-1==b.indexOf("null")&&(b=b.concat("null")):"null"!=b&&(b=[b,"null"],w=!0)),w&&1==b.length&&(b=b[0],w=!1),t.schema.$ref&&o){if("fail"==t.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+t.errSchemaPath+'" (see option extendRefs)');!0!==t.opts.extendRefs&&(o=!1,t.logger.warn('$ref: keywords ignored in schema at path "'+t.errSchemaPath+'"'))}if(t.schema.$comment&&t.opts.$comment&&(n+=" "+t.RULES.all.$comment.code(t,"$comment")),b){if(t.opts.coerceTypes)var _=t.util.coerceToTypes(t.opts.coerceTypes,b);var S=t.RULES.types[b];if(_||w||!0===S||S&&!J(S)){l=t.schemaPath+".type",h=t.errSchemaPath+"/type",l=t.schemaPath+".type",h=t.errSchemaPath+"/type";var E=w?"checkDataTypes":"checkDataType";if(n+=" if ("+t.util[E](b,d,!0)+") { ",_){var x="dataType"+a,O="coerced"+a;n+=" var "+x+" = typeof "+d+"; ","array"==t.opts.coerceTypes&&(n+=" if ("+x+" == 'object' && Array.isArray("+d+")) "+x+" = 'array'; "),n+=" var "+O+" = undefined; ";var C="",A=_;if(A)for(var k,P=-1,j=A.length-1;P<j;)k=A[P+=1],P&&(n+=" if ("+O+" === undefined) { ",C+="}"),"array"==t.opts.coerceTypes&&"array"!=k&&(n+=" if ("+x+" == 'array' && "+d+".length == 1) { "+O+" = "+d+" = "+d+"[0]; "+x+" = typeof "+d+";  } "),"string"==k?n+=" if ("+x+" == 'number' || "+x+" == 'boolean') "+O+" = '' + "+d+"; else if ("+d+" === null) "+O+" = ''; ":"number"==k||"integer"==k?(n+=" if ("+x+" == 'boolean' || "+d+" === null || ("+x+" == 'string' && "+d+" && "+d+" == +"+d+" ","integer"==k&&(n+=" && !("+d+" % 1)"),n+=")) "+O+" = +"+d+"; "):"boolean"==k?n+=" if ("+d+" === 'false' || "+d+" === 0 || "+d+" === null) "+O+" = false; else if ("+d+" === 'true' || "+d+" === 1) "+O+" = true; ":"null"==k?n+=" if ("+d+" === '' || "+d+" === 0 || "+d+" === false) "+O+" = null; ":"array"==t.opts.coerceTypes&&"array"==k&&(n+=" if ("+x+" == 'string' || "+x+" == 'number' || "+x+" == 'boolean' || "+d+" == null) "+O+" = ["+d+"]; ");n+=" "+C+" if ("+O+" === undefined) {   ",(G=G||[]).push(n),n="",!1!==t.createErrors?(n+=" { keyword: 'type' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(h)+" , params: { type: '",n+=w?""+b.join(","):""+b,n+="' } ",!1!==t.opts.messages&&(n+=" , message: 'should be ",n+=w?""+b.join(","):""+b,n+="' "),t.opts.verbose&&(n+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";y=n;n=G.pop(),!t.compositeRule&&f?t.async?n+=" throw new ValidationError(["+y+"]); ":n+=" validate.errors = ["+y+"]; return false; ":n+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else {  ";var D=u?"data"+(u-1||""):"parentData";n+=" "+d+" = "+O+"; ",u||(n+="if ("+D+" !== undefined)"),n+=" "+D+"["+(u?t.dataPathArr[u]:"parentDataProperty")+"] = "+O+"; } "}else{(G=G||[]).push(n),n="",!1!==t.createErrors?(n+=" { keyword: 'type' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(h)+" , params: { type: '",n+=w?""+b.join(","):""+b,n+="' } ",!1!==t.opts.messages&&(n+=" , message: 'should be ",n+=w?""+b.join(","):""+b,n+="' "),t.opts.verbose&&(n+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";y=n;n=G.pop(),!t.compositeRule&&f?t.async?n+=" throw new ValidationError(["+y+"]); ":n+=" validate.errors = ["+y+"]; return false; ":n+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}n+=" } "}}if(t.schema.$ref&&!o)n+=" "+t.RULES.all.$ref.code(t,"$ref")+" ",f&&(n+=" } if (errors === ",n+=v?"0":"errs_"+a,n+=") { ",g+="}");else{var R=t.RULES;if(R)for(var I=-1,T=R.length-1;I<T;)if(J(S=R[I+=1])){if(S.type&&(n+=" if ("+t.util.checkDataType(S.type,d)+") { "),t.opts.useDefaults&&!t.compositeRule)if("object"==S.type&&t.schema.properties){c=t.schema.properties;var F=Object.keys(c);if(F)for(var M,N=-1,L=F.length-1;N<L;){if(void 0!==(U=c[M=F[N+=1]]).default)n+="  if ("+(z=d+t.util.getProperty(M))+" === undefined ","empty"==t.opts.useDefaults&&(n+=" || "+z+" === null || "+z+" === '' "),n+=" ) "+z+" = ","shared"==t.opts.useDefaults?n+=" "+t.useDefault(U.default)+" ":n+=" "+JSON.stringify(U.default)+" ",n+="; "}}else if("array"==S.type&&Array.isArray(t.schema.items)){var B=t.schema.items;if(B){P=-1;for(var U,$=B.length-1;P<$;){var z;if(void 0!==(U=B[P+=1]).default)n+="  if ("+(z=d+"["+P+"]")+" === undefined ","empty"==t.opts.useDefaults&&(n+=" || "+z+" === null || "+z+" === '' "),n+=" ) "+z+" = ","shared"==t.opts.useDefaults?n+=" "+t.useDefault(U.default)+" ":n+=" "+JSON.stringify(U.default)+" ",n+="; "}}}var q=S.rules;if(q)for(var Y,W=-1,V=q.length-1;W<V;)if(K(Y=q[W+=1])){var H=Y.code(t,Y.keyword,S.type);H&&(n+=" "+H+" ",f&&(m+="}"))}if(f&&(n+=" "+m+" ",m=""),S.type&&(n+=" } ",b&&b===S.type&&!_)){n+=" else { ";var G;l=t.schemaPath+".type",h=t.errSchemaPath+"/type";(G=G||[]).push(n),n="",!1!==t.createErrors?(n+=" { keyword: 'type' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(h)+" , params: { type: '",n+=w?""+b.join(","):""+b,n+="' } ",!1!==t.opts.messages&&(n+=" , message: 'should be ",n+=w?""+b.join(","):""+b,n+="' "),t.opts.verbose&&(n+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";y=n;n=G.pop(),!t.compositeRule&&f?t.async?n+=" throw new ValidationError(["+y+"]); ":n+=" validate.errors = ["+y+"]; return false; ":n+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } "}f&&(n+=" if (errors === ",n+=v?"0":"errs_"+a,n+=") { ",g+="}")}}function J(t){for(var e=t.rules,r=0;r<e.length;r++)if(K(e[r]))return!0}function K(e){return void 0!==t.schema[e.keyword]||e.implements&&function(e){for(var r=e.implements,n=0;n<r.length;n++)if(void 0!==t.schema[r[n]])return!0}(e)}return f&&(n+=" "+g+" "),v?(i?(n+=" if (errors === 0) return data;           ",n+=" else throw new ValidationError(vErrors); "):(n+=" validate.errors = vErrors; ",n+=" return errors === 0;       "),n+=" }; return validate;"):n+=" var "+p+" = errors === errs_"+a+";",n=t.util.cleanUpCode(n),v&&(n=t.util.finalCleanUpCode(n,i)),n}})),i.register("3LAdC",(function(t,e){"use strict";t.exports=function(t,e,r){var n,i,o=" ",s=t.level,a=t.dataLevel,u=t.schema[e],c=t.errSchemaPath+"/"+e,l=!t.opts.allErrors,h="data"+(a||""),f="valid"+s;if("#"==u||"#/"==u)t.isRoot?(n=t.async,i="validate"):(n=!0===t.root.schema.$async,i="root.refVal[0]");else{var d=t.resolveRef(t.baseId,u,t.isRoot);if(void 0===d){var p=t.MissingRefError.message(t.baseId,u);if("fail"==t.opts.missingRefs){t.logger.error(p),(g=g||[]).push(o),o="",!1!==t.createErrors?(o+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { ref: '"+t.util.escapeQuotes(u)+"' } ",!1!==t.opts.messages&&(o+=" , message: 'can\\'t resolve reference "+t.util.escapeQuotes(u)+"' "),t.opts.verbose&&(o+=" , schema: "+t.util.toQuotedString(u)+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),o+=" } "):o+=" {} ";var y=o;o=g.pop(),!t.compositeRule&&l?t.async?o+=" throw new ValidationError(["+y+"]); ":o+=" validate.errors = ["+y+"]; return false; ":o+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l&&(o+=" if (false) { ")}else{if("ignore"!=t.opts.missingRefs)throw new t.MissingRefError(t.baseId,u,p);t.logger.warn(p),l&&(o+=" if (true) { ")}}else if(d.inline){var v=t.util.copy(t);v.level++;var m="valid"+v.level;v.schema=d.schema,v.schemaPath="",v.errSchemaPath=u,o+=" "+t.validate(v).replace(/validate\.schema/g,d.code)+" ",l&&(o+=" if ("+m+") { ")}else n=!0===d.$async||t.async&&!1!==d.$async,i=d.code}if(i){var g;(g=g||[]).push(o),o="",t.opts.passContext?o+=" "+i+".call(this, ":o+=" "+i+"( ",o+=" "+h+", (dataPath || '')",'""'!=t.errorPath&&(o+=" + "+t.errorPath);var b=o+=" , "+(a?"data"+(a-1||""):"parentData")+" , "+(a?t.dataPathArr[a]:"parentDataProperty")+", rootData)  ";if(o=g.pop(),n){if(!t.async)throw new Error("async schema referenced by sync schema");l&&(o+=" var "+f+"; "),o+=" try { await "+b+"; ",l&&(o+=" "+f+" = true; "),o+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",l&&(o+=" "+f+" = false; "),o+=" } ",l&&(o+=" if ("+f+") { ")}else o+=" if (!"+b+") { if (vErrors === null) vErrors = "+i+".errors; else vErrors = vErrors.concat("+i+".errors); errors = vErrors.length; } ",l&&(o+=" else { ")}return o}})),i.register("h87P3",(function(t,e){"use strict";t.exports=function(t,e,r){var n=" ",i=t.schema[e],o=t.schemaPath+t.util.getProperty(e),s=t.errSchemaPath+"/"+e,a=!t.opts.allErrors,u=t.util.copy(t),c="";u.level++;var l="valid"+u.level,h=u.baseId,f=!0,d=i;if(d)for(var p,y=-1,v=d.length-1;y<v;)p=d[y+=1],t.util.schemaHasRules(p,t.RULES.all)&&(f=!1,u.schema=p,u.schemaPath=o+"["+y+"]",u.errSchemaPath=s+"/"+y,n+="  "+t.validate(u)+" ",u.baseId=h,a&&(n+=" if ("+l+") { ",c+="}"));return a&&(n+=f?" if (true) { ":" "+c.slice(0,-1)+" "),n=t.util.cleanUpCode(n)}})),i.register("fVkwZ",(function(t,e){"use strict";t.exports=function(t,e,r){var n=" ",i=t.level,o=t.dataLevel,s=t.schema[e],a=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,l="data"+(o||""),h="valid"+i,f="errs__"+i,d=t.util.copy(t),p="";d.level++;var y="valid"+d.level,v=s.every((function(e){return t.util.schemaHasRules(e,t.RULES.all)}));if(v){var m=d.baseId;n+=" var "+f+" = errors; var "+h+" = false;  ";var g=t.compositeRule;t.compositeRule=d.compositeRule=!0;var b=s;if(b)for(var w,_=-1,S=b.length-1;_<S;)w=b[_+=1],d.schema=w,d.schemaPath=a+"["+_+"]",d.errSchemaPath=u+"/"+_,n+="  "+t.validate(d)+" ",d.baseId=m,n+=" "+h+" = "+h+" || "+y+"; if (!"+h+") { ",p+="}";t.compositeRule=d.compositeRule=g,n+=" "+p+" if (!"+h+") {   var err =   ",!1!==t.createErrors?(n+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: {} ",!1!==t.opts.messages&&(n+=" , message: 'should match some schema in anyOf' "),t.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&c&&(t.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+=" } else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } ",t.opts.allErrors&&(n+=" } "),n=t.util.cleanUpCode(n)}else c&&(n+=" if (true) { ");return n}})),i.register("32aHc",(function(t,e){"use strict";t.exports=function(t,e,r){var n=" ",i=t.schema[e],o=t.errSchemaPath+"/"+e,s=(t.opts.allErrors,t.util.toQuotedString(i));return!0===t.opts.$comment?n+=" console.log("+s+");":"function"==typeof t.opts.$comment&&(n+=" self._opts.$comment("+s+", "+t.util.toQuotedString(o)+", validate.root.schema);"),n}})),i.register("7GeV9",(function(t,e){"use strict";t.exports=function(t,e,r){var n=" ",i=t.level,o=t.dataLevel,s=t.schema[e],a=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,l="data"+(o||""),h="valid"+i,f=t.opts.$data&&s&&s.$data;f&&(n+=" var schema"+i+" = "+t.util.getData(s.$data,o,t.dataPathArr)+"; "),f||(n+=" var schema"+i+" = validate.schema"+a+";"),n+="var "+h+" = equal("+l+", schema"+i+"); if (!"+h+") {   ";var d=d||[];d.push(n),n="",!1!==t.createErrors?(n+=" { keyword: 'const' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { allowedValue: schema"+i+" } ",!1!==t.opts.messages&&(n+=" , message: 'should be equal to constant' "),t.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var p=n;return n=d.pop(),!t.compositeRule&&c?t.async?n+=" throw new ValidationError(["+p+"]); ":n+=" validate.errors = ["+p+"]; return false; ":n+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }",c&&(n+=" else { "),n}})),i.register("fZx2o",(function(t,e){"use strict";t.exports=function(t,e,r){var n=" ",i=t.level,o=t.dataLevel,s=t.schema[e],a=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,l="data"+(o||""),h="valid"+i,f="errs__"+i,d=t.util.copy(t);d.level++;var p="valid"+d.level,y="i"+i,v=d.dataLevel=t.dataLevel+1,m="data"+v,g=t.baseId,b=t.util.schemaHasRules(s,t.RULES.all);if(n+="var "+f+" = errors;var "+h+";",b){var w=t.compositeRule;t.compositeRule=d.compositeRule=!0,d.schema=s,d.schemaPath=a,d.errSchemaPath=u,n+=" var "+p+" = false; for (var "+y+" = 0; "+y+" < "+l+".length; "+y+"++) { ",d.errorPath=t.util.getPathExpr(t.errorPath,y,t.opts.jsonPointers,!0);var _=l+"["+y+"]";d.dataPathArr[v]=y;var S=t.validate(d);d.baseId=g,t.util.varOccurences(S,m)<2?n+=" "+t.util.varReplace(S,m,_)+" ":n+=" var "+m+" = "+_+"; "+S+" ",n+=" if ("+p+") break; }  ",t.compositeRule=d.compositeRule=w,n+="  if (!"+p+") {"}else n+=" if ("+l+".length == 0) {";var E=E||[];E.push(n),n="",!1!==t.createErrors?(n+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: {} ",!1!==t.opts.messages&&(n+=" , message: 'should contain a valid item' "),t.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var x=n;return n=E.pop(),!t.compositeRule&&c?t.async?n+=" throw new ValidationError(["+x+"]); ":n+=" validate.errors = ["+x+"]; return false; ":n+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { ",b&&(n+="  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } "),t.opts.allErrors&&(n+=" } "),n=t.util.cleanUpCode(n)}})),i.register("Vvw4V",(function(t,e){"use strict";t.exports=function(t,e,r){var n=" ",i=t.level,o=t.dataLevel,s=t.schema[e],a=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,l="data"+(o||""),h="errs__"+i,f=t.util.copy(t),d="";f.level++;var p="valid"+f.level,y={},v={},m=t.opts.ownProperties;for(_ in s){var g=s[_],b=Array.isArray(g)?v:y;b[_]=g}n+="var "+h+" = errors;";var w=t.errorPath;for(var _ in n+="var missing"+i+";",v)if((b=v[_]).length){if(n+=" if ( "+l+t.util.getProperty(_)+" !== undefined ",m&&(n+=" && Object.prototype.hasOwnProperty.call("+l+", '"+t.util.escapeQuotes(_)+"') "),c){n+=" && ( ";var S=b;if(S)for(var E=-1,x=S.length-1;E<x;){j=S[E+=1],E&&(n+=" || "),n+=" ( ( "+(T=l+(I=t.util.getProperty(j)))+" === undefined ",m&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+t.util.escapeQuotes(j)+"') "),n+=") && (missing"+i+" = "+t.util.toQuotedString(t.opts.jsonPointers?j:I)+") ) "}n+=")) {  ";var O="missing"+i,C="' + "+O+" + '";t.opts._errorDataPathProperty&&(t.errorPath=t.opts.jsonPointers?t.util.getPathExpr(w,O,!0):w+" + "+O);var A=A||[];A.push(n),n="",!1!==t.createErrors?(n+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { property: '"+t.util.escapeQuotes(_)+"', missingProperty: '"+C+"', depsCount: "+b.length+", deps: '"+t.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==t.opts.messages&&(n+=" , message: 'should have ",1==b.length?n+="property "+t.util.escapeQuotes(b[0]):n+="properties "+t.util.escapeQuotes(b.join(", ")),n+=" when property "+t.util.escapeQuotes(_)+" is present' "),t.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var k=n;n=A.pop(),!t.compositeRule&&c?t.async?n+=" throw new ValidationError(["+k+"]); ":n+=" validate.errors = ["+k+"]; return false; ":n+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{n+=" ) { ";var P=b;if(P)for(var j,D=-1,R=P.length-1;D<R;){j=P[D+=1];var I=t.util.getProperty(j),T=(C=t.util.escapeQuotes(j),l+I);t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPath(w,j,t.opts.jsonPointers)),n+=" if ( "+T+" === undefined ",m&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+t.util.escapeQuotes(j)+"') "),n+=") {  var err =   ",!1!==t.createErrors?(n+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { property: '"+t.util.escapeQuotes(_)+"', missingProperty: '"+C+"', depsCount: "+b.length+", deps: '"+t.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==t.opts.messages&&(n+=" , message: 'should have ",1==b.length?n+="property "+t.util.escapeQuotes(b[0]):n+="properties "+t.util.escapeQuotes(b.join(", ")),n+=" when property "+t.util.escapeQuotes(_)+" is present' "),t.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}n+=" }   ",c&&(d+="}",n+=" else { ")}t.errorPath=w;var F=f.baseId;for(var _ in y){g=y[_];t.util.schemaHasRules(g,t.RULES.all)&&(n+=" "+p+" = true; if ( "+l+t.util.getProperty(_)+" !== undefined ",m&&(n+=" && Object.prototype.hasOwnProperty.call("+l+", '"+t.util.escapeQuotes(_)+"') "),n+=") { ",f.schema=g,f.schemaPath=a+t.util.getProperty(_),f.errSchemaPath=u+"/"+t.util.escapeFragment(_),n+="  "+t.validate(f)+" ",f.baseId=F,n+=" }  ",c&&(n+=" if ("+p+") { ",d+="}"))}return c&&(n+="   "+d+" if ("+h+" == errors) {"),n=t.util.cleanUpCode(n)}})),i.register("2Qkrc",(function(t,e){"use strict";t.exports=function(t,e,r){var n=" ",i=t.level,o=t.dataLevel,s=t.schema[e],a=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,l="data"+(o||""),h="valid"+i,f=t.opts.$data&&s&&s.$data;f&&(n+=" var schema"+i+" = "+t.util.getData(s.$data,o,t.dataPathArr)+"; ");var d="i"+i,p="schema"+i;f||(n+=" var "+p+" = validate.schema"+a+";"),n+="var "+h+";",f&&(n+=" if (schema"+i+" === undefined) "+h+" = true; else if (!Array.isArray(schema"+i+")) "+h+" = false; else {"),n+=h+" = false;for (var "+d+"=0; "+d+"<"+p+".length; "+d+"++) if (equal("+l+", "+p+"["+d+"])) { "+h+" = true; break; }",f&&(n+="  }  "),n+=" if (!"+h+") {   ";var y=y||[];y.push(n),n="",!1!==t.createErrors?(n+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { allowedValues: schema"+i+" } ",!1!==t.opts.messages&&(n+=" , message: 'should be equal to one of the allowed values' "),t.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var v=n;return n=y.pop(),!t.compositeRule&&c?t.async?n+=" throw new ValidationError(["+v+"]); ":n+=" validate.errors = ["+v+"]; return false; ":n+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }",c&&(n+=" else { "),n}})),i.register("9TDyP",(function(t,e){"use strict";t.exports=function(t,e,r){var n=" ",i=t.level,o=t.dataLevel,s=t.schema[e],a=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,l="data"+(o||"");if(!1===t.opts.format)return c&&(n+=" if (true) { "),n;var h,f=t.opts.$data&&s&&s.$data;f?(n+=" var schema"+i+" = "+t.util.getData(s.$data,o,t.dataPathArr)+"; ",h="schema"+i):h=s;var d=t.opts.unknownFormats,p=Array.isArray(d);if(f){n+=" var "+(y="format"+i)+" = formats["+h+"]; var "+(v="isObject"+i)+" = typeof "+y+" == 'object' && !("+y+" instanceof RegExp) && "+y+".validate; var "+(m="formatType"+i)+" = "+v+" && "+y+".type || 'string'; if ("+v+") { ",t.async&&(n+=" var async"+i+" = "+y+".async; "),n+=" "+y+" = "+y+".validate; } if (  ",f&&(n+=" ("+h+" !== undefined && typeof "+h+" != 'string') || "),n+=" (","ignore"!=d&&(n+=" ("+h+" && !"+y+" ",p&&(n+=" && self._opts.unknownFormats.indexOf("+h+") == -1 "),n+=") || "),n+=" ("+y+" && "+m+" == '"+r+"' && !(typeof "+y+" == 'function' ? ",t.async?n+=" (async"+i+" ? await "+y+"("+l+") : "+y+"("+l+")) ":n+=" "+y+"("+l+") ",n+=" : "+y+".test("+l+"))))) {"}else{var y;if(!(y=t.formats[s])){if("ignore"==d)return t.logger.warn('unknown format "'+s+'" ignored in schema at path "'+t.errSchemaPath+'"'),c&&(n+=" if (true) { "),n;if(p&&d.indexOf(s)>=0)return c&&(n+=" if (true) { "),n;throw new Error('unknown format "'+s+'" is used in schema at path "'+t.errSchemaPath+'"')}var v,m=(v="object"==typeof y&&!(y instanceof RegExp)&&y.validate)&&y.type||"string";if(v){var g=!0===y.async;y=y.validate}if(m!=r)return c&&(n+=" if (true) { "),n;if(g){if(!t.async)throw new Error("async format in sync schema");n+=" if (!(await "+(b="formats"+t.util.getProperty(s)+".validate")+"("+l+"))) { "}else{n+=" if (! ";var b="formats"+t.util.getProperty(s);v&&(b+=".validate"),n+="function"==typeof y?" "+b+"("+l+") ":" "+b+".test("+l+") ",n+=") { "}}var w=w||[];w.push(n),n="",!1!==t.createErrors?(n+=" { keyword: 'format' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { format:  ",n+=f?""+h:""+t.util.toQuotedString(s),n+="  } ",!1!==t.opts.messages&&(n+=" , message: 'should match format \"",n+=f?"' + "+h+" + '":""+t.util.escapeQuotes(s),n+="\"' "),t.opts.verbose&&(n+=" , schema:  ",n+=f?"validate.schema"+a:""+t.util.toQuotedString(s),n+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var _=n;return n=w.pop(),!t.compositeRule&&c?t.async?n+=" throw new ValidationError(["+_+"]); ":n+=" validate.errors = ["+_+"]; return false; ":n+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",c&&(n+=" else { "),n}})),i.register("7pDem",(function(t,e){"use strict";t.exports=function(t,e,r){var n=" ",i=t.level,o=t.dataLevel,s=t.schema[e],a=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,l="data"+(o||""),h="valid"+i,f="errs__"+i,d=t.util.copy(t);d.level++;var p="valid"+d.level,y=t.schema.then,v=t.schema.else,m=void 0!==y&&t.util.schemaHasRules(y,t.RULES.all),g=void 0!==v&&t.util.schemaHasRules(v,t.RULES.all),b=d.baseId;if(m||g){var w;d.createErrors=!1,d.schema=s,d.schemaPath=a,d.errSchemaPath=u,n+=" var "+f+" = errors; var "+h+" = true;  ";var _=t.compositeRule;t.compositeRule=d.compositeRule=!0,n+="  "+t.validate(d)+" ",d.baseId=b,d.createErrors=!0,n+="  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; }  ",t.compositeRule=d.compositeRule=_,m?(n+=" if ("+p+") {  ",d.schema=t.schema.then,d.schemaPath=t.schemaPath+".then",d.errSchemaPath=t.errSchemaPath+"/then",n+="  "+t.validate(d)+" ",d.baseId=b,n+=" "+h+" = "+p+"; ",m&&g?n+=" var "+(w="ifClause"+i)+" = 'then'; ":w="'then'",n+=" } ",g&&(n+=" else { ")):n+=" if (!"+p+") { ",g&&(d.schema=t.schema.else,d.schemaPath=t.schemaPath+".else",d.errSchemaPath=t.errSchemaPath+"/else",n+="  "+t.validate(d)+" ",d.baseId=b,n+=" "+h+" = "+p+"; ",m&&g?n+=" var "+(w="ifClause"+i)+" = 'else'; ":w="'else'",n+=" } "),n+=" if (!"+h+") {   var err =   ",!1!==t.createErrors?(n+=" { keyword: 'if' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { failingKeyword: "+w+" } ",!1!==t.opts.messages&&(n+=" , message: 'should match \"' + "+w+" + '\" schema' "),t.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&c&&(t.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+=" }   ",c&&(n+=" else { "),n=t.util.cleanUpCode(n)}else c&&(n+=" if (true) { ");return n}})),i.register("gQKJO",(function(t,e){"use strict";t.exports=function(t,e,r){var n=" ",i=t.level,o=t.dataLevel,s=t.schema[e],a=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,l="data"+(o||""),h="valid"+i,f="errs__"+i,d=t.util.copy(t),p="";d.level++;var y="valid"+d.level,v="i"+i,m=d.dataLevel=t.dataLevel+1,g="data"+m,b=t.baseId;if(n+="var "+f+" = errors;var "+h+";",Array.isArray(s)){var w=t.schema.additionalItems;if(!1===w){n+=" "+h+" = "+l+".length <= "+s.length+"; ";var _=u;u=t.errSchemaPath+"/additionalItems",n+="  if (!"+h+") {   ";var S=S||[];S.push(n),n="",!1!==t.createErrors?(n+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { limit: "+s.length+" } ",!1!==t.opts.messages&&(n+=" , message: 'should NOT have more than "+s.length+" items' "),t.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var E=n;n=S.pop(),!t.compositeRule&&c?t.async?n+=" throw new ValidationError(["+E+"]); ":n+=" validate.errors = ["+E+"]; return false; ":n+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",u=_,c&&(p+="}",n+=" else { ")}var x=s;if(x)for(var O,C=-1,A=x.length-1;C<A;)if(O=x[C+=1],t.util.schemaHasRules(O,t.RULES.all)){n+=" "+y+" = true; if ("+l+".length > "+C+") { ";var k=l+"["+C+"]";d.schema=O,d.schemaPath=a+"["+C+"]",d.errSchemaPath=u+"/"+C,d.errorPath=t.util.getPathExpr(t.errorPath,C,t.opts.jsonPointers,!0),d.dataPathArr[m]=C;var P=t.validate(d);d.baseId=b,t.util.varOccurences(P,g)<2?n+=" "+t.util.varReplace(P,g,k)+" ":n+=" var "+g+" = "+k+"; "+P+" ",n+=" }  ",c&&(n+=" if ("+y+") { ",p+="}")}if("object"==typeof w&&t.util.schemaHasRules(w,t.RULES.all)){d.schema=w,d.schemaPath=t.schemaPath+".additionalItems",d.errSchemaPath=t.errSchemaPath+"/additionalItems",n+=" "+y+" = true; if ("+l+".length > "+s.length+") {  for (var "+v+" = "+s.length+"; "+v+" < "+l+".length; "+v+"++) { ",d.errorPath=t.util.getPathExpr(t.errorPath,v,t.opts.jsonPointers,!0);k=l+"["+v+"]";d.dataPathArr[m]=v;P=t.validate(d);d.baseId=b,t.util.varOccurences(P,g)<2?n+=" "+t.util.varReplace(P,g,k)+" ":n+=" var "+g+" = "+k+"; "+P+" ",c&&(n+=" if (!"+y+") break; "),n+=" } }  ",c&&(n+=" if ("+y+") { ",p+="}")}}else if(t.util.schemaHasRules(s,t.RULES.all)){d.schema=s,d.schemaPath=a,d.errSchemaPath=u,n+="  for (var "+v+" = 0; "+v+" < "+l+".length; "+v+"++) { ",d.errorPath=t.util.getPathExpr(t.errorPath,v,t.opts.jsonPointers,!0);k=l+"["+v+"]";d.dataPathArr[m]=v;P=t.validate(d);d.baseId=b,t.util.varOccurences(P,g)<2?n+=" "+t.util.varReplace(P,g,k)+" ":n+=" var "+g+" = "+k+"; "+P+" ",c&&(n+=" if (!"+y+") break; "),n+=" }"}return c&&(n+=" "+p+" if ("+f+" == errors) {"),n=t.util.cleanUpCode(n)}})),i.register("9rmU1",(function(t,e){"use strict";t.exports=function(t,e,r){var n,i=" ",o=t.level,s=t.dataLevel,a=t.schema[e],u=t.schemaPath+t.util.getProperty(e),c=t.errSchemaPath+"/"+e,l=!t.opts.allErrors,h="data"+(s||""),f=t.opts.$data&&a&&a.$data;f?(i+=" var schema"+o+" = "+t.util.getData(a.$data,s,t.dataPathArr)+"; ",n="schema"+o):n=a;var d="maximum"==e,p=d?"exclusiveMaximum":"exclusiveMinimum",y=t.schema[p],v=t.opts.$data&&y&&y.$data,m=d?"<":">",g=d?">":"<",b=void 0;if(v){var w=t.util.getData(y.$data,s,t.dataPathArr),_="exclusive"+o,S="exclType"+o,E="exclIsNumber"+o,x="' + "+(A="op"+o)+" + '";i+=" var schemaExcl"+o+" = "+w+"; ",i+=" var "+_+"; var "+S+" = typeof "+(w="schemaExcl"+o)+"; if ("+S+" != 'boolean' && "+S+" != 'undefined' && "+S+" != 'number') { ";var O;b=p;(O=O||[]).push(i),i="",!1!==t.createErrors?(i+=" { keyword: '"+(b||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: {} ",!1!==t.opts.messages&&(i+=" , message: '"+p+" should be boolean' "),t.opts.verbose&&(i+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var C=i;i=O.pop(),!t.compositeRule&&l?t.async?i+=" throw new ValidationError(["+C+"]); ":i+=" validate.errors = ["+C+"]; return false; ":i+=" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else if ( ",f&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),i+=" "+S+" == 'number' ? ( ("+_+" = "+n+" === undefined || "+w+" "+m+"= "+n+") ? "+h+" "+g+"= "+w+" : "+h+" "+g+" "+n+" ) : ( ("+_+" = "+w+" === true) ? "+h+" "+g+"= "+n+" : "+h+" "+g+" "+n+" ) || "+h+" !== "+h+") { var op"+o+" = "+_+" ? '"+m+"' : '"+m+"='; ",void 0===a&&(b=p,c=t.errSchemaPath+"/"+p,n=w,f=v)}else{x=m;if((E="number"==typeof y)&&f){var A="'"+x+"'";i+=" if ( ",f&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),i+=" ( "+n+" === undefined || "+y+" "+m+"= "+n+" ? "+h+" "+g+"= "+y+" : "+h+" "+g+" "+n+" ) || "+h+" !== "+h+") { "}else{E&&void 0===a?(_=!0,b=p,c=t.errSchemaPath+"/"+p,n=y,g+="="):(E&&(n=Math[d?"min":"max"](y,a)),y===(!E||n)?(_=!0,b=p,c=t.errSchemaPath+"/"+p,g+="="):(_=!1,x+="="));A="'"+x+"'";i+=" if ( ",f&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),i+=" "+h+" "+g+" "+n+" || "+h+" !== "+h+") { "}}b=b||e,(O=O||[]).push(i),i="",!1!==t.createErrors?(i+=" { keyword: '"+(b||"_limit")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { comparison: "+A+", limit: "+n+", exclusive: "+_+" } ",!1!==t.opts.messages&&(i+=" , message: 'should be "+x+" ",i+=f?"' + "+n:n+"'"),t.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+u:""+a,i+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";C=i;return i=O.pop(),!t.compositeRule&&l?t.async?i+=" throw new ValidationError(["+C+"]); ":i+=" validate.errors = ["+C+"]; return false; ":i+=" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",l&&(i+=" else { "),i}})),i.register("9cXq2",(function(t,e){"use strict";t.exports=function(t,e,r){var n,i=" ",o=t.level,s=t.dataLevel,a=t.schema[e],u=t.schemaPath+t.util.getProperty(e),c=t.errSchemaPath+"/"+e,l=!t.opts.allErrors,h="data"+(s||""),f=t.opts.$data&&a&&a.$data;f?(i+=" var schema"+o+" = "+t.util.getData(a.$data,s,t.dataPathArr)+"; ",n="schema"+o):n=a,i+="if ( ",f&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),i+=" "+h+".length "+("maxItems"==e?">":"<")+" "+n+") { ";var d=e,p=p||[];p.push(i),i="",!1!==t.createErrors?(i+=" { keyword: '"+(d||"_limitItems")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { limit: "+n+" } ",!1!==t.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxItems"==e?"more":"fewer",i+=" than ",i+=f?"' + "+n+" + '":""+a,i+=" items' "),t.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+u:""+a,i+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var y=i;return i=p.pop(),!t.compositeRule&&l?t.async?i+=" throw new ValidationError(["+y+"]); ":i+=" validate.errors = ["+y+"]; return false; ":i+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i}})),i.register("37EV9",(function(t,e){"use strict";t.exports=function(t,e,r){var n,i=" ",o=t.level,s=t.dataLevel,a=t.schema[e],u=t.schemaPath+t.util.getProperty(e),c=t.errSchemaPath+"/"+e,l=!t.opts.allErrors,h="data"+(s||""),f=t.opts.$data&&a&&a.$data;f?(i+=" var schema"+o+" = "+t.util.getData(a.$data,s,t.dataPathArr)+"; ",n="schema"+o):n=a;var d="maxLength"==e?">":"<";i+="if ( ",f&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),!1===t.opts.unicode?i+=" "+h+".length ":i+=" ucs2length("+h+") ",i+=" "+d+" "+n+") { ";var p=e,y=y||[];y.push(i),i="",!1!==t.createErrors?(i+=" { keyword: '"+(p||"_limitLength")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { limit: "+n+" } ",!1!==t.opts.messages&&(i+=" , message: 'should NOT be ",i+="maxLength"==e?"longer":"shorter",i+=" than ",i+=f?"' + "+n+" + '":""+a,i+=" characters' "),t.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+u:""+a,i+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var v=i;return i=y.pop(),!t.compositeRule&&l?t.async?i+=" throw new ValidationError(["+v+"]); ":i+=" validate.errors = ["+v+"]; return false; ":i+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i}})),i.register("jm3ZG",(function(t,e){"use strict";t.exports=function(t,e,r){var n,i=" ",o=t.level,s=t.dataLevel,a=t.schema[e],u=t.schemaPath+t.util.getProperty(e),c=t.errSchemaPath+"/"+e,l=!t.opts.allErrors,h="data"+(s||""),f=t.opts.$data&&a&&a.$data;f?(i+=" var schema"+o+" = "+t.util.getData(a.$data,s,t.dataPathArr)+"; ",n="schema"+o):n=a,i+="if ( ",f&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),i+=" Object.keys("+h+").length "+("maxProperties"==e?">":"<")+" "+n+") { ";var d=e,p=p||[];p.push(i),i="",!1!==t.createErrors?(i+=" { keyword: '"+(d||"_limitProperties")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { limit: "+n+" } ",!1!==t.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxProperties"==e?"more":"fewer",i+=" than ",i+=f?"' + "+n+" + '":""+a,i+=" properties' "),t.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+u:""+a,i+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var y=i;return i=p.pop(),!t.compositeRule&&l?t.async?i+=" throw new ValidationError(["+y+"]); ":i+=" validate.errors = ["+y+"]; return false; ":i+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i}})),i.register("g0CS1",(function(t,e){"use strict";t.exports=function(t,e,r){var n,i=" ",o=t.level,s=t.dataLevel,a=t.schema[e],u=t.schemaPath+t.util.getProperty(e),c=t.errSchemaPath+"/"+e,l=!t.opts.allErrors,h="data"+(s||""),f=t.opts.$data&&a&&a.$data;f?(i+=" var schema"+o+" = "+t.util.getData(a.$data,s,t.dataPathArr)+"; ",n="schema"+o):n=a,i+="var division"+o+";if (",f&&(i+=" "+n+" !== undefined && ( typeof "+n+" != 'number' || "),i+=" (division"+o+" = "+h+" / "+n+", ",t.opts.multipleOfPrecision?i+=" Math.abs(Math.round(division"+o+") - division"+o+") > 1e-"+t.opts.multipleOfPrecision+" ":i+=" division"+o+" !== parseInt(division"+o+") ",i+=" ) ",f&&(i+="  )  "),i+=" ) {   ";var d=d||[];d.push(i),i="",!1!==t.createErrors?(i+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { multipleOf: "+n+" } ",!1!==t.opts.messages&&(i+=" , message: 'should be multiple of ",i+=f?"' + "+n:n+"'"),t.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+u:""+a,i+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var p=i;return i=d.pop(),!t.compositeRule&&l?t.async?i+=" throw new ValidationError(["+p+"]); ":i+=" validate.errors = ["+p+"]; return false; ":i+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i}})),i.register("4RVnP",(function(t,e){"use strict";t.exports=function(t,e,r){var n=" ",i=t.level,o=t.dataLevel,s=t.schema[e],a=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,l="data"+(o||""),h="errs__"+i,f=t.util.copy(t);f.level++;var d="valid"+f.level;if(t.util.schemaHasRules(s,t.RULES.all)){f.schema=s,f.schemaPath=a,f.errSchemaPath=u,n+=" var "+h+" = errors;  ";var p,y=t.compositeRule;t.compositeRule=f.compositeRule=!0,f.createErrors=!1,f.opts.allErrors&&(p=f.opts.allErrors,f.opts.allErrors=!1),n+=" "+t.validate(f)+" ",f.createErrors=!0,p&&(f.opts.allErrors=p),t.compositeRule=f.compositeRule=y,n+=" if ("+d+") {   ";var v=v||[];v.push(n),n="",!1!==t.createErrors?(n+=" { keyword: 'not' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: {} ",!1!==t.opts.messages&&(n+=" , message: 'should NOT be valid' "),t.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var m=n;n=v.pop(),!t.compositeRule&&c?t.async?n+=" throw new ValidationError(["+m+"]); ":n+=" validate.errors = ["+m+"]; return false; ":n+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } ",t.opts.allErrors&&(n+=" } ")}else n+="  var err =   ",!1!==t.createErrors?(n+=" { keyword: 'not' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: {} ",!1!==t.opts.messages&&(n+=" , message: 'should NOT be valid' "),t.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(n+=" if (false) { ");return n}})),i.register("cCw0D",(function(t,e){"use strict";t.exports=function(t,e,r){var n=" ",i=t.level,o=t.dataLevel,s=t.schema[e],a=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,l="data"+(o||""),h="valid"+i,f="errs__"+i,d=t.util.copy(t),p="";d.level++;var y="valid"+d.level,v=d.baseId,m="prevValid"+i,g="passingSchemas"+i;n+="var "+f+" = errors , "+m+" = false , "+h+" = false , "+g+" = null; ";var b=t.compositeRule;t.compositeRule=d.compositeRule=!0;var w=s;if(w)for(var _,S=-1,E=w.length-1;S<E;)_=w[S+=1],t.util.schemaHasRules(_,t.RULES.all)?(d.schema=_,d.schemaPath=a+"["+S+"]",d.errSchemaPath=u+"/"+S,n+="  "+t.validate(d)+" ",d.baseId=v):n+=" var "+y+" = true; ",S&&(n+=" if ("+y+" && "+m+") { "+h+" = false; "+g+" = ["+g+", "+S+"]; } else { ",p+="}"),n+=" if ("+y+") { "+h+" = "+m+" = true; "+g+" = "+S+"; }";return t.compositeRule=d.compositeRule=b,n+=p+"if (!"+h+") {   var err =   ",!1!==t.createErrors?(n+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { passingSchemas: "+g+" } ",!1!==t.opts.messages&&(n+=" , message: 'should match exactly one schema in oneOf' "),t.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&c&&(t.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+="} else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; }",t.opts.allErrors&&(n+=" } "),n}})),i.register("lV83e",(function(t,e){"use strict";t.exports=function(t,e,r){var n,i=" ",o=t.level,s=t.dataLevel,a=t.schema[e],u=t.schemaPath+t.util.getProperty(e),c=t.errSchemaPath+"/"+e,l=!t.opts.allErrors,h="data"+(s||""),f=t.opts.$data&&a&&a.$data;f?(i+=" var schema"+o+" = "+t.util.getData(a.$data,s,t.dataPathArr)+"; ",n="schema"+o):n=a,i+="if ( ",f&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'string') || "),i+=" !"+(f?"(new RegExp("+n+"))":t.usePattern(a))+".test("+h+") ) {   ";var d=d||[];d.push(i),i="",!1!==t.createErrors?(i+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { pattern:  ",i+=f?""+n:""+t.util.toQuotedString(a),i+="  } ",!1!==t.opts.messages&&(i+=" , message: 'should match pattern \"",i+=f?"' + "+n+" + '":""+t.util.escapeQuotes(a),i+="\"' "),t.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+u:""+t.util.toQuotedString(a),i+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var p=i;return i=d.pop(),!t.compositeRule&&l?t.async?i+=" throw new ValidationError(["+p+"]); ":i+=" validate.errors = ["+p+"]; return false; ":i+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i}})),i.register("edJ80",(function(t,e){"use strict";t.exports=function(t,e,r){var n=" ",i=t.level,o=t.dataLevel,s=t.schema[e],a=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,l="data"+(o||""),h="errs__"+i,f=t.util.copy(t),d="";f.level++;var p="valid"+f.level,y="key"+i,v="idx"+i,m=f.dataLevel=t.dataLevel+1,g="data"+m,b="dataProperties"+i,w=Object.keys(s||{}),_=t.schema.patternProperties||{},S=Object.keys(_),E=t.schema.additionalProperties,x=w.length||S.length,O=!1===E,C="object"==typeof E&&Object.keys(E).length,A=t.opts.removeAdditional,k=O||C||A,P=t.opts.ownProperties,j=t.baseId,D=t.schema.required;if(D&&(!t.opts.$data||!D.$data)&&D.length<t.opts.loopRequired)var R=t.util.toHash(D);if(n+="var "+h+" = errors;var "+p+" = true;",P&&(n+=" var "+b+" = undefined;"),k){if(n+=P?" "+b+" = "+b+" || Object.keys("+l+"); for (var "+v+"=0; "+v+"<"+b+".length; "+v+"++) { var "+y+" = "+b+"["+v+"]; ":" for (var "+y+" in "+l+") { ",x){if(n+=" var isAdditional"+i+" = !(false ",w.length)if(w.length>8)n+=" || validate.schema"+a+".hasOwnProperty("+y+") ";else{var I=w;if(I)for(var T=-1,F=I.length-1;T<F;)G=I[T+=1],n+=" || "+y+" == "+t.util.toQuotedString(G)+" "}if(S.length){var M=S;if(M)for(var N=-1,L=M.length-1;N<L;)it=M[N+=1],n+=" || "+t.usePattern(it)+".test("+y+") "}n+=" ); if (isAdditional"+i+") { "}if("all"==A)n+=" delete "+l+"["+y+"]; ";else{var B=t.errorPath,U="' + "+y+" + '";if(t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPathExpr(t.errorPath,y,t.opts.jsonPointers)),O)if(A)n+=" delete "+l+"["+y+"]; ";else{n+=" "+p+" = false; ";var $=u;u=t.errSchemaPath+"/additionalProperties",(et=et||[]).push(n),n="",!1!==t.createErrors?(n+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { additionalProperty: '"+U+"' } ",!1!==t.opts.messages&&(n+=" , message: '",t.opts._errorDataPathProperty?n+="is an invalid additional property":n+="should NOT have additional properties",n+="' "),t.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var z=n;n=et.pop(),!t.compositeRule&&c?t.async?n+=" throw new ValidationError(["+z+"]); ":n+=" validate.errors = ["+z+"]; return false; ":n+=" var err = "+z+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u=$,c&&(n+=" break; ")}else if(C)if("failing"==A){n+=" var "+h+" = errors;  ";var q=t.compositeRule;t.compositeRule=f.compositeRule=!0,f.schema=E,f.schemaPath=t.schemaPath+".additionalProperties",f.errSchemaPath=t.errSchemaPath+"/additionalProperties",f.errorPath=t.opts._errorDataPathProperty?t.errorPath:t.util.getPathExpr(t.errorPath,y,t.opts.jsonPointers);var Y=l+"["+y+"]";f.dataPathArr[m]=y;var W=t.validate(f);f.baseId=j,t.util.varOccurences(W,g)<2?n+=" "+t.util.varReplace(W,g,Y)+" ":n+=" var "+g+" = "+Y+"; "+W+" ",n+=" if (!"+p+") { errors = "+h+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+l+"["+y+"]; }  ",t.compositeRule=f.compositeRule=q}else{f.schema=E,f.schemaPath=t.schemaPath+".additionalProperties",f.errSchemaPath=t.errSchemaPath+"/additionalProperties",f.errorPath=t.opts._errorDataPathProperty?t.errorPath:t.util.getPathExpr(t.errorPath,y,t.opts.jsonPointers);Y=l+"["+y+"]";f.dataPathArr[m]=y;W=t.validate(f);f.baseId=j,t.util.varOccurences(W,g)<2?n+=" "+t.util.varReplace(W,g,Y)+" ":n+=" var "+g+" = "+Y+"; "+W+" ",c&&(n+=" if (!"+p+") break; ")}t.errorPath=B}x&&(n+=" } "),n+=" }  ",c&&(n+=" if ("+p+") { ",d+="}")}var V=t.opts.useDefaults&&!t.compositeRule;if(w.length){var H=w;if(H)for(var G,J=-1,K=H.length-1;J<K;){var Q=s[G=H[J+=1]];if(t.util.schemaHasRules(Q,t.RULES.all)){var Z=t.util.getProperty(G),X=(Y=l+Z,V&&void 0!==Q.default);f.schema=Q,f.schemaPath=a+Z,f.errSchemaPath=u+"/"+t.util.escapeFragment(G),f.errorPath=t.util.getPath(t.errorPath,G,t.opts.jsonPointers),f.dataPathArr[m]=t.util.toQuotedString(G);W=t.validate(f);if(f.baseId=j,t.util.varOccurences(W,g)<2){W=t.util.varReplace(W,g,Y);var tt=Y}else{tt=g;n+=" var "+g+" = "+Y+"; "}if(X)n+=" "+W+" ";else{if(R&&R[G]){n+=" if ( "+tt+" === undefined ",P&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+t.util.escapeQuotes(G)+"') "),n+=") { "+p+" = false; ";B=t.errorPath,$=u;var et,rt=t.util.escapeQuotes(G);t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPath(B,G,t.opts.jsonPointers)),u=t.errSchemaPath+"/required",(et=et||[]).push(n),n="",!1!==t.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { missingProperty: '"+rt+"' } ",!1!==t.opts.messages&&(n+=" , message: '",t.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+rt+"\\'",n+="' "),t.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";z=n;n=et.pop(),!t.compositeRule&&c?t.async?n+=" throw new ValidationError(["+z+"]); ":n+=" validate.errors = ["+z+"]; return false; ":n+=" var err = "+z+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u=$,t.errorPath=B,n+=" } else { "}else c?(n+=" if ( "+tt+" === undefined ",P&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+t.util.escapeQuotes(G)+"') "),n+=") { "+p+" = true; } else { "):(n+=" if ("+tt+" !== undefined ",P&&(n+=" &&   Object.prototype.hasOwnProperty.call("+l+", '"+t.util.escapeQuotes(G)+"') "),n+=" ) { ");n+=" "+W+" } "}}c&&(n+=" if ("+p+") { ",d+="}")}}if(S.length){var nt=S;if(nt)for(var it,ot=-1,st=nt.length-1;ot<st;){Q=_[it=nt[ot+=1]];if(t.util.schemaHasRules(Q,t.RULES.all)){f.schema=Q,f.schemaPath=t.schemaPath+".patternProperties"+t.util.getProperty(it),f.errSchemaPath=t.errSchemaPath+"/patternProperties/"+t.util.escapeFragment(it),n+=P?" "+b+" = "+b+" || Object.keys("+l+"); for (var "+v+"=0; "+v+"<"+b+".length; "+v+"++) { var "+y+" = "+b+"["+v+"]; ":" for (var "+y+" in "+l+") { ",n+=" if ("+t.usePattern(it)+".test("+y+")) { ",f.errorPath=t.util.getPathExpr(t.errorPath,y,t.opts.jsonPointers);Y=l+"["+y+"]";f.dataPathArr[m]=y;W=t.validate(f);f.baseId=j,t.util.varOccurences(W,g)<2?n+=" "+t.util.varReplace(W,g,Y)+" ":n+=" var "+g+" = "+Y+"; "+W+" ",c&&(n+=" if (!"+p+") break; "),n+=" } ",c&&(n+=" else "+p+" = true; "),n+=" }  ",c&&(n+=" if ("+p+") { ",d+="}")}}}return c&&(n+=" "+d+" if ("+h+" == errors) {"),n=t.util.cleanUpCode(n)}})),i.register("kP8wy",(function(t,e){"use strict";t.exports=function(t,e,r){var n=" ",i=t.level,o=t.dataLevel,s=t.schema[e],a=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,l="data"+(o||""),h="errs__"+i,f=t.util.copy(t);f.level++;var d="valid"+f.level;if(n+="var "+h+" = errors;",t.util.schemaHasRules(s,t.RULES.all)){f.schema=s,f.schemaPath=a,f.errSchemaPath=u;var p="key"+i,y="idx"+i,v="i"+i,m="' + "+p+" + '",g="data"+(f.dataLevel=t.dataLevel+1),b="dataProperties"+i,w=t.opts.ownProperties,_=t.baseId;w&&(n+=" var "+b+" = undefined; "),n+=w?" "+b+" = "+b+" || Object.keys("+l+"); for (var "+y+"=0; "+y+"<"+b+".length; "+y+"++) { var "+p+" = "+b+"["+y+"]; ":" for (var "+p+" in "+l+") { ",n+=" var startErrs"+i+" = errors; ";var S=p,E=t.compositeRule;t.compositeRule=f.compositeRule=!0;var x=t.validate(f);f.baseId=_,t.util.varOccurences(x,g)<2?n+=" "+t.util.varReplace(x,g,S)+" ":n+=" var "+g+" = "+S+"; "+x+" ",t.compositeRule=f.compositeRule=E,n+=" if (!"+d+") { for (var "+v+"=startErrs"+i+"; "+v+"<errors; "+v+"++) { vErrors["+v+"].propertyName = "+p+"; }   var err =   ",!1!==t.createErrors?(n+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { propertyName: '"+m+"' } ",!1!==t.opts.messages&&(n+=" , message: 'property name \\'"+m+"\\' is invalid' "),t.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&c&&(t.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),c&&(n+=" break; "),n+=" } }"}return c&&(n+="  if ("+h+" == errors) {"),n=t.util.cleanUpCode(n)}})),i.register("vSqL5",(function(t,e){"use strict";t.exports=function(t,e,r){var n=" ",i=t.level,o=t.dataLevel,s=t.schema[e],a=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,l="data"+(o||""),h="valid"+i,f=t.opts.$data&&s&&s.$data;f&&(n+=" var schema"+i+" = "+t.util.getData(s.$data,o,t.dataPathArr)+"; ");var d="schema"+i;if(!f)if(s.length<t.opts.loopRequired&&t.schema.properties&&Object.keys(t.schema.properties).length){var p=[],y=s;if(y)for(var v,m=-1,g=y.length-1;m<g;){v=y[m+=1];var b=t.schema.properties[v];b&&t.util.schemaHasRules(b,t.RULES.all)||(p[p.length]=v)}}else p=s;if(f||p.length){var w=t.errorPath,_=f||p.length>=t.opts.loopRequired,S=t.opts.ownProperties;if(c)if(n+=" var missing"+i+"; ",_){f||(n+=" var "+d+" = validate.schema"+a+"; ");var E="' + "+(P="schema"+i+"["+(C="i"+i)+"]")+" + '";t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPathExpr(w,P,t.opts.jsonPointers)),n+=" var "+h+" = true; ",f&&(n+=" if (schema"+i+" === undefined) "+h+" = true; else if (!Array.isArray(schema"+i+")) "+h+" = false; else {"),n+=" for (var "+C+" = 0; "+C+" < "+d+".length; "+C+"++) { "+h+" = "+l+"["+d+"["+C+"]] !== undefined ",S&&(n+=" &&   Object.prototype.hasOwnProperty.call("+l+", "+d+"["+C+"]) "),n+="; if (!"+h+") break; } ",f&&(n+="  }  "),n+="  if (!"+h+") {   ",(k=k||[]).push(n),n="",!1!==t.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { missingProperty: '"+E+"' } ",!1!==t.opts.messages&&(n+=" , message: '",t.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+E+"\\'",n+="' "),t.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var x=n;n=k.pop(),!t.compositeRule&&c?t.async?n+=" throw new ValidationError(["+x+"]); ":n+=" validate.errors = ["+x+"]; return false; ":n+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { "}else{n+=" if ( ";var O=p;if(O)for(var C=-1,A=O.length-1;C<A;){D=O[C+=1],C&&(n+=" || "),n+=" ( ( "+(F=l+(T=t.util.getProperty(D)))+" === undefined ",S&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+t.util.escapeQuotes(D)+"') "),n+=") && (missing"+i+" = "+t.util.toQuotedString(t.opts.jsonPointers?D:T)+") ) "}n+=") {  ";var k;E="' + "+(P="missing"+i)+" + '";t.opts._errorDataPathProperty&&(t.errorPath=t.opts.jsonPointers?t.util.getPathExpr(w,P,!0):w+" + "+P),(k=k||[]).push(n),n="",!1!==t.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { missingProperty: '"+E+"' } ",!1!==t.opts.messages&&(n+=" , message: '",t.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+E+"\\'",n+="' "),t.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";x=n;n=k.pop(),!t.compositeRule&&c?t.async?n+=" throw new ValidationError(["+x+"]); ":n+=" validate.errors = ["+x+"]; return false; ":n+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { "}else if(_){f||(n+=" var "+d+" = validate.schema"+a+"; ");var P;E="' + "+(P="schema"+i+"["+(C="i"+i)+"]")+" + '";t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPathExpr(w,P,t.opts.jsonPointers)),f&&(n+=" if ("+d+" && !Array.isArray("+d+")) {  var err =   ",!1!==t.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { missingProperty: '"+E+"' } ",!1!==t.opts.messages&&(n+=" , message: '",t.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+E+"\\'",n+="' "),t.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+d+" !== undefined) { "),n+=" for (var "+C+" = 0; "+C+" < "+d+".length; "+C+"++) { if ("+l+"["+d+"["+C+"]] === undefined ",S&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", "+d+"["+C+"]) "),n+=") {  var err =   ",!1!==t.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { missingProperty: '"+E+"' } ",!1!==t.opts.messages&&(n+=" , message: '",t.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+E+"\\'",n+="' "),t.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",f&&(n+="  }  ")}else{var j=p;if(j)for(var D,R=-1,I=j.length-1;R<I;){D=j[R+=1];var T=t.util.getProperty(D),F=(E=t.util.escapeQuotes(D),l+T);t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPath(w,D,t.opts.jsonPointers)),n+=" if ( "+F+" === undefined ",S&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+t.util.escapeQuotes(D)+"') "),n+=") {  var err =   ",!1!==t.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { missingProperty: '"+E+"' } ",!1!==t.opts.messages&&(n+=" , message: '",t.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+E+"\\'",n+="' "),t.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}t.errorPath=w}else c&&(n+=" if (true) {");return n}})),i.register("9E7iy",(function(t,e){"use strict";t.exports=function(t,e,r){var n,i=" ",o=t.level,s=t.dataLevel,a=t.schema[e],u=t.schemaPath+t.util.getProperty(e),c=t.errSchemaPath+"/"+e,l=!t.opts.allErrors,h="data"+(s||""),f="valid"+o,d=t.opts.$data&&a&&a.$data;if(d?(i+=" var schema"+o+" = "+t.util.getData(a.$data,s,t.dataPathArr)+"; ",n="schema"+o):n=a,(a||d)&&!1!==t.opts.uniqueItems){d&&(i+=" var "+f+"; if ("+n+" === false || "+n+" === undefined) "+f+" = true; else if (typeof "+n+" != 'boolean') "+f+" = false; else { "),i+=" var i = "+h+".length , "+f+" = true , j; if (i > 1) { ";var p=t.schema.items&&t.schema.items.type,y=Array.isArray(p);if(!p||"object"==p||"array"==p||y&&(p.indexOf("object")>=0||p.indexOf("array")>=0))i+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+h+"[i], "+h+"[j])) { "+f+" = false; break outer; } } } ";else{i+=" var itemIndices = {}, item; for (;i--;) { var item = "+h+"[i]; ";var v="checkDataType"+(y?"s":"");i+=" if ("+t.util[v](p,"item",!0)+") continue; ",y&&(i+=" if (typeof item == 'string') item = '\"' + item; "),i+=" if (typeof itemIndices[item] == 'number') { "+f+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}i+=" } ",d&&(i+="  }  "),i+=" if (!"+f+") {   ";var m=m||[];m.push(i),i="",!1!==t.createErrors?(i+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { i: i, j: j } ",!1!==t.opts.messages&&(i+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),t.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+u:""+a,i+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var g=i;i=m.pop(),!t.compositeRule&&l?t.async?i+=" throw new ValidationError(["+g+"]); ":i+=" validate.errors = ["+g+"]; return false; ":i+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",l&&(i+=" else { ")}else l&&(i+=" if (true) { ");return i}})),i.register("dSFL3",(function(t,e){"use strict";var r=i("gvoRe").MissingRef;t.exports=function t(e,n,i){var o=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof n&&(i=n,n=void 0);var s=a(e).then((function(){var t=o._addSchema(e,void 0,n);return t.validate||u(t)}));i&&s.then((function(t){i(null,t)}),i);return s;function a(e){var r=e.$schema;return r&&!o.getSchema(r)?t.call(o,{$ref:r},!0):Promise.resolve()}function u(t){try{return o._compile(t)}catch(e){if(e instanceof r)return function(e){var r=e.missingSchema;if(c(r))throw new Error("Schema "+r+" is loaded but "+e.missingRef+" cannot be resolved");var i=o._loadingSchemas[r];i||(i=o._loadingSchemas[r]=o._opts.loadSchema(r)).then(s,s);return i.then((function(t){if(!c(r))return a(t).then((function(){c(r)||o.addSchema(t,r,void 0,n)}))})).then((function(){return u(t)}));function s(){delete o._loadingSchemas[r]}function c(t){return o._refs[t]||o._schemas[t]}}(e);throw e}}}})),i.register("gvoRe",(function(t,e){"use strict";var r=i("kLpty");function n(t,e,i){this.message=i||n.message(t,e),this.missingRef=r.url(t,e),this.missingSchema=r.normalizeId(r.fullPath(this.missingRef))}function o(t){return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}t.exports={Validation:o((function(t){this.message="validation failed",this.errors=t,this.ajv=this.validation=!0})),MissingRef:o(n)},n.message=function(t,e){return"can't resolve reference "+e+" from id "+t}})),i.register("kLpty",(function(t,e){"use strict";var r=i("e11rB"),n=i("jJuoE"),o=i("fncO2"),s=i("3BSTp"),a=i("eciBi");function u(t,e,r){var n=this._refs[r];if("string"==typeof n){if(!this._refs[n])return u.call(this,t,e,n);n=this._refs[n]}if((n=n||this._schemas[r])instanceof s)return p(n.schema,this._opts.inlineRefs)?n.schema:n.validate||this._compile(n);var i,o,a,l=c.call(this,e,r);return l&&(i=l.schema,e=l.root,a=l.baseId),i instanceof s?o=i.validate||t.call(this,i.schema,e,void 0,a):void 0!==i&&(o=p(i,this._opts.inlineRefs)?i:t.call(this,i,e,void 0,a)),o}function c(t,e){var n=r.parse(e),i=g(n),o=m(this._getId(t.schema));if(0===Object.keys(t.schema).length||i!==o){var a=w(i),u=this._refs[a];if("string"==typeof u)return l.call(this,t,u,n);if(u instanceof s)u.validate||this._compile(u),t=u;else{if(!((u=this._schemas[a])instanceof s))return;if(u.validate||this._compile(u),a==w(e))return{schema:u,root:t,baseId:o};t=u}if(!t.schema)return;o=m(this._getId(t.schema))}return f.call(this,n,o,t.schema,t)}function l(t,e,r){var n=c.call(this,t,e);if(n){var i=n.schema,o=n.baseId;t=n.root;var s=this._getId(i);return s&&(o=_(o,s)),f.call(this,r,o,i,t)}}t.exports=u,u.normalizeId=w,u.fullPath=m,u.url=_,u.ids=function(t){var e=w(this._getId(t)),i={"":e},s={"":m(e,!1)},u={},c=this;return a(t,{allKeys:!0},(function(t,e,a,l,h,f,d){if(""!==e){var p=c._getId(t),y=i[l],v=s[l]+"/"+h;if(void 0!==d&&(v+="/"+("number"==typeof d?d:o.escapeFragment(d))),"string"==typeof p){p=y=w(y?r.resolve(y,p):p);var m=c._refs[p];if("string"==typeof m&&(m=c._refs[m]),m&&m.schema){if(!n(t,m.schema))throw new Error('id "'+p+'" resolves to more than one schema')}else if(p!=w(v))if("#"==p[0]){if(u[p]&&!n(t,u[p]))throw new Error('id "'+p+'" resolves to more than one schema');u[p]=t}else c._refs[p]=v}i[e]=y,s[e]=v}})),u},u.inlineRef=p,u.schema=c;var h=o.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function f(t,e,r,n){if(t.fragment=t.fragment||"","/"==t.fragment.slice(0,1)){for(var i=t.fragment.split("/"),s=1;s<i.length;s++){var a=i[s];if(a){if(void 0===(r=r[a=o.unescapeFragment(a)]))break;var u;if(!h[a]&&((u=this._getId(r))&&(e=_(e,u)),r.$ref)){var l=_(e,r.$ref),f=c.call(this,n,l);f&&(r=f.schema,n=f.root,e=f.baseId)}}}return void 0!==r&&r!==n.schema?{schema:r,root:n,baseId:e}:void 0}}var d=o.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function p(t,e){return!1!==e&&(void 0===e||!0===e?y(t):e?v(t)<=e:void 0)}function y(t){var e;if(Array.isArray(t)){for(var r=0;r<t.length;r++)if("object"==typeof(e=t[r])&&!y(e))return!1}else for(var n in t){if("$ref"==n)return!1;if("object"==typeof(e=t[n])&&!y(e))return!1}return!0}function v(t){var e,r=0;if(Array.isArray(t)){for(var n=0;n<t.length;n++)if("object"==typeof(e=t[n])&&(r+=v(e)),r==1/0)return 1/0}else for(var i in t){if("$ref"==i)return 1/0;if(d[i])r++;else if("object"==typeof(e=t[i])&&(r+=v(e)+1),r==1/0)return 1/0}return r}function m(t,e){return!1!==e&&(t=w(t)),g(r.parse(t))}function g(t){return r.serialize(t).split("#")[0]+"#"}var b=/#\/?$/;function w(t){return t?t.replace(b,""):""}function _(t,e){return e=w(e),r.resolve(t,e)}})),i.register("e11rB",(function(t,e){
/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */t.exports,function(t){"use strict";function e(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];if(e.length>1){e[0]=e[0].slice(0,-1);for(var n=e.length-1,i=1;i<n;++i)e[i]=e[i].slice(1,-1);return e[n]=e[n].slice(1),e.join("")}return e[0]}function r(t){return"(?:"+t+")"}function n(t){return void 0===t?"undefined":null===t?"null":Object.prototype.toString.call(t).split(" ").pop().split("]").shift().toLowerCase()}function i(t){return t.toUpperCase()}function o(t){return null!=t?t instanceof Array?t:"number"!=typeof t.length||t.split||t.setInterval||t.call?[t]:Array.prototype.slice.call(t):[]}function s(t,e){var r=t;if(e)for(var n in e)r[n]=e[n];return r}function a(t){var n="[A-Za-z]",i="[0-9]",o=e(i,"[A-Fa-f]"),s=r(r("%[EFef]"+o+"%"+o+o+"%"+o+o)+"|"+r("%[89A-Fa-f]"+o+"%"+o+o)+"|"+r("%"+o+o)),a="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",u=e("[\\:\\/\\?\\#\\[\\]\\@]",a),c=t?"[\\uE000-\\uF8FF]":"[]",l=e(n,i,"[\\-\\.\\_\\~]",t?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),h=r(n+e(n,i,"[\\+\\-\\.]")+"*"),f=r(r(s+"|"+e(l,a,"[\\:]"))+"*"),d=(r(r("25[0-5]")+"|"+r("2[0-4]"+i)+"|"+r("1"+i+i)+"|"+r("[1-9]"+i)+"|"+i),r(r("25[0-5]")+"|"+r("2[0-4]"+i)+"|"+r("1"+i+i)+"|"+r("0?[1-9]"+i)+"|0?0?"+i)),p=r(d+"\\."+d+"\\."+d+"\\."+d),y=r(o+"{1,4}"),v=r(r(y+"\\:"+y)+"|"+p),m=r(r(y+"\\:")+"{6}"+v),g=r("\\:\\:"+r(y+"\\:")+"{5}"+v),b=r(r(y)+"?\\:\\:"+r(y+"\\:")+"{4}"+v),w=r(r(r(y+"\\:")+"{0,1}"+y)+"?\\:\\:"+r(y+"\\:")+"{3}"+v),_=r(r(r(y+"\\:")+"{0,2}"+y)+"?\\:\\:"+r(y+"\\:")+"{2}"+v),S=r(r(r(y+"\\:")+"{0,3}"+y)+"?\\:\\:"+y+"\\:"+v),E=r(r(r(y+"\\:")+"{0,4}"+y)+"?\\:\\:"+v),x=r(r(r(y+"\\:")+"{0,5}"+y)+"?\\:\\:"+y),O=r(r(r(y+"\\:")+"{0,6}"+y)+"?\\:\\:"),C=r([m,g,b,w,_,S,E,x,O].join("|")),A=r(r(l+"|"+s)+"+"),k=(r(C+"\\%25"+A),r(C+r("\\%25|\\%(?!"+o+"{2})")+A)),P=r("[vV]"+o+"+\\."+e(l,a,"[\\:]")+"+"),j=r("\\["+r(k+"|"+C+"|"+P)+"\\]"),D=r(r(s+"|"+e(l,a))+"*"),R=r(j+"|"+p+"(?!"+D+")|"+D),I=r(i+"*"),T=r(r(f+"@")+"?"+R+r("\\:"+I)+"?"),F=r(s+"|"+e(l,a,"[\\:\\@]")),M=r(F+"*"),N=r(F+"+"),L=r(r(s+"|"+e(l,a,"[\\@]"))+"+"),B=r(r("\\/"+M)+"*"),U=r("\\/"+r(N+B)+"?"),$=r(L+B),z=r(N+B),q="(?!"+F+")",Y=(r(B+"|"+U+"|"+$+"|"+z+"|"+q),r(r(F+"|"+e("[\\/\\?]",c))+"*")),W=r(r(F+"|[\\/\\?]")+"*"),V=r(r("\\/\\/"+T+B)+"|"+U+"|"+z+"|"+q),H=r(h+"\\:"+V+r("\\?"+Y)+"?"+r("\\#"+W)+"?"),G=r(r("\\/\\/"+T+B)+"|"+U+"|"+$+"|"+q),J=r(G+r("\\?"+Y)+"?"+r("\\#"+W)+"?");return r(H+"|"+J),r(h+"\\:"+V+r("\\?"+Y)+"?"),r(r("\\/\\/("+r("("+f+")@")+"?("+R+")"+r("\\:("+I+")")+"?)")+"?("+B+"|"+U+"|"+z+"|"+q+")"),r("\\?("+Y+")"),r("\\#("+W+")"),r(r("\\/\\/("+r("("+f+")@")+"?("+R+")"+r("\\:("+I+")")+"?)")+"?("+B+"|"+U+"|"+$+"|"+q+")"),r("\\?("+Y+")"),r("\\#("+W+")"),r(r("\\/\\/("+r("("+f+")@")+"?("+R+")"+r("\\:("+I+")")+"?)")+"?("+B+"|"+U+"|"+z+"|"+q+")"),r("\\?("+Y+")"),r("\\#("+W+")"),r("("+f+")@"),r("\\:("+I+")"),{NOT_SCHEME:new RegExp(e("[^]",n,i,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(e("[^\\%\\:]",l,a),"g"),NOT_HOST:new RegExp(e("[^\\%\\[\\]\\:]",l,a),"g"),NOT_PATH:new RegExp(e("[^\\%\\/\\:\\@]",l,a),"g"),NOT_PATH_NOSCHEME:new RegExp(e("[^\\%\\/\\@]",l,a),"g"),NOT_QUERY:new RegExp(e("[^\\%]",l,a,"[\\:\\@\\/\\?]",c),"g"),NOT_FRAGMENT:new RegExp(e("[^\\%]",l,a,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(e("[^]",l,a),"g"),UNRESERVED:new RegExp(l,"g"),OTHER_CHARS:new RegExp(e("[^\\%]",l,u),"g"),PCT_ENCODED:new RegExp(s,"g"),IPV4ADDRESS:new RegExp("^("+p+")$"),IPV6ADDRESS:new RegExp("^\\[?("+C+")"+r(r("\\%25|\\%(?!"+o+"{2})")+"("+A+")")+"?\\]?$")}}var u=a(!1),c=a(!0),l=function(){function t(t,e){var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw o}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)},f=2147483647,d=36,p=1,y=26,v=38,m=700,g=72,b=128,w="-",_=/^xn--/,S=/[^\0-\x7E]/,E=/[\x2E\u3002\uFF0E\uFF61]/g,x={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},O=d-p,C=Math.floor,A=String.fromCharCode;function k(t){throw new RangeError(x[t])}function P(t,e){for(var r=[],n=t.length;n--;)r[n]=e(t[n]);return r}function j(t,e){var r=t.split("@"),n="";return r.length>1&&(n=r[0]+"@",t=r[1]),n+P((t=t.replace(E,".")).split("."),e).join(".")}function D(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var o=t.charCodeAt(r++);56320==(64512&o)?e.push(((1023&i)<<10)+(1023&o)+65536):(e.push(i),r--)}else e.push(i)}return e}var R=function(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:d},I=function(t,e){return t+22+75*(t<26)-((0!=e)<<5)},T=function(t,e,r){var n=0;for(t=r?C(t/m):t>>1,t+=C(t/e);t>O*y>>1;n+=d)t=C(t/O);return C(n+(O+1)*t/(t+v))},F=function(t){var e=[],r=t.length,n=0,i=b,o=g,s=t.lastIndexOf(w);s<0&&(s=0);for(var a=0;a<s;++a)t.charCodeAt(a)>=128&&k("not-basic"),e.push(t.charCodeAt(a));for(var u=s>0?s+1:0;u<r;){for(var c=n,l=1,h=d;;h+=d){u>=r&&k("invalid-input");var v=R(t.charCodeAt(u++));(v>=d||v>C((f-n)/l))&&k("overflow"),n+=v*l;var m=h<=o?p:h>=o+y?y:h-o;if(v<m)break;var _=d-m;l>C(f/_)&&k("overflow"),l*=_}var S=e.length+1;o=T(n-c,S,0==c),C(n/S)>f-i&&k("overflow"),i+=C(n/S),n%=S,e.splice(n++,0,i)}return String.fromCodePoint.apply(String,e)},M=function(t){var e=[],r=(t=D(t)).length,n=b,i=0,o=g,s=!0,a=!1,u=void 0;try{for(var c,l=t[Symbol.iterator]();!(s=(c=l.next()).done);s=!0){var h=c.value;h<128&&e.push(A(h))}}catch(t){a=!0,u=t}finally{try{!s&&l.return&&l.return()}finally{if(a)throw u}}var v=e.length,m=v;for(v&&e.push(w);m<r;){var _=f,S=!0,E=!1,x=void 0;try{for(var O,P=t[Symbol.iterator]();!(S=(O=P.next()).done);S=!0){var j=O.value;j>=n&&j<_&&(_=j)}}catch(t){E=!0,x=t}finally{try{!S&&P.return&&P.return()}finally{if(E)throw x}}var R=m+1;_-n>C((f-i)/R)&&k("overflow"),i+=(_-n)*R,n=_;var F=!0,M=!1,N=void 0;try{for(var L,B=t[Symbol.iterator]();!(F=(L=B.next()).done);F=!0){var U=L.value;if(U<n&&++i>f&&k("overflow"),U==n){for(var $=i,z=d;;z+=d){var q=z<=o?p:z>=o+y?y:z-o;if($<q)break;var Y=$-q,W=d-q;e.push(A(I(q+Y%W,0))),$=C(Y/W)}e.push(A(I($,0))),o=T(i,R,m==v),i=0,++m}}}catch(t){M=!0,N=t}finally{try{!F&&B.return&&B.return()}finally{if(M)throw N}}++i,++n}return e.join("")},N=function(t){return j(t,(function(t){return _.test(t)?F(t.slice(4).toLowerCase()):t}))},L=function(t){return j(t,(function(t){return S.test(t)?"xn--"+M(t):t}))},B={version:"2.1.0",ucs2:{decode:D,encode:function(t){return String.fromCodePoint.apply(String,h(t))}},decode:F,encode:M,toASCII:L,toUnicode:N},U={};function $(t){var e=t.charCodeAt(0);return e<16?"%0"+e.toString(16).toUpperCase():e<128?"%"+e.toString(16).toUpperCase():e<2048?"%"+(e>>6|192).toString(16).toUpperCase()+"%"+(63&e|128).toString(16).toUpperCase():"%"+(e>>12|224).toString(16).toUpperCase()+"%"+(e>>6&63|128).toString(16).toUpperCase()+"%"+(63&e|128).toString(16).toUpperCase()}function z(t){for(var e="",r=0,n=t.length;r<n;){var i=parseInt(t.substr(r+1,2),16);if(i<128)e+=String.fromCharCode(i),r+=3;else if(i>=194&&i<224){if(n-r>=6){var o=parseInt(t.substr(r+4,2),16);e+=String.fromCharCode((31&i)<<6|63&o)}else e+=t.substr(r,6);r+=6}else if(i>=224){if(n-r>=9){var s=parseInt(t.substr(r+4,2),16),a=parseInt(t.substr(r+7,2),16);e+=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}else e+=t.substr(r,9);r+=9}else e+=t.substr(r,3),r+=3}return e}function q(t,e){function r(t){var r=z(t);return r.match(e.UNRESERVED)?r:t}return t.scheme&&(t.scheme=String(t.scheme).replace(e.PCT_ENCODED,r).toLowerCase().replace(e.NOT_SCHEME,"")),void 0!==t.userinfo&&(t.userinfo=String(t.userinfo).replace(e.PCT_ENCODED,r).replace(e.NOT_USERINFO,$).replace(e.PCT_ENCODED,i)),void 0!==t.host&&(t.host=String(t.host).replace(e.PCT_ENCODED,r).toLowerCase().replace(e.NOT_HOST,$).replace(e.PCT_ENCODED,i)),void 0!==t.path&&(t.path=String(t.path).replace(e.PCT_ENCODED,r).replace(t.scheme?e.NOT_PATH:e.NOT_PATH_NOSCHEME,$).replace(e.PCT_ENCODED,i)),void 0!==t.query&&(t.query=String(t.query).replace(e.PCT_ENCODED,r).replace(e.NOT_QUERY,$).replace(e.PCT_ENCODED,i)),void 0!==t.fragment&&(t.fragment=String(t.fragment).replace(e.PCT_ENCODED,r).replace(e.NOT_FRAGMENT,$).replace(e.PCT_ENCODED,i)),t}function Y(t){return t.replace(/^0*(.*)/,"$1")||"0"}function W(t,e){var r=t.match(e.IPV4ADDRESS)||[],n=l(r,2)[1];return n?n.split(".").map(Y).join("."):t}function V(t,e){var r=t.match(e.IPV6ADDRESS)||[],n=l(r,3),i=n[1],o=n[2];if(i){for(var s=i.toLowerCase().split("::").reverse(),a=l(s,2),u=a[0],c=a[1],h=c?c.split(":").map(Y):[],f=u.split(":").map(Y),d=e.IPV4ADDRESS.test(f[f.length-1]),p=d?7:8,y=f.length-p,v=Array(p),m=0;m<p;++m)v[m]=h[m]||f[y+m]||"";d&&(v[p-1]=W(v[p-1],e));var g=v.reduce((function(t,e,r){if(!e||"0"===e){var n=t[t.length-1];n&&n.index+n.length===r?n.length++:t.push({index:r,length:1})}return t}),[]).sort((function(t,e){return e.length-t.length}))[0],b=void 0;if(g&&g.length>1){var w=v.slice(0,g.index),_=v.slice(g.index+g.length);b=w.join(":")+"::"+_.join(":")}else b=v.join(":");return o&&(b+="%"+o),b}return t}var H=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,G=void 0==="".match(/(){0}/)[1];function J(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},n=!1!==e.iri?c:u;"suffix"===e.reference&&(t=(e.scheme?e.scheme+":":"")+"//"+t);var i=t.match(H);if(i){G?(r.scheme=i[1],r.userinfo=i[3],r.host=i[4],r.port=parseInt(i[5],10),r.path=i[6]||"",r.query=i[7],r.fragment=i[8],isNaN(r.port)&&(r.port=i[5])):(r.scheme=i[1]||void 0,r.userinfo=-1!==t.indexOf("@")?i[3]:void 0,r.host=-1!==t.indexOf("//")?i[4]:void 0,r.port=parseInt(i[5],10),r.path=i[6]||"",r.query=-1!==t.indexOf("?")?i[7]:void 0,r.fragment=-1!==t.indexOf("#")?i[8]:void 0,isNaN(r.port)&&(r.port=t.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?i[4]:void 0)),r.host&&(r.host=V(W(r.host,n),n)),void 0!==r.scheme||void 0!==r.userinfo||void 0!==r.host||void 0!==r.port||r.path||void 0!==r.query?void 0===r.scheme?r.reference="relative":void 0===r.fragment?r.reference="absolute":r.reference="uri":r.reference="same-document",e.reference&&"suffix"!==e.reference&&e.reference!==r.reference&&(r.error=r.error||"URI is not a "+e.reference+" reference.");var o=U[(e.scheme||r.scheme||"").toLowerCase()];if(e.unicodeSupport||o&&o.unicodeSupport)q(r,n);else{if(r.host&&(e.domainHost||o&&o.domainHost))try{r.host=B.toASCII(r.host.replace(n.PCT_ENCODED,z).toLowerCase())}catch(t){r.error=r.error||"Host's domain name can not be converted to ASCII via punycode: "+t}q(r,u)}o&&o.parse&&o.parse(r,e)}else r.error=r.error||"URI can not be parsed.";return r}function K(t,e){var r=!1!==e.iri?c:u,n=[];return void 0!==t.userinfo&&(n.push(t.userinfo),n.push("@")),void 0!==t.host&&n.push(V(W(String(t.host),r),r).replace(r.IPV6ADDRESS,(function(t,e,r){return"["+e+(r?"%25"+r:"")+"]"}))),"number"!=typeof t.port&&"string"!=typeof t.port||(n.push(":"),n.push(String(t.port))),n.length?n.join(""):void 0}var Q=/^\.\.?\//,Z=/^\/\.(\/|$)/,X=/^\/\.\.(\/|$)/,tt=/^\/?(?:.|\n)*?(?=\/|$)/;function et(t){for(var e=[];t.length;)if(t.match(Q))t=t.replace(Q,"");else if(t.match(Z))t=t.replace(Z,"/");else if(t.match(X))t=t.replace(X,"/"),e.pop();else if("."===t||".."===t)t="";else{var r=t.match(tt);if(!r)throw new Error("Unexpected dot segment condition");var n=r[0];t=t.slice(n.length),e.push(n)}return e.join("")}function rt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.iri?c:u,n=[],i=U[(e.scheme||t.scheme||"").toLowerCase()];if(i&&i.serialize&&i.serialize(t,e),t.host)if(r.IPV6ADDRESS.test(t.host));else if(e.domainHost||i&&i.domainHost)try{t.host=e.iri?B.toUnicode(t.host):B.toASCII(t.host.replace(r.PCT_ENCODED,z).toLowerCase())}catch(r){t.error=t.error||"Host's domain name can not be converted to "+(e.iri?"Unicode":"ASCII")+" via punycode: "+r}q(t,r),"suffix"!==e.reference&&t.scheme&&(n.push(t.scheme),n.push(":"));var o=K(t,e);if(void 0!==o&&("suffix"!==e.reference&&n.push("//"),n.push(o),t.path&&"/"!==t.path.charAt(0)&&n.push("/")),void 0!==t.path){var s=t.path;e.absolutePath||i&&i.absolutePath||(s=et(s)),void 0===o&&(s=s.replace(/^\/\//,"/%2F")),n.push(s)}return void 0!==t.query&&(n.push("?"),n.push(t.query)),void 0!==t.fragment&&(n.push("#"),n.push(t.fragment)),n.join("")}function nt(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={};return arguments[3]||(t=J(rt(t,r),r),e=J(rt(e,r),r)),!(r=r||{}).tolerant&&e.scheme?(n.scheme=e.scheme,n.userinfo=e.userinfo,n.host=e.host,n.port=e.port,n.path=et(e.path||""),n.query=e.query):(void 0!==e.userinfo||void 0!==e.host||void 0!==e.port?(n.userinfo=e.userinfo,n.host=e.host,n.port=e.port,n.path=et(e.path||""),n.query=e.query):(e.path?("/"===e.path.charAt(0)?n.path=et(e.path):(void 0===t.userinfo&&void 0===t.host&&void 0===t.port||t.path?t.path?n.path=t.path.slice(0,t.path.lastIndexOf("/")+1)+e.path:n.path=e.path:n.path="/"+e.path,n.path=et(n.path)),n.query=e.query):(n.path=t.path,void 0!==e.query?n.query=e.query:n.query=t.query),n.userinfo=t.userinfo,n.host=t.host,n.port=t.port),n.scheme=t.scheme),n.fragment=e.fragment,n}function it(t,e,r){var n=s({scheme:"null"},r);return rt(nt(J(t,n),J(e,n),n,!0),n)}function ot(t,e){return"string"==typeof t?t=rt(J(t,e),e):"object"===n(t)&&(t=J(rt(t,e),e)),t}function st(t,e,r){return"string"==typeof t?t=rt(J(t,r),r):"object"===n(t)&&(t=rt(t,r)),"string"==typeof e?e=rt(J(e,r),r):"object"===n(e)&&(e=rt(e,r)),t===e}function at(t,e){return t&&t.toString().replace(e&&e.iri?c.ESCAPE:u.ESCAPE,$)}function ut(t,e){return t&&t.toString().replace(e&&e.iri?c.PCT_ENCODED:u.PCT_ENCODED,z)}var ct={scheme:"http",domainHost:!0,parse:function(t,e){return t.host||(t.error=t.error||"HTTP URIs must have a host."),t},serialize:function(t,e){var r="https"===String(t.scheme).toLowerCase();return t.port!==(r?443:80)&&""!==t.port||(t.port=void 0),t.path||(t.path="/"),t}},lt={scheme:"https",domainHost:ct.domainHost,parse:ct.parse,serialize:ct.serialize};function ht(t){return"boolean"==typeof t.secure?t.secure:"wss"===String(t.scheme).toLowerCase()}var ft={scheme:"ws",domainHost:!0,parse:function(t,e){var r=t;return r.secure=ht(r),r.resourceName=(r.path||"/")+(r.query?"?"+r.query:""),r.path=void 0,r.query=void 0,r},serialize:function(t,e){if(t.port!==(ht(t)?443:80)&&""!==t.port||(t.port=void 0),"boolean"==typeof t.secure&&(t.scheme=t.secure?"wss":"ws",t.secure=void 0),t.resourceName){var r=t.resourceName.split("?"),n=l(r,2),i=n[0],o=n[1];t.path=i&&"/"!==i?i:void 0,t.query=o,t.resourceName=void 0}return t.fragment=void 0,t}},dt={scheme:"wss",domainHost:ft.domainHost,parse:ft.parse,serialize:ft.serialize},pt={},yt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",vt="[0-9A-Fa-f]",mt=r(r("%[EFef]"+vt+"%"+vt+vt+"%"+vt+vt)+"|"+r("%[89A-Fa-f]"+vt+"%"+vt+vt)+"|"+r("%"+vt+vt)),gt="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",bt=e("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),wt="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",_t=new RegExp(yt,"g"),St=new RegExp(mt,"g"),Et=new RegExp(e("[^]",gt,"[\\.]",'[\\"]',bt),"g"),xt=new RegExp(e("[^]",yt,wt),"g"),Ot=xt;function Ct(t){var e=z(t);return e.match(_t)?e:t}var At={scheme:"mailto",parse:function(t,e){var r=t,n=r.to=r.path?r.path.split(","):[];if(r.path=void 0,r.query){for(var i=!1,o={},s=r.query.split("&"),a=0,u=s.length;a<u;++a){var c=s[a].split("=");switch(c[0]){case"to":for(var l=c[1].split(","),h=0,f=l.length;h<f;++h)n.push(l[h]);break;case"subject":r.subject=ut(c[1],e);break;case"body":r.body=ut(c[1],e);break;default:i=!0,o[ut(c[0],e)]=ut(c[1],e)}}i&&(r.headers=o)}r.query=void 0;for(var d=0,p=n.length;d<p;++d){var y=n[d].split("@");if(y[0]=ut(y[0]),e.unicodeSupport)y[1]=ut(y[1],e).toLowerCase();else try{y[1]=B.toASCII(ut(y[1],e).toLowerCase())}catch(t){r.error=r.error||"Email address's domain name can not be converted to ASCII via punycode: "+t}n[d]=y.join("@")}return r},serialize:function(t,e){var r=t,n=o(t.to);if(n){for(var s=0,a=n.length;s<a;++s){var u=String(n[s]),c=u.lastIndexOf("@"),l=u.slice(0,c).replace(St,Ct).replace(St,i).replace(Et,$),h=u.slice(c+1);try{h=e.iri?B.toUnicode(h):B.toASCII(ut(h,e).toLowerCase())}catch(t){r.error=r.error||"Email address's domain name can not be converted to "+(e.iri?"Unicode":"ASCII")+" via punycode: "+t}n[s]=l+"@"+h}r.path=n.join(",")}var f=t.headers=t.headers||{};t.subject&&(f.subject=t.subject),t.body&&(f.body=t.body);var d=[];for(var p in f)f[p]!==pt[p]&&d.push(p.replace(St,Ct).replace(St,i).replace(xt,$)+"="+f[p].replace(St,Ct).replace(St,i).replace(Ot,$));return d.length&&(r.query=d.join("&")),r}},kt=/^([^\:]+)\:(.*)/,Pt={scheme:"urn",parse:function(t,e){var r=t.path&&t.path.match(kt),n=t;if(r){var i=e.scheme||n.scheme||"urn",o=r[1].toLowerCase(),s=r[2],a=i+":"+(e.nid||o),u=U[a];n.nid=o,n.nss=s,n.path=void 0,u&&(n=u.parse(n,e))}else n.error=n.error||"URN can not be parsed.";return n},serialize:function(t,e){var r=e.scheme||t.scheme||"urn",n=t.nid,i=r+":"+(e.nid||n),o=U[i];o&&(t=o.serialize(t,e));var s=t,a=t.nss;return s.path=(n||e.nid)+":"+a,s}},jt=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Dt={scheme:"urn:uuid",parse:function(t,e){var r=t;return r.uuid=r.nss,r.nss=void 0,e.tolerant||r.uuid&&r.uuid.match(jt)||(r.error=r.error||"UUID is not valid."),r},serialize:function(t,e){var r=t;return r.nss=(t.uuid||"").toLowerCase(),r}};U[ct.scheme]=ct,U[lt.scheme]=lt,U[ft.scheme]=ft,U[dt.scheme]=dt,U[At.scheme]=At,U[Pt.scheme]=Pt,U[Dt.scheme]=Dt,t.SCHEMES=U,t.pctEncChar=$,t.pctDecChars=z,t.parse=J,t.removeDotSegments=et,t.serialize=rt,t.resolveComponents=nt,t.resolve=it,t.normalize=ot,t.equal=st,t.escapeComponent=at,t.unescapeComponent=ut,Object.defineProperty(t,"__esModule",{value:!0})}(t.exports)})),i.register("fncO2",(function(t,e){"use strict";function r(t,e,r){var n=r?" !== ":" === ",i=r?" || ":" && ",o=r?"!":"",s=r?"":"!";switch(t){case"null":return e+n+"null";case"array":return o+"Array.isArray("+e+")";case"object":return"("+o+e+i+"typeof "+e+n+'"object"'+i+s+"Array.isArray("+e+"))";case"integer":return"(typeof "+e+n+'"number"'+i+s+"("+e+" % 1)"+i+e+n+e+")";default:return"typeof "+e+n+'"'+t+'"'}}t.exports={copy:function(t,e){for(var r in e=e||{},t)e[r]=t[r];return e},checkDataType:r,checkDataTypes:function(t,e){if(1===t.length)return r(t[0],e,!0);var n="",i=o(t);for(var s in i.array&&i.object&&(n=i.null?"(":"(!"+e+" || ",n+="typeof "+e+' !== "object")',delete i.null,delete i.array,delete i.object),i.number&&delete i.integer,i)n+=(n?" && ":"")+r(s,e,!0);return n},coerceToTypes:function(t,e){if(Array.isArray(e)){for(var r=[],i=0;i<e.length;i++){var o=e[i];(n[o]||"array"===t&&"array"===o)&&(r[r.length]=o)}if(r.length)return r}else{if(n[e])return[e];if("array"===t&&"array"===e)return["array"]}},toHash:o,getProperty:u,escapeQuotes:c,equal:i("jJuoE"),ucs2length:i("12ssw"),varOccurences:function(t,e){e+="[^0-9]";var r=t.match(new RegExp(e,"g"));return r?r.length:0},varReplace:function(t,e,r){return e+="([^0-9])",r=r.replace(/\$/g,"$$$$"),t.replace(new RegExp(e,"g"),r+"$1")},cleanUpCode:function(t){return t.replace(l,"").replace(h,"").replace(f,"if (!($1))")},finalCleanUpCode:function(t,e){var r=t.match(d);r&&2==r.length&&(t=e?t.replace(y,"").replace(v,"return data;"):t.replace(p,"").replace("return errors === 0;","validate.errors = null; return true;"));return(r=t.match(m))&&3===r.length?t.replace(g,""):t},schemaHasRules:function(t,e){if("boolean"==typeof t)return!t;for(var r in t)if(e[r])return!0},schemaHasRulesExcept:function(t,e,r){if("boolean"==typeof t)return!t&&"not"!=r;for(var n in t)if(n!=r&&e[n])return!0},toQuotedString:b,getPathExpr:function(t,e,r,n){return S(t,r?"'/' + "+e+(n?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):n?"'[' + "+e+" + ']'":"'[\\'' + "+e+" + '\\']'")},getPath:function(t,e,r){var n=b(r?"/"+E(e):u(e));return S(t,n)},getData:function(t,e,r){var n,i,o,s;if(""===t)return"rootData";if("/"==t[0]){if(!w.test(t))throw new Error("Invalid JSON-pointer: "+t);i=t,o="rootData"}else{if(!(s=t.match(_)))throw new Error("Invalid JSON-pointer: "+t);if(n=+s[1],"#"==(i=s[2])){if(n>=e)throw new Error("Cannot access property/index "+n+" levels up, current level is "+e);return r[e-n]}if(n>e)throw new Error("Cannot access data "+n+" levels up, current level is "+e);if(o="data"+(e-n||""),!i)return o}for(var a=o,c=i.split("/"),l=0;l<c.length;l++){var h=c[l];h&&(o+=u(x(h)),a+=" && "+o)}return a},unescapeFragment:function(t){return x(decodeURIComponent(t))},unescapeJsonPointer:x,escapeFragment:function(t){return encodeURIComponent(E(t))},escapeJsonPointer:E};var n=o(["string","number","integer","boolean","null"]);function o(t){for(var e={},r=0;r<t.length;r++)e[t[r]]=!0;return e}var s=/^[a-z$_][a-z$_0-9]*$/i,a=/'|\\/g;function u(t){return"number"==typeof t?"["+t+"]":s.test(t)?"."+t:"['"+c(t)+"']"}function c(t){return t.replace(a,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}var l=/else\s*{\s*}/g,h=/if\s*\([^)]+\)\s*\{\s*\}(?!\s*else)/g,f=/if\s*\(([^)]+)\)\s*\{\s*\}\s*else(?!\s*if)/g;var d=/[^v.]errors/g,p=/var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g,y=/var errors = 0;|var vErrors = null;/g,v=/if \(errors === 0\) return data;\s*else throw new ValidationError\(vErrors\);/,m=/[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g,g=/if \(rootData === undefined\) rootData = data;/;function b(t){return"'"+c(t)+"'"}var w=/^\/(?:[^~]|~0|~1)*$/,_=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function S(t,e){return'""'==t?e:(t+" + "+e).replace(/' \+ '/g,"")}function E(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}function x(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}})),i.register("3BSTp",(function(t,e){"use strict";var r=i("fncO2");t.exports=function(t){r.copy(t,this)}})),i.register("eciBi",(function(t,e){"use strict";var r=t.exports=function(t,e,r){"function"==typeof e&&(r=e,e={}),n(e,"function"==typeof(r=e.cb||r)?r:r.pre||function(){},r.post||function(){},t,"",t)};function n(t,e,i,o,s,a,u,c,l,h){if(o&&"object"==typeof o&&!Array.isArray(o)){for(var f in e(o,s,a,u,c,l,h),o){var d=o[f];if(Array.isArray(d)){if(f in r.arrayKeywords)for(var p=0;p<d.length;p++)n(t,e,i,d[p],s+"/"+f+"/"+p,a,s,f,o,p)}else if(f in r.propsKeywords){if(d&&"object"==typeof d)for(var y in d)n(t,e,i,d[y],s+"/"+f+"/"+y.replace(/~/g,"~0").replace(/\//g,"~1"),a,s,f,o,y)}else(f in r.keywords||t.allKeys&&!(f in r.skipKeywords))&&n(t,e,i,d,s+"/"+f,a,s,f,o)}i(o,s,a,u,c,l,h)}}r.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},r.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},r.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},r.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}})),i.register("jNsyv",(function(t,e){t.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')})),i.register("3NeM9",(function(t,e){t.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON Schema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')})),i.register("71Ezx",(function(t,e){var r;t.exports,r=function(){return function(){function t(t,e){if(this.app="loki",this.options=e||{},void 0!==t&&(this.app=t),this.catalog=null,!this.checkAvailability())throw new Error("indexedDB does not seem to be supported for your environment")}function e(t){this.db=null,this.initializeLokiCatalog(t)}return t.prototype.closeDatabase=function(){this.catalog&&this.catalog.db&&(this.catalog.db.close(),this.catalog.db=null)},t.prototype.checkAvailability=function(){return!("undefined"==typeof indexedDB||!indexedDB)},t.prototype.loadDatabase=function(t,r){var n=this.app,i=this;null!==this.catalog&&null!==this.catalog.db?this.catalog.getAppKey(n,t,(function(t){if("function"==typeof r){if(0===t.id)return void r(null);r(t.val)}else console.log(t.val)})):this.catalog=new e((function(e){i.catalog=e,i.loadDatabase(t,r)}))},t.prototype.loadKey=t.prototype.loadDatabase,t.prototype.saveDatabase=function(t,r,n){var i=this.app,o=this;function s(t){t&&!0===t.success?n(null):n(new Error("Error saving database")),o.options.closeAfterSave&&o.closeDatabase()}null!==this.catalog&&null!==this.catalog.db?this.catalog.setAppKey(i,t,r,s):this.catalog=new e((function(e){o.saveDatabase(t,r,s)}))},t.prototype.saveKey=t.prototype.saveDatabase,t.prototype.deleteDatabase=function(t,r){var n=this.app,i=this;null!==this.catalog&&null!==this.catalog.db?this.catalog.getAppKey(n,t,(function(t){var e=t.id;0!==e?i.catalog.deleteAppKey(e,r):"function"==typeof r&&r({success:!0})})):this.catalog=new e((function(e){i.catalog=e,i.deleteDatabase(t,r)}))},t.prototype.deleteKey=t.prototype.deleteDatabase,t.prototype.deleteDatabasePartitions=function(t){var e=this;this.getDatabaseList((function(r){r.forEach((function(r){r.startsWith(t)&&e.deleteDatabase(r)}))}))},t.prototype.getDatabaseList=function(t){var r=this.app,n=this;null!==this.catalog&&null!==this.catalog.db?this.catalog.getAppKeys(r,(function(e){for(var r=[],n=0;n<e.length;n++)r.push(e[n].key);"function"==typeof t?t(r):r.forEach((function(t){console.log(t)}))})):this.catalog=new e((function(e){n.catalog=e,n.getDatabaseList(t)}))},t.prototype.getKeyList=t.prototype.getDatabaseList,t.prototype.getCatalogSummary=function(t){this.app;var r=this;null!==this.catalog&&null!==this.catalog.db?this.catalog.getAllKeys((function(e){for(var r,n,i,o,s,a=[],u=0;u<e.length;u++)i=(r=e[u]).app||"",o=r.key||"",s=r.val||"",n=2*i.length+2*o.length+s.length+1,a.push({app:r.app,key:r.key,size:n});"function"==typeof t?t(a):a.forEach((function(t){console.log(t)}))})):this.catalog=new e((function(e){r.catalog=e,r.getCatalogSummary(t)}))},e.prototype.initializeLokiCatalog=function(t){var e=indexedDB.open("LokiCatalog",1),r=this;e.onupgradeneeded=function(t){var e=t.target.result;if(e.objectStoreNames.contains("LokiAKV")&&e.deleteObjectStore("LokiAKV"),!e.objectStoreNames.contains("LokiAKV")){var r=e.createObjectStore("LokiAKV",{keyPath:"id",autoIncrement:!0});r.createIndex("app","app",{unique:!1}),r.createIndex("key","key",{unique:!1}),r.createIndex("appkey","appkey",{unique:!0})}},e.onsuccess=function(e){r.db=e.target.result,"function"==typeof t&&t(r)},e.onerror=function(t){throw t}},e.prototype.getAppKey=function(t,e,r){var n,i=t+","+e,o=this.db.transaction(["LokiAKV"],"readonly").objectStore("LokiAKV").index("appkey").get(i);o.onsuccess=(n=r,function(t){var e=t.target.result;null==e&&(e={id:0,success:!1}),"function"==typeof n?n(e):console.log(e)}),o.onerror=function(t){return function(e){if("function"!=typeof t)throw e;t({id:0,success:!1})}}(r)},e.prototype.getAppKeyById=function(t,e,r){this.db.transaction(["LokiAKV"],"readonly").objectStore("LokiAKV").get(t).onsuccess=function(t,e){return function(r){"function"==typeof e?e(r.target.result,t):console.log(r.target.result)}}(r,e)},e.prototype.setAppKey=function(t,e,r,n){var i,o=this.db.transaction(["LokiAKV"],"readwrite").objectStore("LokiAKV"),s=o.index("appkey"),a=t+","+e,u=s.get(a);u.onsuccess=function(i){var s=i.target.result;null==s?s={app:t,key:e,appkey:t+","+e,val:r}:s.val=r;var a,c=o.put(s);c.onerror=(a=n,function(t){"function"==typeof a?a({success:!1}):(console.error("LokiCatalog.setAppKey (set) onerror"),console.error(u.error))}),c.onsuccess=function(t){return function(e){"function"==typeof t&&t({success:!0})}}(n)},u.onerror=(i=n,function(t){"function"==typeof i?i({success:!1}):(console.error("LokiCatalog.setAppKey (get) onerror"),console.error(u.error))})},e.prototype.deleteAppKey=function(t,e){var r,n=this.db.transaction(["LokiAKV"],"readwrite").objectStore("LokiAKV").delete(t);n.onsuccess=(r=e,function(t){"function"==typeof r&&r({success:!0})}),n.onerror=function(t){return function(e){"function"==typeof t?t({success:!1}):(console.error("LokiCatalog.deleteAppKey raised onerror"),console.error(n.error))}}(e)},e.prototype.getAppKeys=function(t,e){var r,n=this.db.transaction(["LokiAKV"],"readonly").objectStore("LokiAKV").index("app"),i=IDBKeyRange.only(t),o=n.openCursor(i);o.onsuccess=function(t,e){return function(r){var n=r.target.result;if(n){var i=n.value;t.push(i),n.continue()}else"function"==typeof e?e(t):console.log(t)}}([],e),o.onerror=(r=e,function(t){"function"==typeof r?r(null):(console.error("LokiCatalog.getAppKeys raised onerror"),console.error(t))})},e.prototype.getAllKeys=function(t){var e,r=this.db.transaction(["LokiAKV"],"readonly").objectStore("LokiAKV").openCursor();r.onsuccess=function(t,e){return function(r){var n=r.target.result;if(n){var i=n.value;t.push(i),n.continue()}else"function"==typeof e?e(t):console.log(t)}}([],t),r.onerror=(e=t,function(t){"function"==typeof e&&e(null)})},t}()},"function"==typeof define&&define.amd?define([],r):t.exports=r()})),i.register("fZjWS",(function(t,e){t.exports=function(){"use strict";var e,r;function n(){return e.apply(null,arguments)}function i(t){e=t}function o(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function s(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function a(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function u(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(a(t,e))return!1;return!0}function c(t){return void 0===t}function l(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function h(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function f(t,e){var r,n=[],i=t.length;for(r=0;r<i;++r)n.push(e(t[r],r));return n}function d(t,e){for(var r in e)a(e,r)&&(t[r]=e[r]);return a(e,"toString")&&(t.toString=e.toString),a(e,"valueOf")&&(t.valueOf=e.valueOf),t}function p(t,e,r,n){return Hr(t,e,r,n,!0).utc()}function y(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function v(t){return null==t._pf&&(t._pf=y()),t._pf}function m(t){if(null==t._isValid){var e=v(t),n=r.call(e.parsedDateParts,(function(t){return null!=t})),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function g(t){var e=p(NaN);return null!=t?d(v(e),t):v(e).userInvalidated=!0,e}r=Array.prototype.some?Array.prototype.some:function(t){var e,r=Object(this),n=r.length>>>0;for(e=0;e<n;e++)if(e in r&&t.call(this,r[e],e,r))return!0;return!1};var b=n.momentProperties=[],w=!1;function _(t,e){var r,n,i,o=b.length;if(c(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),c(e._i)||(t._i=e._i),c(e._f)||(t._f=e._f),c(e._l)||(t._l=e._l),c(e._strict)||(t._strict=e._strict),c(e._tzm)||(t._tzm=e._tzm),c(e._isUTC)||(t._isUTC=e._isUTC),c(e._offset)||(t._offset=e._offset),c(e._pf)||(t._pf=v(e)),c(e._locale)||(t._locale=e._locale),o>0)for(r=0;r<o;r++)c(i=e[n=b[r]])||(t[n]=i);return t}function S(t){_(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===w&&(w=!0,n.updateOffset(this),w=!1)}function E(t){return t instanceof S||null!=t&&null!=t._isAMomentObject}function x(t){!1===n.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function O(t,e){var r=!0;return d((function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,t),r){var i,o,s,u=[],c=arguments.length;for(o=0;o<c;o++){if(i="","object"==typeof arguments[o]){for(s in i+="\n["+o+"] ",arguments[0])a(arguments[0],s)&&(i+=s+": "+arguments[0][s]+", ");i=i.slice(0,-2)}else i=arguments[o];u.push(i)}x(t+"\nArguments: "+Array.prototype.slice.call(u).join("")+"\n"+(new Error).stack),r=!1}return e.apply(this,arguments)}),e)}var C,A={};function k(t,e){null!=n.deprecationHandler&&n.deprecationHandler(t,e),A[t]||(x(e),A[t]=!0)}function P(t){return"undefined"!=typeof Function&&t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function j(t){var e,r;for(r in t)a(t,r)&&(P(e=t[r])?this[r]=e:this["_"+r]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function D(t,e){var r,n=d({},t);for(r in e)a(e,r)&&(s(t[r])&&s(e[r])?(n[r]={},d(n[r],t[r]),d(n[r],e[r])):null!=e[r]?n[r]=e[r]:delete n[r]);for(r in t)a(t,r)&&!a(e,r)&&s(t[r])&&(n[r]=d({},n[r]));return n}function R(t){null!=t&&this.set(t)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null,C=Object.keys?Object.keys:function(t){var e,r=[];for(e in t)a(t,e)&&r.push(e);return r};var I={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function T(t,e,r){var n=this._calendar[t]||this._calendar.sameElse;return P(n)?n.call(e,r):n}function F(t,e,r){var n=""+Math.abs(t),i=e-n.length;return(t>=0?r?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+n}var M=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,N=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,L={},B={};function U(t,e,r,n){var i=n;"string"==typeof n&&(i=function(){return this[n]()}),t&&(B[t]=i),e&&(B[e[0]]=function(){return F(i.apply(this,arguments),e[1],e[2])}),r&&(B[r]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function $(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function z(t){var e,r,n=t.match(M);for(e=0,r=n.length;e<r;e++)B[n[e]]?n[e]=B[n[e]]:n[e]=$(n[e]);return function(e){var i,o="";for(i=0;i<r;i++)o+=P(n[i])?n[i].call(e,t):n[i];return o}}function q(t,e){return t.isValid()?(e=Y(e,t.localeData()),L[e]=L[e]||z(e),L[e](t)):t.localeData().invalidDate()}function Y(t,e){var r=5;function n(t){return e.longDateFormat(t)||t}for(N.lastIndex=0;r>=0&&N.test(t);)t=t.replace(N,n),N.lastIndex=0,r-=1;return t}var W={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function V(t){var e=this._longDateFormat[t],r=this._longDateFormat[t.toUpperCase()];return e||!r?e:(this._longDateFormat[t]=r.match(M).map((function(t){return"MMMM"===t||"MM"===t||"DD"===t||"dddd"===t?t.slice(1):t})).join(""),this._longDateFormat[t])}var H="Invalid date";function G(){return this._invalidDate}var J="%d",K=/\d{1,2}/;function Q(t){return this._ordinal.replace("%d",t)}var Z={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function X(t,e,r,n){var i=this._relativeTime[r];return P(i)?i(t,e,r,n):i.replace(/%d/i,t)}function tt(t,e){var r=this._relativeTime[t>0?"future":"past"];return P(r)?r(e):r.replace(/%s/i,e)}var et={};function rt(t,e){var r=t.toLowerCase();et[r]=et[r+"s"]=et[e]=t}function nt(t){return"string"==typeof t?et[t]||et[t.toLowerCase()]:void 0}function it(t){var e,r,n={};for(r in t)a(t,r)&&(e=nt(r))&&(n[e]=t[r]);return n}var ot={};function st(t,e){ot[t]=e}function at(t){var e,r=[];for(e in t)a(t,e)&&r.push({unit:e,priority:ot[e]});return r.sort((function(t,e){return t.priority-e.priority})),r}function ut(t){return t%4==0&&t%100!=0||t%400==0}function ct(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function lt(t){var e=+t,r=0;return 0!==e&&isFinite(e)&&(r=ct(e)),r}function ht(t,e){return function(r){return null!=r?(dt(this,t,r),n.updateOffset(this,e),this):ft(this,t)}}function ft(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function dt(t,e,r){t.isValid()&&!isNaN(r)&&("FullYear"===e&&ut(t.year())&&1===t.month()&&29===t.date()?(r=lt(r),t._d["set"+(t._isUTC?"UTC":"")+e](r,t.month(),Xt(r,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](r))}function pt(t){return P(this[t=nt(t)])?this[t]():this}function yt(t,e){if("object"==typeof t){var r,n=at(t=it(t)),i=n.length;for(r=0;r<i;r++)this[n[r].unit](t[n[r].unit])}else if(P(this[t=nt(t)]))return this[t](e);return this}var vt,mt=/\d/,gt=/\d\d/,bt=/\d{3}/,wt=/\d{4}/,_t=/[+-]?\d{6}/,St=/\d\d?/,Et=/\d\d\d\d?/,xt=/\d\d\d\d\d\d?/,Ot=/\d{1,3}/,Ct=/\d{1,4}/,At=/[+-]?\d{1,6}/,kt=/\d+/,Pt=/[+-]?\d+/,jt=/Z|[+-]\d\d:?\d\d/gi,Dt=/Z|[+-]\d\d(?::?\d\d)?/gi,Rt=/[+-]?\d+(\.\d{1,3})?/,It=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function Tt(t,e,r){vt[t]=P(e)?e:function(t,n){return t&&r?r:e}}function Ft(t,e){return a(vt,t)?vt[t](e._strict,e._locale):new RegExp(Mt(t))}function Mt(t){return Nt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,r,n,i){return e||r||n||i})))}function Nt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}vt={};var Lt={};function Bt(t,e){var r,n,i=e;for("string"==typeof t&&(t=[t]),l(e)&&(i=function(t,r){r[e]=lt(t)}),n=t.length,r=0;r<n;r++)Lt[t[r]]=i}function Ut(t,e){Bt(t,(function(t,r,n,i){n._w=n._w||{},e(t,n._w,n,i)}))}function $t(t,e,r){null!=e&&a(Lt,t)&&Lt[t](e,r._a,r,t)}var zt,qt=0,Yt=1,Wt=2,Vt=3,Ht=4,Gt=5,Jt=6,Kt=7,Qt=8;function Zt(t,e){return(t%e+e)%e}function Xt(t,e){if(isNaN(t)||isNaN(e))return NaN;var r=Zt(e,12);return t+=(e-r)/12,1===r?ut(t)?29:28:31-r%7%2}zt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},U("M",["MM",2],"Mo",(function(){return this.month()+1})),U("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),U("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),rt("month","M"),st("month",8),Tt("M",St),Tt("MM",St,gt),Tt("MMM",(function(t,e){return e.monthsShortRegex(t)})),Tt("MMMM",(function(t,e){return e.monthsRegex(t)})),Bt(["M","MM"],(function(t,e){e[Yt]=lt(t)-1})),Bt(["MMM","MMMM"],(function(t,e,r,n){var i=r._locale.monthsParse(t,n,r._strict);null!=i?e[Yt]=i:v(r).invalidMonth=t}));var te="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ee="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),re=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ne=It,ie=It;function oe(t,e){return t?o(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||re).test(e)?"format":"standalone"][t.month()]:o(this._months)?this._months:this._months.standalone}function se(t,e){return t?o(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[re.test(e)?"format":"standalone"][t.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ae(t,e,r){var n,i,o,s=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)o=p([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(o,"").toLocaleLowerCase();return r?"MMM"===e?-1!==(i=zt.call(this._shortMonthsParse,s))?i:null:-1!==(i=zt.call(this._longMonthsParse,s))?i:null:"MMM"===e?-1!==(i=zt.call(this._shortMonthsParse,s))||-1!==(i=zt.call(this._longMonthsParse,s))?i:null:-1!==(i=zt.call(this._longMonthsParse,s))||-1!==(i=zt.call(this._shortMonthsParse,s))?i:null}function ue(t,e,r){var n,i,o;if(this._monthsParseExact)return ae.call(this,t,e,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(i=p([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),r||this._monthsParse[n]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[n]=new RegExp(o.replace(".",""),"i")),r&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(r&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!r&&this._monthsParse[n].test(t))return n}}function ce(t,e){var r;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=lt(e);else if(!l(e=t.localeData().monthsParse(e)))return t;return r=Math.min(t.date(),Xt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,r),t}function le(t){return null!=t?(ce(this,t),n.updateOffset(this,!0),this):ft(this,"Month")}function he(){return Xt(this.year(),this.month())}function fe(t){return this._monthsParseExact?(a(this,"_monthsRegex")||pe.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=ne),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function de(t){return this._monthsParseExact?(a(this,"_monthsRegex")||pe.call(this),t?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=ie),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function pe(){function t(t,e){return e.length-t.length}var e,r,n=[],i=[],o=[];for(e=0;e<12;e++)r=p([2e3,e]),n.push(this.monthsShort(r,"")),i.push(this.months(r,"")),o.push(this.months(r,"")),o.push(this.monthsShort(r,""));for(n.sort(t),i.sort(t),o.sort(t),e=0;e<12;e++)n[e]=Nt(n[e]),i[e]=Nt(i[e]);for(e=0;e<24;e++)o[e]=Nt(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function ye(t){return ut(t)?366:365}U("Y",0,0,(function(){var t=this.year();return t<=9999?F(t,4):"+"+t})),U(0,["YY",2],0,(function(){return this.year()%100})),U(0,["YYYY",4],0,"year"),U(0,["YYYYY",5],0,"year"),U(0,["YYYYYY",6,!0],0,"year"),rt("year","y"),st("year",1),Tt("Y",Pt),Tt("YY",St,gt),Tt("YYYY",Ct,wt),Tt("YYYYY",At,_t),Tt("YYYYYY",At,_t),Bt(["YYYYY","YYYYYY"],qt),Bt("YYYY",(function(t,e){e[qt]=2===t.length?n.parseTwoDigitYear(t):lt(t)})),Bt("YY",(function(t,e){e[qt]=n.parseTwoDigitYear(t)})),Bt("Y",(function(t,e){e[qt]=parseInt(t,10)})),n.parseTwoDigitYear=function(t){return lt(t)+(lt(t)>68?1900:2e3)};var ve=ht("FullYear",!0);function me(){return ut(this.year())}function ge(t,e,r,n,i,o,s){var a;return t<100&&t>=0?(a=new Date(t+400,e,r,n,i,o,s),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,r,n,i,o,s),a}function be(t){var e,r;return t<100&&t>=0?((r=Array.prototype.slice.call(arguments))[0]=t+400,e=new Date(Date.UTC.apply(null,r)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function we(t,e,r){var n=7+e-r;return-(7+be(t,0,n).getUTCDay()-e)%7+n-1}function _e(t,e,r,n,i){var o,s,a=1+7*(e-1)+(7+r-n)%7+we(t,n,i);return a<=0?s=ye(o=t-1)+a:a>ye(t)?(o=t+1,s=a-ye(t)):(o=t,s=a),{year:o,dayOfYear:s}}function Se(t,e,r){var n,i,o=we(t.year(),e,r),s=Math.floor((t.dayOfYear()-o-1)/7)+1;return s<1?n=s+Ee(i=t.year()-1,e,r):s>Ee(t.year(),e,r)?(n=s-Ee(t.year(),e,r),i=t.year()+1):(i=t.year(),n=s),{week:n,year:i}}function Ee(t,e,r){var n=we(t,e,r),i=we(t+1,e,r);return(ye(t)-n+i)/7}function xe(t){return Se(t,this._week.dow,this._week.doy).week}U("w",["ww",2],"wo","week"),U("W",["WW",2],"Wo","isoWeek"),rt("week","w"),rt("isoWeek","W"),st("week",5),st("isoWeek",5),Tt("w",St),Tt("ww",St,gt),Tt("W",St),Tt("WW",St,gt),Ut(["w","ww","W","WW"],(function(t,e,r,n){e[n.substr(0,1)]=lt(t)}));var Oe={dow:0,doy:6};function Ce(){return this._week.dow}function Ae(){return this._week.doy}function ke(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function Pe(t){var e=Se(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function je(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}function De(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Re(t,e){return t.slice(e,7).concat(t.slice(0,e))}U("d",0,"do","day"),U("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),U("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),U("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),U("e",0,0,"weekday"),U("E",0,0,"isoWeekday"),rt("day","d"),rt("weekday","e"),rt("isoWeekday","E"),st("day",11),st("weekday",11),st("isoWeekday",11),Tt("d",St),Tt("e",St),Tt("E",St),Tt("dd",(function(t,e){return e.weekdaysMinRegex(t)})),Tt("ddd",(function(t,e){return e.weekdaysShortRegex(t)})),Tt("dddd",(function(t,e){return e.weekdaysRegex(t)})),Ut(["dd","ddd","dddd"],(function(t,e,r,n){var i=r._locale.weekdaysParse(t,n,r._strict);null!=i?e.d=i:v(r).invalidWeekday=t})),Ut(["d","e","E"],(function(t,e,r,n){e[n]=lt(t)}));var Ie="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Te="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Fe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Me=It,Ne=It,Le=It;function Be(t,e){var r=o(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?Re(r,this._week.dow):t?r[t.day()]:r}function Ue(t){return!0===t?Re(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function $e(t){return!0===t?Re(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function ze(t,e,r){var n,i,o,s=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)o=p([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(o,"").toLocaleLowerCase();return r?"dddd"===e?-1!==(i=zt.call(this._weekdaysParse,s))?i:null:"ddd"===e?-1!==(i=zt.call(this._shortWeekdaysParse,s))?i:null:-1!==(i=zt.call(this._minWeekdaysParse,s))?i:null:"dddd"===e?-1!==(i=zt.call(this._weekdaysParse,s))||-1!==(i=zt.call(this._shortWeekdaysParse,s))||-1!==(i=zt.call(this._minWeekdaysParse,s))?i:null:"ddd"===e?-1!==(i=zt.call(this._shortWeekdaysParse,s))||-1!==(i=zt.call(this._weekdaysParse,s))||-1!==(i=zt.call(this._minWeekdaysParse,s))?i:null:-1!==(i=zt.call(this._minWeekdaysParse,s))||-1!==(i=zt.call(this._weekdaysParse,s))||-1!==(i=zt.call(this._shortWeekdaysParse,s))?i:null}function qe(t,e,r){var n,i,o;if(this._weekdaysParseExact)return ze.call(this,t,e,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(i=p([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[n]=new RegExp(o.replace(".",""),"i")),r&&"dddd"===e&&this._fullWeekdaysParse[n].test(t))return n;if(r&&"ddd"===e&&this._shortWeekdaysParse[n].test(t))return n;if(r&&"dd"===e&&this._minWeekdaysParse[n].test(t))return n;if(!r&&this._weekdaysParse[n].test(t))return n}}function Ye(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=je(t,this.localeData()),this.add(t-e,"d")):e}function We(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Ve(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=De(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}function He(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Ke.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=Me),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Ge(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Ke.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ne),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Je(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Ke.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Le),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ke(){function t(t,e){return e.length-t.length}var e,r,n,i,o,s=[],a=[],u=[],c=[];for(e=0;e<7;e++)r=p([2e3,1]).day(e),n=Nt(this.weekdaysMin(r,"")),i=Nt(this.weekdaysShort(r,"")),o=Nt(this.weekdays(r,"")),s.push(n),a.push(i),u.push(o),c.push(n),c.push(i),c.push(o);s.sort(t),a.sort(t),u.sort(t),c.sort(t),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Qe(){return this.hours()%12||12}function Ze(){return this.hours()||24}function Xe(t,e){U(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)}))}function tr(t,e){return e._meridiemParse}function er(t){return"p"===(t+"").toLowerCase().charAt(0)}U("H",["HH",2],0,"hour"),U("h",["hh",2],0,Qe),U("k",["kk",2],0,Ze),U("hmm",0,0,(function(){return""+Qe.apply(this)+F(this.minutes(),2)})),U("hmmss",0,0,(function(){return""+Qe.apply(this)+F(this.minutes(),2)+F(this.seconds(),2)})),U("Hmm",0,0,(function(){return""+this.hours()+F(this.minutes(),2)})),U("Hmmss",0,0,(function(){return""+this.hours()+F(this.minutes(),2)+F(this.seconds(),2)})),Xe("a",!0),Xe("A",!1),rt("hour","h"),st("hour",13),Tt("a",tr),Tt("A",tr),Tt("H",St),Tt("h",St),Tt("k",St),Tt("HH",St,gt),Tt("hh",St,gt),Tt("kk",St,gt),Tt("hmm",Et),Tt("hmmss",xt),Tt("Hmm",Et),Tt("Hmmss",xt),Bt(["H","HH"],Vt),Bt(["k","kk"],(function(t,e,r){var n=lt(t);e[Vt]=24===n?0:n})),Bt(["a","A"],(function(t,e,r){r._isPm=r._locale.isPM(t),r._meridiem=t})),Bt(["h","hh"],(function(t,e,r){e[Vt]=lt(t),v(r).bigHour=!0})),Bt("hmm",(function(t,e,r){var n=t.length-2;e[Vt]=lt(t.substr(0,n)),e[Ht]=lt(t.substr(n)),v(r).bigHour=!0})),Bt("hmmss",(function(t,e,r){var n=t.length-4,i=t.length-2;e[Vt]=lt(t.substr(0,n)),e[Ht]=lt(t.substr(n,2)),e[Gt]=lt(t.substr(i)),v(r).bigHour=!0})),Bt("Hmm",(function(t,e,r){var n=t.length-2;e[Vt]=lt(t.substr(0,n)),e[Ht]=lt(t.substr(n))})),Bt("Hmmss",(function(t,e,r){var n=t.length-4,i=t.length-2;e[Vt]=lt(t.substr(0,n)),e[Ht]=lt(t.substr(n,2)),e[Gt]=lt(t.substr(i))}));var rr=/[ap]\.?m?\.?/i,nr=ht("Hours",!0);function ir(t,e,r){return t>11?r?"pm":"PM":r?"am":"AM"}var or,sr={calendar:I,longDateFormat:W,invalidDate:H,ordinal:J,dayOfMonthOrdinalParse:K,relativeTime:Z,months:te,monthsShort:ee,week:Oe,weekdays:Ie,weekdaysMin:Fe,weekdaysShort:Te,meridiemParse:rr},ar={},ur={};function cr(t,e){var r,n=Math.min(t.length,e.length);for(r=0;r<n;r+=1)if(t[r]!==e[r])return r;return n}function lr(t){return t?t.toLowerCase().replace("_","-"):t}function hr(t){for(var e,r,n,i,o=0;o<t.length;){for(e=(i=lr(t[o]).split("-")).length,r=(r=lr(t[o+1]))?r.split("-"):null;e>0;){if(n=dr(i.slice(0,e).join("-")))return n;if(r&&r.length>=e&&cr(i,r)>=e-1)break;e--}o++}return or}function fr(t){return null!=t.match("^[^/\\\\]*$")}function dr(e){var r=null;if(void 0===ar[e]&&t&&t.exports&&fr(e))try{r=or._abbr,(void 0)("./locale/"+e),pr(r)}catch(t){ar[e]=null}return ar[e]}function pr(t,e){var r;return t&&((r=c(e)?mr(t):yr(t,e))?or=r:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),or._abbr}function yr(t,e){if(null!==e){var r,n=sr;if(e.abbr=t,null!=ar[t])k("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=ar[t]._config;else if(null!=e.parentLocale)if(null!=ar[e.parentLocale])n=ar[e.parentLocale]._config;else{if(null==(r=dr(e.parentLocale)))return ur[e.parentLocale]||(ur[e.parentLocale]=[]),ur[e.parentLocale].push({name:t,config:e}),null;n=r._config}return ar[t]=new R(D(n,e)),ur[t]&&ur[t].forEach((function(t){yr(t.name,t.config)})),pr(t),ar[t]}return delete ar[t],null}function vr(t,e){if(null!=e){var r,n,i=sr;null!=ar[t]&&null!=ar[t].parentLocale?ar[t].set(D(ar[t]._config,e)):(null!=(n=dr(t))&&(i=n._config),e=D(i,e),null==n&&(e.abbr=t),(r=new R(e)).parentLocale=ar[t],ar[t]=r),pr(t)}else null!=ar[t]&&(null!=ar[t].parentLocale?(ar[t]=ar[t].parentLocale,t===pr()&&pr(t)):null!=ar[t]&&delete ar[t]);return ar[t]}function mr(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return or;if(!o(t)){if(e=dr(t))return e;t=[t]}return hr(t)}function gr(){return C(ar)}function br(t){var e,r=t._a;return r&&-2===v(t).overflow&&(e=r[Yt]<0||r[Yt]>11?Yt:r[Wt]<1||r[Wt]>Xt(r[qt],r[Yt])?Wt:r[Vt]<0||r[Vt]>24||24===r[Vt]&&(0!==r[Ht]||0!==r[Gt]||0!==r[Jt])?Vt:r[Ht]<0||r[Ht]>59?Ht:r[Gt]<0||r[Gt]>59?Gt:r[Jt]<0||r[Jt]>999?Jt:-1,v(t)._overflowDayOfYear&&(e<qt||e>Wt)&&(e=Wt),v(t)._overflowWeeks&&-1===e&&(e=Kt),v(t)._overflowWeekday&&-1===e&&(e=Qt),v(t).overflow=e),t}var wr=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_r=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Sr=/Z|[+-]\d\d(?::?\d\d)?/,Er=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],xr=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Or=/^\/?Date\((-?\d+)/i,Cr=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Ar={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function kr(t){var e,r,n,i,o,s,a=t._i,u=wr.exec(a)||_r.exec(a),c=Er.length,l=xr.length;if(u){for(v(t).iso=!0,e=0,r=c;e<r;e++)if(Er[e][1].exec(u[1])){i=Er[e][0],n=!1!==Er[e][2];break}if(null==i)return void(t._isValid=!1);if(u[3]){for(e=0,r=l;e<r;e++)if(xr[e][1].exec(u[3])){o=(u[2]||" ")+xr[e][0];break}if(null==o)return void(t._isValid=!1)}if(!n&&null!=o)return void(t._isValid=!1);if(u[4]){if(!Sr.exec(u[4]))return void(t._isValid=!1);s="Z"}t._f=i+(o||"")+(s||""),Ur(t)}else t._isValid=!1}function Pr(t,e,r,n,i,o){var s=[jr(t),ee.indexOf(e),parseInt(r,10),parseInt(n,10),parseInt(i,10)];return o&&s.push(parseInt(o,10)),s}function jr(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function Dr(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Rr(t,e,r){return!t||Te.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(v(r).weekdayMismatch=!0,r._isValid=!1,!1)}function Ir(t,e,r){if(t)return Ar[t];if(e)return 0;var n=parseInt(r,10),i=n%100;return(n-i)/100*60+i}function Tr(t){var e,r=Cr.exec(Dr(t._i));if(r){if(e=Pr(r[4],r[3],r[2],r[5],r[6],r[7]),!Rr(r[1],e,t))return;t._a=e,t._tzm=Ir(r[8],r[9],r[10]),t._d=be.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),v(t).rfc2822=!0}else t._isValid=!1}function Fr(t){var e=Or.exec(t._i);null===e?(kr(t),!1===t._isValid&&(delete t._isValid,Tr(t),!1===t._isValid&&(delete t._isValid,t._strict?t._isValid=!1:n.createFromInputFallback(t)))):t._d=new Date(+e[1])}function Mr(t,e,r){return null!=t?t:null!=e?e:r}function Nr(t){var e=new Date(n.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Lr(t){var e,r,n,i,o,s=[];if(!t._d){for(n=Nr(t),t._w&&null==t._a[Wt]&&null==t._a[Yt]&&Br(t),null!=t._dayOfYear&&(o=Mr(t._a[qt],n[qt]),(t._dayOfYear>ye(o)||0===t._dayOfYear)&&(v(t)._overflowDayOfYear=!0),r=be(o,0,t._dayOfYear),t._a[Yt]=r.getUTCMonth(),t._a[Wt]=r.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=s[e]=n[e];for(;e<7;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[Vt]&&0===t._a[Ht]&&0===t._a[Gt]&&0===t._a[Jt]&&(t._nextDay=!0,t._a[Vt]=0),t._d=(t._useUTC?be:ge).apply(null,s),i=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Vt]=24),t._w&&void 0!==t._w.d&&t._w.d!==i&&(v(t).weekdayMismatch=!0)}}function Br(t){var e,r,n,i,o,s,a,u,c;null!=(e=t._w).GG||null!=e.W||null!=e.E?(o=1,s=4,r=Mr(e.GG,t._a[qt],Se(Gr(),1,4).year),n=Mr(e.W,1),((i=Mr(e.E,1))<1||i>7)&&(u=!0)):(o=t._locale._week.dow,s=t._locale._week.doy,c=Se(Gr(),o,s),r=Mr(e.gg,t._a[qt],c.year),n=Mr(e.w,c.week),null!=e.d?((i=e.d)<0||i>6)&&(u=!0):null!=e.e?(i=e.e+o,(e.e<0||e.e>6)&&(u=!0)):i=o),n<1||n>Ee(r,o,s)?v(t)._overflowWeeks=!0:null!=u?v(t)._overflowWeekday=!0:(a=_e(r,n,i,o,s),t._a[qt]=a.year,t._dayOfYear=a.dayOfYear)}function Ur(t){if(t._f!==n.ISO_8601)if(t._f!==n.RFC_2822){t._a=[],v(t).empty=!0;var e,r,i,o,s,a,u,c=""+t._i,l=c.length,h=0;for(u=(i=Y(t._f,t._locale).match(M)||[]).length,e=0;e<u;e++)o=i[e],(r=(c.match(Ft(o,t))||[])[0])&&((s=c.substr(0,c.indexOf(r))).length>0&&v(t).unusedInput.push(s),c=c.slice(c.indexOf(r)+r.length),h+=r.length),B[o]?(r?v(t).empty=!1:v(t).unusedTokens.push(o),$t(o,r,t)):t._strict&&!r&&v(t).unusedTokens.push(o);v(t).charsLeftOver=l-h,c.length>0&&v(t).unusedInput.push(c),t._a[Vt]<=12&&!0===v(t).bigHour&&t._a[Vt]>0&&(v(t).bigHour=void 0),v(t).parsedDateParts=t._a.slice(0),v(t).meridiem=t._meridiem,t._a[Vt]=$r(t._locale,t._a[Vt],t._meridiem),null!==(a=v(t).era)&&(t._a[qt]=t._locale.erasConvertYear(a,t._a[qt])),Lr(t),br(t)}else Tr(t);else kr(t)}function $r(t,e,r){var n;return null==r?e:null!=t.meridiemHour?t.meridiemHour(e,r):null!=t.isPM?((n=t.isPM(r))&&e<12&&(e+=12),n||12!==e||(e=0),e):e}function zr(t){var e,r,n,i,o,s,a=!1,u=t._f.length;if(0===u)return v(t).invalidFormat=!0,void(t._d=new Date(NaN));for(i=0;i<u;i++)o=0,s=!1,e=_({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[i],Ur(e),m(e)&&(s=!0),o+=v(e).charsLeftOver,o+=10*v(e).unusedTokens.length,v(e).score=o,a?o<n&&(n=o,r=e):(null==n||o<n||s)&&(n=o,r=e,s&&(a=!0));d(t,r||e)}function qr(t){if(!t._d){var e=it(t._i),r=void 0===e.day?e.date:e.day;t._a=f([e.year,e.month,r,e.hour,e.minute,e.second,e.millisecond],(function(t){return t&&parseInt(t,10)})),Lr(t)}}function Yr(t){var e=new S(br(Wr(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Wr(t){var e=t._i,r=t._f;return t._locale=t._locale||mr(t._l),null===e||void 0===r&&""===e?g({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),E(e)?new S(br(e)):(h(e)?t._d=e:o(r)?zr(t):r?Ur(t):Vr(t),m(t)||(t._d=null),t))}function Vr(t){var e=t._i;c(e)?t._d=new Date(n.now()):h(e)?t._d=new Date(e.valueOf()):"string"==typeof e?Fr(t):o(e)?(t._a=f(e.slice(0),(function(t){return parseInt(t,10)})),Lr(t)):s(e)?qr(t):l(e)?t._d=new Date(e):n.createFromInputFallback(t)}function Hr(t,e,r,n,i){var a={};return!0!==e&&!1!==e||(n=e,e=void 0),!0!==r&&!1!==r||(n=r,r=void 0),(s(t)&&u(t)||o(t)&&0===t.length)&&(t=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=i,a._l=r,a._i=t,a._f=e,a._strict=n,Yr(a)}function Gr(t,e,r,n){return Hr(t,e,r,n,!1)}n.createFromInputFallback=O("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),n.ISO_8601=function(){},n.RFC_2822=function(){};var Jr=O("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Gr.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:g()})),Kr=O("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Gr.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:g()}));function Qr(t,e){var r,n;if(1===e.length&&o(e[0])&&(e=e[0]),!e.length)return Gr();for(r=e[0],n=1;n<e.length;++n)e[n].isValid()&&!e[n][t](r)||(r=e[n]);return r}function Zr(){return Qr("isBefore",[].slice.call(arguments,0))}function Xr(){return Qr("isAfter",[].slice.call(arguments,0))}var tn=function(){return Date.now?Date.now():+new Date},en=["year","quarter","month","week","day","hour","minute","second","millisecond"];function rn(t){var e,r,n=!1,i=en.length;for(e in t)if(a(t,e)&&(-1===zt.call(en,e)||null!=t[e]&&isNaN(t[e])))return!1;for(r=0;r<i;++r)if(t[en[r]]){if(n)return!1;parseFloat(t[en[r]])!==lt(t[en[r]])&&(n=!0)}return!0}function nn(){return this._isValid}function on(){return kn(NaN)}function sn(t){var e=it(t),r=e.year||0,n=e.quarter||0,i=e.month||0,o=e.week||e.isoWeek||0,s=e.day||0,a=e.hour||0,u=e.minute||0,c=e.second||0,l=e.millisecond||0;this._isValid=rn(e),this._milliseconds=+l+1e3*c+6e4*u+36e5*a,this._days=+s+7*o,this._months=+i+3*n+12*r,this._data={},this._locale=mr(),this._bubble()}function an(t){return t instanceof sn}function un(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function cn(t,e,r){var n,i=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),s=0;for(n=0;n<i;n++)(r&&t[n]!==e[n]||!r&&lt(t[n])!==lt(e[n]))&&s++;return s+o}function ln(t,e){U(t,0,0,(function(){var t=this.utcOffset(),r="+";return t<0&&(t=-t,r="-"),r+F(~~(t/60),2)+e+F(~~t%60,2)}))}ln("Z",":"),ln("ZZ",""),Tt("Z",Dt),Tt("ZZ",Dt),Bt(["Z","ZZ"],(function(t,e,r){r._useUTC=!0,r._tzm=fn(Dt,t)}));var hn=/([\+\-]|\d\d)/gi;function fn(t,e){var r,n,i=(e||"").match(t);return null===i?null:0===(n=60*(r=((i[i.length-1]||[])+"").match(hn)||["-",0,0])[1]+lt(r[2]))?0:"+"===r[0]?n:-n}function dn(t,e){var r,i;return e._isUTC?(r=e.clone(),i=(E(t)||h(t)?t.valueOf():Gr(t).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+i),n.updateOffset(r,!1),r):Gr(t).local()}function pn(t){return-Math.round(t._d.getTimezoneOffset())}function yn(t,e,r){var i,o=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=fn(Dt,t)))return this}else Math.abs(t)<16&&!r&&(t*=60);return!this._isUTC&&e&&(i=pn(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==t&&(!e||this._changeInProgress?In(this,kn(t-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:pn(this)}function vn(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function mn(t){return this.utcOffset(0,t)}function gn(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(pn(this),"m")),this}function bn(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=fn(jt,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this}function wn(t){return!!this.isValid()&&(t=t?Gr(t).utcOffset():0,(this.utcOffset()-t)%60==0)}function _n(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Sn(){if(!c(this._isDSTShifted))return this._isDSTShifted;var t,e={};return _(e,this),(e=Wr(e))._a?(t=e._isUTC?p(e._a):Gr(e._a),this._isDSTShifted=this.isValid()&&cn(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function En(){return!!this.isValid()&&!this._isUTC}function xn(){return!!this.isValid()&&this._isUTC}function On(){return!!this.isValid()&&this._isUTC&&0===this._offset}n.updateOffset=function(){};var Cn=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,An=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function kn(t,e){var r,n,i,o=t,s=null;return an(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:l(t)||!isNaN(+t)?(o={},e?o[e]=+t:o.milliseconds=+t):(s=Cn.exec(t))?(r="-"===s[1]?-1:1,o={y:0,d:lt(s[Wt])*r,h:lt(s[Vt])*r,m:lt(s[Ht])*r,s:lt(s[Gt])*r,ms:lt(un(1e3*s[Jt]))*r}):(s=An.exec(t))?(r="-"===s[1]?-1:1,o={y:Pn(s[2],r),M:Pn(s[3],r),w:Pn(s[4],r),d:Pn(s[5],r),h:Pn(s[6],r),m:Pn(s[7],r),s:Pn(s[8],r)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=Dn(Gr(o.from),Gr(o.to)),(o={}).ms=i.milliseconds,o.M=i.months),n=new sn(o),an(t)&&a(t,"_locale")&&(n._locale=t._locale),an(t)&&a(t,"_isValid")&&(n._isValid=t._isValid),n}function Pn(t,e){var r=t&&parseFloat(t.replace(",","."));return(isNaN(r)?0:r)*e}function jn(t,e){var r={};return r.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(r.months,"M").isAfter(e)&&--r.months,r.milliseconds=+e-+t.clone().add(r.months,"M"),r}function Dn(t,e){var r;return t.isValid()&&e.isValid()?(e=dn(e,t),t.isBefore(e)?r=jn(t,e):((r=jn(e,t)).milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}function Rn(t,e){return function(r,n){var i;return null===n||isNaN(+n)||(k(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=r,r=n,n=i),In(this,kn(r,n),t),this}}function In(t,e,r,i){var o=e._milliseconds,s=un(e._days),a=un(e._months);t.isValid()&&(i=null==i||i,a&&ce(t,ft(t,"Month")+a*r),s&&dt(t,"Date",ft(t,"Date")+s*r),o&&t._d.setTime(t._d.valueOf()+o*r),i&&n.updateOffset(t,s||a))}kn.fn=sn.prototype,kn.invalid=on;var Tn=Rn(1,"add"),Fn=Rn(-1,"subtract");function Mn(t){return"string"==typeof t||t instanceof String}function Nn(t){return E(t)||h(t)||Mn(t)||l(t)||Bn(t)||Ln(t)||null==t}function Ln(t){var e,r,n=s(t)&&!u(t),i=!1,o=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],c=o.length;for(e=0;e<c;e+=1)r=o[e],i=i||a(t,r);return n&&i}function Bn(t){var e=o(t),r=!1;return e&&(r=0===t.filter((function(e){return!l(e)&&Mn(t)})).length),e&&r}function Un(t){var e,r,n=s(t)&&!u(t),i=!1,o=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(e=0;e<o.length;e+=1)r=o[e],i=i||a(t,r);return n&&i}function $n(t,e){var r=t.diff(e,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"}function zn(t,e){1===arguments.length&&(arguments[0]?Nn(arguments[0])?(t=arguments[0],e=void 0):Un(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var r=t||Gr(),i=dn(r,this).startOf("day"),o=n.calendarFormat(this,i)||"sameElse",s=e&&(P(e[o])?e[o].call(this,r):e[o]);return this.format(s||this.localeData().calendar(o,this,Gr(r)))}function qn(){return new S(this)}function Yn(t,e){var r=E(t)?t:Gr(t);return!(!this.isValid()||!r.isValid())&&("millisecond"===(e=nt(e)||"millisecond")?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(e).valueOf())}function Wn(t,e){var r=E(t)?t:Gr(t);return!(!this.isValid()||!r.isValid())&&("millisecond"===(e=nt(e)||"millisecond")?this.valueOf()<r.valueOf():this.clone().endOf(e).valueOf()<r.valueOf())}function Vn(t,e,r,n){var i=E(t)?t:Gr(t),o=E(e)?e:Gr(e);return!!(this.isValid()&&i.isValid()&&o.isValid())&&("("===(n=n||"()")[0]?this.isAfter(i,r):!this.isBefore(i,r))&&(")"===n[1]?this.isBefore(o,r):!this.isAfter(o,r))}function Hn(t,e){var r,n=E(t)?t:Gr(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=nt(e)||"millisecond")?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf()))}function Gn(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function Jn(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function Kn(t,e,r){var n,i,o;if(!this.isValid())return NaN;if(!(n=dn(t,this)).isValid())return NaN;switch(i=6e4*(n.utcOffset()-this.utcOffset()),e=nt(e)){case"year":o=Qn(this,n)/12;break;case"month":o=Qn(this,n);break;case"quarter":o=Qn(this,n)/3;break;case"second":o=(this-n)/1e3;break;case"minute":o=(this-n)/6e4;break;case"hour":o=(this-n)/36e5;break;case"day":o=(this-n-i)/864e5;break;case"week":o=(this-n-i)/6048e5;break;default:o=this-n}return r?o:ct(o)}function Qn(t,e){if(t.date()<e.date())return-Qn(e,t);var r=12*(e.year()-t.year())+(e.month()-t.month()),n=t.clone().add(r,"months");return-(r+(e-n<0?(e-n)/(n-t.clone().add(r-1,"months")):(e-n)/(t.clone().add(r+1,"months")-n)))||0}function Zn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Xn(t){if(!this.isValid())return null;var e=!0!==t,r=e?this.clone().utc():this;return r.year()<0||r.year()>9999?q(r,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):P(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+6e4*this.utcOffset()).toISOString().replace("Z",q(r,"Z")):q(r,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ti(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t,e,r,n,i="moment",o="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",o="Z"),t="["+i+'("]',e=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r="-MM-DD[T]HH:mm:ss.SSS",n=o+'[")]',this.format(t+e+r+n)}function ei(t){t||(t=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var e=q(this,t);return this.localeData().postformat(e)}function ri(t,e){return this.isValid()&&(E(t)&&t.isValid()||Gr(t).isValid())?kn({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ni(t){return this.from(Gr(),t)}function ii(t,e){return this.isValid()&&(E(t)&&t.isValid()||Gr(t).isValid())?kn({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function oi(t){return this.to(Gr(),t)}function si(t){var e;return void 0===t?this._locale._abbr:(null!=(e=mr(t))&&(this._locale=e),this)}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ai=O("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));function ui(){return this._locale}var ci=1e3,li=60*ci,hi=60*li,fi=3506328*hi;function di(t,e){return(t%e+e)%e}function pi(t,e,r){return t<100&&t>=0?new Date(t+400,e,r)-fi:new Date(t,e,r).valueOf()}function yi(t,e,r){return t<100&&t>=0?Date.UTC(t+400,e,r)-fi:Date.UTC(t,e,r)}function vi(t){var e,r;if(void 0===(t=nt(t))||"millisecond"===t||!this.isValid())return this;switch(r=this._isUTC?yi:pi,t){case"year":e=r(this.year(),0,1);break;case"quarter":e=r(this.year(),this.month()-this.month()%3,1);break;case"month":e=r(this.year(),this.month(),1);break;case"week":e=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=r(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=di(e+(this._isUTC?0:this.utcOffset()*li),hi);break;case"minute":e=this._d.valueOf(),e-=di(e,li);break;case"second":e=this._d.valueOf(),e-=di(e,ci)}return this._d.setTime(e),n.updateOffset(this,!0),this}function mi(t){var e,r;if(void 0===(t=nt(t))||"millisecond"===t||!this.isValid())return this;switch(r=this._isUTC?yi:pi,t){case"year":e=r(this.year()+1,0,1)-1;break;case"quarter":e=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=r(this.year(),this.month()+1,1)-1;break;case"week":e=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=hi-di(e+(this._isUTC?0:this.utcOffset()*li),hi)-1;break;case"minute":e=this._d.valueOf(),e+=li-di(e,li)-1;break;case"second":e=this._d.valueOf(),e+=ci-di(e,ci)-1}return this._d.setTime(e),n.updateOffset(this,!0),this}function gi(){return this._d.valueOf()-6e4*(this._offset||0)}function bi(){return Math.floor(this.valueOf()/1e3)}function wi(){return new Date(this.valueOf())}function _i(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Si(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Ei(){return this.isValid()?this.toISOString():null}function xi(){return m(this)}function Oi(){return d({},v(this))}function Ci(){return v(this).overflow}function Ai(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function ki(t,e){var r,i,o,s=this._eras||mr("en")._eras;for(r=0,i=s.length;r<i;++r)switch("string"==typeof s[r].since&&(o=n(s[r].since).startOf("day"),s[r].since=o.valueOf()),typeof s[r].until){case"undefined":s[r].until=1/0;break;case"string":o=n(s[r].until).startOf("day").valueOf(),s[r].until=o.valueOf()}return s}function Pi(t,e,r){var n,i,o,s,a,u=this.eras();for(t=t.toUpperCase(),n=0,i=u.length;n<i;++n)if(o=u[n].name.toUpperCase(),s=u[n].abbr.toUpperCase(),a=u[n].narrow.toUpperCase(),r)switch(e){case"N":case"NN":case"NNN":if(s===t)return u[n];break;case"NNNN":if(o===t)return u[n];break;case"NNNNN":if(a===t)return u[n]}else if([o,s,a].indexOf(t)>=0)return u[n]}function ji(t,e){var r=t.since<=t.until?1:-1;return void 0===e?n(t.since).year():n(t.since).year()+(e-t.offset)*r}function Di(){var t,e,r,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t){if(r=this.clone().startOf("day").valueOf(),n[t].since<=r&&r<=n[t].until)return n[t].name;if(n[t].until<=r&&r<=n[t].since)return n[t].name}return""}function Ri(){var t,e,r,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t){if(r=this.clone().startOf("day").valueOf(),n[t].since<=r&&r<=n[t].until)return n[t].narrow;if(n[t].until<=r&&r<=n[t].since)return n[t].narrow}return""}function Ii(){var t,e,r,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t){if(r=this.clone().startOf("day").valueOf(),n[t].since<=r&&r<=n[t].until)return n[t].abbr;if(n[t].until<=r&&r<=n[t].since)return n[t].abbr}return""}function Ti(){var t,e,r,i,o=this.localeData().eras();for(t=0,e=o.length;t<e;++t)if(r=o[t].since<=o[t].until?1:-1,i=this.clone().startOf("day").valueOf(),o[t].since<=i&&i<=o[t].until||o[t].until<=i&&i<=o[t].since)return(this.year()-n(o[t].since).year())*r+o[t].offset;return this.year()}function Fi(t){return a(this,"_erasNameRegex")||zi.call(this),t?this._erasNameRegex:this._erasRegex}function Mi(t){return a(this,"_erasAbbrRegex")||zi.call(this),t?this._erasAbbrRegex:this._erasRegex}function Ni(t){return a(this,"_erasNarrowRegex")||zi.call(this),t?this._erasNarrowRegex:this._erasRegex}function Li(t,e){return e.erasAbbrRegex(t)}function Bi(t,e){return e.erasNameRegex(t)}function Ui(t,e){return e.erasNarrowRegex(t)}function $i(t,e){return e._eraYearOrdinalRegex||kt}function zi(){var t,e,r=[],n=[],i=[],o=[],s=this.eras();for(t=0,e=s.length;t<e;++t)n.push(Nt(s[t].name)),r.push(Nt(s[t].abbr)),i.push(Nt(s[t].narrow)),o.push(Nt(s[t].name)),o.push(Nt(s[t].abbr)),o.push(Nt(s[t].narrow));this._erasRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+n.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}function qi(t,e){U(0,[t,t.length],0,e)}function Yi(t){return Ki.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Wi(t){return Ki.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Vi(){return Ee(this.year(),1,4)}function Hi(){return Ee(this.isoWeekYear(),1,4)}function Gi(){var t=this.localeData()._week;return Ee(this.year(),t.dow,t.doy)}function Ji(){var t=this.localeData()._week;return Ee(this.weekYear(),t.dow,t.doy)}function Ki(t,e,r,n,i){var o;return null==t?Se(this,n,i).year:(e>(o=Ee(t,n,i))&&(e=o),Qi.call(this,t,e,r,n,i))}function Qi(t,e,r,n,i){var o=_e(t,e,r,n,i),s=be(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}function Zi(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}U("N",0,0,"eraAbbr"),U("NN",0,0,"eraAbbr"),U("NNN",0,0,"eraAbbr"),U("NNNN",0,0,"eraName"),U("NNNNN",0,0,"eraNarrow"),U("y",["y",1],"yo","eraYear"),U("y",["yy",2],0,"eraYear"),U("y",["yyy",3],0,"eraYear"),U("y",["yyyy",4],0,"eraYear"),Tt("N",Li),Tt("NN",Li),Tt("NNN",Li),Tt("NNNN",Bi),Tt("NNNNN",Ui),Bt(["N","NN","NNN","NNNN","NNNNN"],(function(t,e,r,n){var i=r._locale.erasParse(t,n,r._strict);i?v(r).era=i:v(r).invalidEra=t})),Tt("y",kt),Tt("yy",kt),Tt("yyy",kt),Tt("yyyy",kt),Tt("yo",$i),Bt(["y","yy","yyy","yyyy"],qt),Bt(["yo"],(function(t,e,r,n){var i;r._locale._eraYearOrdinalRegex&&(i=t.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?e[qt]=r._locale.eraYearOrdinalParse(t,i):e[qt]=parseInt(t,10)})),U(0,["gg",2],0,(function(){return this.weekYear()%100})),U(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),qi("gggg","weekYear"),qi("ggggg","weekYear"),qi("GGGG","isoWeekYear"),qi("GGGGG","isoWeekYear"),rt("weekYear","gg"),rt("isoWeekYear","GG"),st("weekYear",1),st("isoWeekYear",1),Tt("G",Pt),Tt("g",Pt),Tt("GG",St,gt),Tt("gg",St,gt),Tt("GGGG",Ct,wt),Tt("gggg",Ct,wt),Tt("GGGGG",At,_t),Tt("ggggg",At,_t),Ut(["gggg","ggggg","GGGG","GGGGG"],(function(t,e,r,n){e[n.substr(0,2)]=lt(t)})),Ut(["gg","GG"],(function(t,e,r,i){e[i]=n.parseTwoDigitYear(t)})),U("Q",0,"Qo","quarter"),rt("quarter","Q"),st("quarter",7),Tt("Q",mt),Bt("Q",(function(t,e){e[Yt]=3*(lt(t)-1)})),U("D",["DD",2],"Do","date"),rt("date","D"),st("date",9),Tt("D",St),Tt("DD",St,gt),Tt("Do",(function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient})),Bt(["D","DD"],Wt),Bt("Do",(function(t,e){e[Wt]=lt(t.match(St)[0])}));var Xi=ht("Date",!0);function to(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}U("DDD",["DDDD",3],"DDDo","dayOfYear"),rt("dayOfYear","DDD"),st("dayOfYear",4),Tt("DDD",Ot),Tt("DDDD",bt),Bt(["DDD","DDDD"],(function(t,e,r){r._dayOfYear=lt(t)})),U("m",["mm",2],0,"minute"),rt("minute","m"),st("minute",14),Tt("m",St),Tt("mm",St,gt),Bt(["m","mm"],Ht);var eo=ht("Minutes",!1);U("s",["ss",2],0,"second"),rt("second","s"),st("second",15),Tt("s",St),Tt("ss",St,gt),Bt(["s","ss"],Gt);var ro,no,io=ht("Seconds",!1);for(U("S",0,0,(function(){return~~(this.millisecond()/100)})),U(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),U(0,["SSS",3],0,"millisecond"),U(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),U(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),U(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),U(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),U(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),U(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),rt("millisecond","ms"),st("millisecond",16),Tt("S",Ot,mt),Tt("SS",Ot,gt),Tt("SSS",Ot,bt),ro="SSSS";ro.length<=9;ro+="S")Tt(ro,kt);function oo(t,e){e[Jt]=lt(1e3*("0."+t))}for(ro="S";ro.length<=9;ro+="S")Bt(ro,oo);function so(){return this._isUTC?"UTC":""}function ao(){return this._isUTC?"Coordinated Universal Time":""}no=ht("Milliseconds",!1),U("z",0,0,"zoneAbbr"),U("zz",0,0,"zoneName");var uo=S.prototype;function co(t){return Gr(1e3*t)}function lo(){return Gr.apply(null,arguments).parseZone()}function ho(t){return t}uo.add=Tn,uo.calendar=zn,uo.clone=qn,uo.diff=Kn,uo.endOf=mi,uo.format=ei,uo.from=ri,uo.fromNow=ni,uo.to=ii,uo.toNow=oi,uo.get=pt,uo.invalidAt=Ci,uo.isAfter=Yn,uo.isBefore=Wn,uo.isBetween=Vn,uo.isSame=Hn,uo.isSameOrAfter=Gn,uo.isSameOrBefore=Jn,uo.isValid=xi,uo.lang=ai,uo.locale=si,uo.localeData=ui,uo.max=Kr,uo.min=Jr,uo.parsingFlags=Oi,uo.set=yt,uo.startOf=vi,uo.subtract=Fn,uo.toArray=_i,uo.toObject=Si,uo.toDate=wi,uo.toISOString=Xn,uo.inspect=ti,"undefined"!=typeof Symbol&&null!=Symbol.for&&(uo[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),uo.toJSON=Ei,uo.toString=Zn,uo.unix=bi,uo.valueOf=gi,uo.creationData=Ai,uo.eraName=Di,uo.eraNarrow=Ri,uo.eraAbbr=Ii,uo.eraYear=Ti,uo.year=ve,uo.isLeapYear=me,uo.weekYear=Yi,uo.isoWeekYear=Wi,uo.quarter=uo.quarters=Zi,uo.month=le,uo.daysInMonth=he,uo.week=uo.weeks=ke,uo.isoWeek=uo.isoWeeks=Pe,uo.weeksInYear=Gi,uo.weeksInWeekYear=Ji,uo.isoWeeksInYear=Vi,uo.isoWeeksInISOWeekYear=Hi,uo.date=Xi,uo.day=uo.days=Ye,uo.weekday=We,uo.isoWeekday=Ve,uo.dayOfYear=to,uo.hour=uo.hours=nr,uo.minute=uo.minutes=eo,uo.second=uo.seconds=io,uo.millisecond=uo.milliseconds=no,uo.utcOffset=yn,uo.utc=mn,uo.local=gn,uo.parseZone=bn,uo.hasAlignedHourOffset=wn,uo.isDST=_n,uo.isLocal=En,uo.isUtcOffset=xn,uo.isUtc=On,uo.isUTC=On,uo.zoneAbbr=so,uo.zoneName=ao,uo.dates=O("dates accessor is deprecated. Use date instead.",Xi),uo.months=O("months accessor is deprecated. Use month instead",le),uo.years=O("years accessor is deprecated. Use year instead",ve),uo.zone=O("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",vn),uo.isDSTShifted=O("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Sn);var fo=R.prototype;function po(t,e,r,n){var i=mr(),o=p().set(n,e);return i[r](o,t)}function yo(t,e,r){if(l(t)&&(e=t,t=void 0),t=t||"",null!=e)return po(t,e,r,"month");var n,i=[];for(n=0;n<12;n++)i[n]=po(t,n,r,"month");return i}function vo(t,e,r,n){"boolean"==typeof t?(l(e)&&(r=e,e=void 0),e=e||""):(r=e=t,t=!1,l(e)&&(r=e,e=void 0),e=e||"");var i,o=mr(),s=t?o._week.dow:0,a=[];if(null!=r)return po(e,(r+s)%7,n,"day");for(i=0;i<7;i++)a[i]=po(e,(i+s)%7,n,"day");return a}function mo(t,e){return yo(t,e,"months")}function go(t,e){return yo(t,e,"monthsShort")}function bo(t,e,r){return vo(t,e,r,"weekdays")}function wo(t,e,r){return vo(t,e,r,"weekdaysShort")}function _o(t,e,r){return vo(t,e,r,"weekdaysMin")}fo.calendar=T,fo.longDateFormat=V,fo.invalidDate=G,fo.ordinal=Q,fo.preparse=ho,fo.postformat=ho,fo.relativeTime=X,fo.pastFuture=tt,fo.set=j,fo.eras=ki,fo.erasParse=Pi,fo.erasConvertYear=ji,fo.erasAbbrRegex=Mi,fo.erasNameRegex=Fi,fo.erasNarrowRegex=Ni,fo.months=oe,fo.monthsShort=se,fo.monthsParse=ue,fo.monthsRegex=de,fo.monthsShortRegex=fe,fo.week=xe,fo.firstDayOfYear=Ae,fo.firstDayOfWeek=Ce,fo.weekdays=Be,fo.weekdaysMin=$e,fo.weekdaysShort=Ue,fo.weekdaysParse=qe,fo.weekdaysRegex=He,fo.weekdaysShortRegex=Ge,fo.weekdaysMinRegex=Je,fo.isPM=er,fo.meridiem=ir,pr("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===lt(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),n.lang=O("moment.lang is deprecated. Use moment.locale instead.",pr),n.langData=O("moment.langData is deprecated. Use moment.localeData instead.",mr);var So=Math.abs;function Eo(){var t=this._data;return this._milliseconds=So(this._milliseconds),this._days=So(this._days),this._months=So(this._months),t.milliseconds=So(t.milliseconds),t.seconds=So(t.seconds),t.minutes=So(t.minutes),t.hours=So(t.hours),t.months=So(t.months),t.years=So(t.years),this}function xo(t,e,r,n){var i=kn(e,r);return t._milliseconds+=n*i._milliseconds,t._days+=n*i._days,t._months+=n*i._months,t._bubble()}function Oo(t,e){return xo(this,t,e,1)}function Co(t,e){return xo(this,t,e,-1)}function Ao(t){return t<0?Math.floor(t):Math.ceil(t)}function ko(){var t,e,r,n,i,o=this._milliseconds,s=this._days,a=this._months,u=this._data;return o>=0&&s>=0&&a>=0||o<=0&&s<=0&&a<=0||(o+=864e5*Ao(jo(a)+s),s=0,a=0),u.milliseconds=o%1e3,t=ct(o/1e3),u.seconds=t%60,e=ct(t/60),u.minutes=e%60,r=ct(e/60),u.hours=r%24,s+=ct(r/24),a+=i=ct(Po(s)),s-=Ao(jo(i)),n=ct(a/12),a%=12,u.days=s,u.months=a,u.years=n,this}function Po(t){return 4800*t/146097}function jo(t){return 146097*t/4800}function Do(t){if(!this.isValid())return NaN;var e,r,n=this._milliseconds;if("month"===(t=nt(t))||"quarter"===t||"year"===t)switch(e=this._days+n/864e5,r=this._months+Po(e),t){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(e=this._days+Math.round(jo(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return 24*e+n/36e5;case"minute":return 1440*e+n/6e4;case"second":return 86400*e+n/1e3;case"millisecond":return Math.floor(864e5*e)+n;default:throw new Error("Unknown unit "+t)}}function Ro(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*lt(this._months/12):NaN}function Io(t){return function(){return this.as(t)}}var To=Io("ms"),Fo=Io("s"),Mo=Io("m"),No=Io("h"),Lo=Io("d"),Bo=Io("w"),Uo=Io("M"),$o=Io("Q"),zo=Io("y");function qo(){return kn(this)}function Yo(t){return t=nt(t),this.isValid()?this[t+"s"]():NaN}function Wo(t){return function(){return this.isValid()?this._data[t]:NaN}}var Vo=Wo("milliseconds"),Ho=Wo("seconds"),Go=Wo("minutes"),Jo=Wo("hours"),Ko=Wo("days"),Qo=Wo("months"),Zo=Wo("years");function Xo(){return ct(this.days()/7)}var ts=Math.round,es={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function rs(t,e,r,n,i){return i.relativeTime(e||1,!!r,t,n)}function ns(t,e,r,n){var i=kn(t).abs(),o=ts(i.as("s")),s=ts(i.as("m")),a=ts(i.as("h")),u=ts(i.as("d")),c=ts(i.as("M")),l=ts(i.as("w")),h=ts(i.as("y")),f=o<=r.ss&&["s",o]||o<r.s&&["ss",o]||s<=1&&["m"]||s<r.m&&["mm",s]||a<=1&&["h"]||a<r.h&&["hh",a]||u<=1&&["d"]||u<r.d&&["dd",u];return null!=r.w&&(f=f||l<=1&&["w"]||l<r.w&&["ww",l]),(f=f||c<=1&&["M"]||c<r.M&&["MM",c]||h<=1&&["y"]||["yy",h])[2]=e,f[3]=+t>0,f[4]=n,rs.apply(null,f)}function is(t){return void 0===t?ts:"function"==typeof t&&(ts=t,!0)}function os(t,e){return void 0!==es[t]&&(void 0===e?es[t]:(es[t]=e,"s"===t&&(es.ss=e-1),!0))}function ss(t,e){if(!this.isValid())return this.localeData().invalidDate();var r,n,i=!1,o=es;return"object"==typeof t&&(e=t,t=!1),"boolean"==typeof t&&(i=t),"object"==typeof e&&(o=Object.assign({},es,e),null!=e.s&&null==e.ss&&(o.ss=e.s-1)),n=ns(this,!i,o,r=this.localeData()),i&&(n=r.pastFuture(+this,n)),r.postformat(n)}var as=Math.abs;function us(t){return(t>0)-(t<0)||+t}function cs(){if(!this.isValid())return this.localeData().invalidDate();var t,e,r,n,i,o,s,a,u=as(this._milliseconds)/1e3,c=as(this._days),l=as(this._months),h=this.asSeconds();return h?(t=ct(u/60),e=ct(t/60),u%=60,t%=60,r=ct(l/12),l%=12,n=u?u.toFixed(3).replace(/\.?0+$/,""):"",i=h<0?"-":"",o=us(this._months)!==us(h)?"-":"",s=us(this._days)!==us(h)?"-":"",a=us(this._milliseconds)!==us(h)?"-":"",i+"P"+(r?o+r+"Y":"")+(l?o+l+"M":"")+(c?s+c+"D":"")+(e||t||u?"T":"")+(e?a+e+"H":"")+(t?a+t+"M":"")+(u?a+n+"S":"")):"P0D"}var ls=sn.prototype;return ls.isValid=nn,ls.abs=Eo,ls.add=Oo,ls.subtract=Co,ls.as=Do,ls.asMilliseconds=To,ls.asSeconds=Fo,ls.asMinutes=Mo,ls.asHours=No,ls.asDays=Lo,ls.asWeeks=Bo,ls.asMonths=Uo,ls.asQuarters=$o,ls.asYears=zo,ls.valueOf=Ro,ls._bubble=ko,ls.clone=qo,ls.get=Yo,ls.milliseconds=Vo,ls.seconds=Ho,ls.minutes=Go,ls.hours=Jo,ls.days=Ko,ls.weeks=Xo,ls.months=Qo,ls.years=Zo,ls.humanize=ss,ls.toISOString=cs,ls.toString=cs,ls.toJSON=cs,ls.locale=si,ls.localeData=ui,ls.toIsoString=O("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",cs),ls.lang=ai,U("X",0,0,"unix"),U("x",0,0,"valueOf"),Tt("x",Pt),Tt("X",Rt),Bt("X",(function(t,e,r){r._d=new Date(1e3*parseFloat(t))})),Bt("x",(function(t,e,r){r._d=new Date(lt(t))})),
//! moment.js
n.version="2.29.4",i(Gr),n.fn=uo,n.min=Zr,n.max=Xr,n.now=tn,n.utc=p,n.unix=co,n.months=mo,n.isDate=h,n.locale=pr,n.invalid=g,n.duration=kn,n.isMoment=E,n.weekdays=bo,n.parseZone=lo,n.localeData=mr,n.isDuration=an,n.monthsShort=go,n.weekdaysMin=_o,n.defineLocale=yr,n.updateLocale=vr,n.locales=gr,n.weekdaysShort=wo,n.normalizeUnits=nt,n.relativeTimeRounding=is,n.relativeTimeThreshold=os,n.calendarFormat=$n,n.prototype=uo,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n}()})),i.register("2Roe1",(function(t,r){!function(){var n;function i(t){var e,r,n,i="",o=-1;if(t&&t.length)for(n=t.length;(o+=1)<n;)e=t.charCodeAt(o),r=o+1<n?t.charCodeAt(o+1):0,55296<=e&&e<=56319&&56320<=r&&r<=57343&&(e=65536+((1023&e)<<10)+(1023&r),o+=1),e<=127?i+=String.fromCharCode(e):e<=2047?i+=String.fromCharCode(192|e>>>6&31,128|63&e):e<=65535?i+=String.fromCharCode(224|e>>>12&15,128|e>>>6&63,128|63&e):e<=2097151&&(i+=String.fromCharCode(240|e>>>18&7,128|e>>>12&63,128|e>>>6&63,128|63&e));return i}function o(t,e){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}function s(t,e){return t<<e|t>>>32-e}function a(t,e){for(var r,n=e?"0123456789ABCDEF":"0123456789abcdef",i="",o=0,s=t.length;o<s;o+=1)r=t.charCodeAt(o),i+=n.charAt(r>>>4&15)+n.charAt(15&r);return i}function u(t){var e,r=32*t.length,n="";for(e=0;e<r;e+=8)n+=String.fromCharCode(t[e>>5]>>>24-e%32&255);return n}function c(t){var e,r=32*t.length,n="";for(e=0;e<r;e+=8)n+=String.fromCharCode(t[e>>5]>>>e%32&255);return n}function l(t){var e,r=8*t.length,n=Array(t.length>>2),i=n.length;for(e=0;e<i;e+=1)n[e]=0;for(e=0;e<r;e+=8)n[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return n}function h(t){var e,r=8*t.length,n=Array(t.length>>2),i=n.length;for(e=0;e<i;e+=1)n[e]=0;for(e=0;e<r;e+=8)n[e>>5]|=(255&t.charCodeAt(e/8))<<24-e%32;return n}function f(t,e){var r,n,i,o,s,a,u,c,l=e.length,h=Array();for(o=(a=Array(Math.ceil(t.length/2))).length,r=0;r<o;r+=1)a[r]=t.charCodeAt(2*r)<<8|t.charCodeAt(2*r+1);for(;a.length>0;){for(s=Array(),i=0,r=0;r<a.length;r+=1)i=(i<<16)+a[r],i-=(n=Math.floor(i/l))*l,(s.length>0||n>0)&&(s[s.length]=n);h[h.length]=i,a=s}for(u="",r=h.length-1;r>=0;r--)u+=e.charAt(h[r]);for(c=Math.ceil(8*t.length/(Math.log(e.length)/Math.log(2))),r=u.length;r<c;r+=1)u=e[0]+u;return u}function d(t,e){var r,n,i,o="",s=t.length;for(e=e||"=",r=0;r<s;r+=3)for(i=t.charCodeAt(r)<<16|(r+1<s?t.charCodeAt(r+1)<<8:0)|(r+2<s?t.charCodeAt(r+2):0),n=0;n<4;n+=1)8*r+6*n>8*t.length?o+=e:o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(i>>>6*(3-n)&63);return o}n={VERSION:"1.0.6",Base64:function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e="=",r=!0;this.encode=function(n){var o,s,a,u="",c=n.length;for(e=e||"=",n=r?i(n):n,o=0;o<c;o+=3)for(a=n.charCodeAt(o)<<16|(o+1<c?n.charCodeAt(o+1)<<8:0)|(o+2<c?n.charCodeAt(o+2):0),s=0;s<4;s+=1)u+=8*o+6*s>8*c?e:t.charAt(a>>>6*(3-s)&63);return u},this.decode=function(n){var i,o,s,a,u,c,l,h,f="",d=[];if(!n)return n;i=h=0,n=n.replace(new RegExp("\\"+e,"gi"),"");do{o=(l=t.indexOf(n.charAt(i+=1))<<18|t.indexOf(n.charAt(i+=1))<<12|(u=t.indexOf(n.charAt(i+=1)))<<6|(c=t.indexOf(n.charAt(i+=1))))>>16&255,s=l>>8&255,a=255&l,d[h+=1]=64===u?String.fromCharCode(o):64===c?String.fromCharCode(o,s):String.fromCharCode(o,s,a)}while(i<n.length);return f=d.join(""),f=r?function(t){var e,r,n,i,o,s,a=[];if(e=r=n=i=o=0,t&&t.length)for(s=t.length,t+="";e<s;)r+=1,(n=t.charCodeAt(e))<128?(a[r]=String.fromCharCode(n),e+=1):n>191&&n<224?(i=t.charCodeAt(e+1),a[r]=String.fromCharCode((31&n)<<6|63&i),e+=2):(i=t.charCodeAt(e+1),o=t.charCodeAt(e+2),a[r]=String.fromCharCode((15&n)<<12|(63&i)<<6|63&o),e+=3);return a.join("")}(f):f,f},this.setPad=function(t){return e=t||e,this},this.setTab=function(e){return t=e||t,this},this.setUTF8=function(t){return"boolean"==typeof t&&(r=t),this}},CRC32:function(t){var e,r,n,o=0,s=0;for(t=i(t),e=["00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 ","79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 ","84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F ","63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD ","A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC ","51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 ","B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 ","06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 ","E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 ","12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 ","D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 ","33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 ","CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 ","9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E ","7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D ","806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 ","60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA ","AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 ","5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 ","B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 ","05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 ","F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA ","11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 ","D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F ","30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E ","C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D"].join(""),o^=-1,r=0,n=t.length;r<n;r+=1)s=255&(o^t.charCodeAt(r)),o=o>>>8^"0x"+e.substr(9*s,8);return(-1^o)>>>0},MD5:function(t){var e=!(!t||"boolean"!=typeof t.uppercase)&&t.uppercase,r=t&&"string"==typeof t.pad?t.pad:"=",n=!t||"boolean"!=typeof t.utf8||t.utf8;function u(t){return c(p(l(t=n?i(t):t),8*t.length))}function h(t,e){var r,o,s,a,u;for(t=n?i(t):t,e=n?i(e):e,(r=l(t)).length>16&&(r=p(r,8*t.length)),o=Array(16),s=Array(16),u=0;u<16;u+=1)o[u]=909522486^r[u],s[u]=1549556828^r[u];return a=p(o.concat(l(e)),512+8*e.length),c(p(s.concat(a),640))}function p(t,e){var r,n,i,s,a,u=1732584193,c=-271733879,l=-1732584194,h=271733878;for(t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e,r=0;r<t.length;r+=16)n=u,i=c,s=l,a=h,u=v(u,c,l,h,t[r+0],7,-680876936),h=v(h,u,c,l,t[r+1],12,-389564586),l=v(l,h,u,c,t[r+2],17,606105819),c=v(c,l,h,u,t[r+3],22,-1044525330),u=v(u,c,l,h,t[r+4],7,-176418897),h=v(h,u,c,l,t[r+5],12,1200080426),l=v(l,h,u,c,t[r+6],17,-1473231341),c=v(c,l,h,u,t[r+7],22,-45705983),u=v(u,c,l,h,t[r+8],7,1770035416),h=v(h,u,c,l,t[r+9],12,-1958414417),l=v(l,h,u,c,t[r+10],17,-42063),c=v(c,l,h,u,t[r+11],22,-1990404162),u=v(u,c,l,h,t[r+12],7,1804603682),h=v(h,u,c,l,t[r+13],12,-40341101),l=v(l,h,u,c,t[r+14],17,-1502002290),u=m(u,c=v(c,l,h,u,t[r+15],22,1236535329),l,h,t[r+1],5,-165796510),h=m(h,u,c,l,t[r+6],9,-1069501632),l=m(l,h,u,c,t[r+11],14,643717713),c=m(c,l,h,u,t[r+0],20,-373897302),u=m(u,c,l,h,t[r+5],5,-701558691),h=m(h,u,c,l,t[r+10],9,38016083),l=m(l,h,u,c,t[r+15],14,-660478335),c=m(c,l,h,u,t[r+4],20,-405537848),u=m(u,c,l,h,t[r+9],5,568446438),h=m(h,u,c,l,t[r+14],9,-1019803690),l=m(l,h,u,c,t[r+3],14,-187363961),c=m(c,l,h,u,t[r+8],20,1163531501),u=m(u,c,l,h,t[r+13],5,-1444681467),h=m(h,u,c,l,t[r+2],9,-51403784),l=m(l,h,u,c,t[r+7],14,1735328473),u=g(u,c=m(c,l,h,u,t[r+12],20,-1926607734),l,h,t[r+5],4,-378558),h=g(h,u,c,l,t[r+8],11,-2022574463),l=g(l,h,u,c,t[r+11],16,1839030562),c=g(c,l,h,u,t[r+14],23,-35309556),u=g(u,c,l,h,t[r+1],4,-1530992060),h=g(h,u,c,l,t[r+4],11,1272893353),l=g(l,h,u,c,t[r+7],16,-155497632),c=g(c,l,h,u,t[r+10],23,-1094730640),u=g(u,c,l,h,t[r+13],4,681279174),h=g(h,u,c,l,t[r+0],11,-358537222),l=g(l,h,u,c,t[r+3],16,-722521979),c=g(c,l,h,u,t[r+6],23,76029189),u=g(u,c,l,h,t[r+9],4,-640364487),h=g(h,u,c,l,t[r+12],11,-421815835),l=g(l,h,u,c,t[r+15],16,530742520),u=b(u,c=g(c,l,h,u,t[r+2],23,-995338651),l,h,t[r+0],6,-198630844),h=b(h,u,c,l,t[r+7],10,1126891415),l=b(l,h,u,c,t[r+14],15,-1416354905),c=b(c,l,h,u,t[r+5],21,-57434055),u=b(u,c,l,h,t[r+12],6,1700485571),h=b(h,u,c,l,t[r+3],10,-1894986606),l=b(l,h,u,c,t[r+10],15,-1051523),c=b(c,l,h,u,t[r+1],21,-2054922799),u=b(u,c,l,h,t[r+8],6,1873313359),h=b(h,u,c,l,t[r+15],10,-30611744),l=b(l,h,u,c,t[r+6],15,-1560198380),c=b(c,l,h,u,t[r+13],21,1309151649),u=b(u,c,l,h,t[r+4],6,-145523070),h=b(h,u,c,l,t[r+11],10,-1120210379),l=b(l,h,u,c,t[r+2],15,718787259),c=b(c,l,h,u,t[r+9],21,-343485551),u=o(u,n),c=o(c,i),l=o(l,s),h=o(h,a);return Array(u,c,l,h)}function y(t,e,r,n,i,a){return o(s(o(o(e,t),o(n,a)),i),r)}function v(t,e,r,n,i,o,s){return y(e&r|~e&n,t,e,i,o,s)}function m(t,e,r,n,i,o,s){return y(e&n|r&~n,t,e,i,o,s)}function g(t,e,r,n,i,o,s){return y(e^r^n,t,e,i,o,s)}function b(t,e,r,n,i,o,s){return y(r^(e|~n),t,e,i,o,s)}this.hex=function(t){return a(u(t),e)},this.b64=function(t){return d(u(t),r)},this.any=function(t,e){return f(u(t),e)},this.raw=function(t){return u(t)},this.hex_hmac=function(t,r){return a(h(t,r),e)},this.b64_hmac=function(t,e){return d(h(t,e),r)},this.any_hmac=function(t,e,r){return f(h(t,e),r)},this.vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"===hex("abc").toLowerCase()},this.setUpperCase=function(t){return"boolean"==typeof t&&(e=t),this},this.setPad=function(t){return r=t||r,this},this.setUTF8=function(t){return"boolean"==typeof t&&(n=t),this}},SHA1:function(t){var e=!(!t||"boolean"!=typeof t.uppercase)&&t.uppercase,r=t&&"string"==typeof t.pad?t.pad:"=",n=!t||"boolean"!=typeof t.utf8||t.utf8;function c(t){return u(p(h(t=n?i(t):t),8*t.length))}function l(t,e){var r,o,s,a,c;for(t=n?i(t):t,e=n?i(e):e,(r=h(t)).length>16&&(r=p(r,8*t.length)),o=Array(16),s=Array(16),a=0;a<16;a+=1)o[a]=909522486^r[a],s[a]=1549556828^r[a];return c=p(o.concat(h(e)),512+8*e.length),u(p(s.concat(c),672))}function p(t,e){var r,n,i,a,u,c,l,h,f=Array(80),d=1732584193,p=-271733879,m=-1732584194,g=271733878,b=-1009589776;for(t[e>>5]|=128<<24-e%32,t[15+(e+64>>9<<4)]=e,r=0;r<t.length;r+=16){for(a=d,u=p,c=m,l=g,h=b,n=0;n<80;n+=1)f[n]=n<16?t[r+n]:s(f[n-3]^f[n-8]^f[n-14]^f[n-16],1),i=o(o(s(d,5),y(n,p,m,g)),o(o(b,f[n]),v(n))),b=g,g=m,m=s(p,30),p=d,d=i;d=o(d,a),p=o(p,u),m=o(m,c),g=o(g,l),b=o(b,h)}return Array(d,p,m,g,b)}function y(t,e,r,n){return t<20?e&r|~e&n:t<40?e^r^n:t<60?e&r|e&n|r&n:e^r^n}function v(t){return t<20?1518500249:t<40?1859775393:t<60?-1894007588:-899497514}this.hex=function(t){return a(c(t),e)},this.b64=function(t){return d(c(t),r)},this.any=function(t,e){return f(c(t),e)},this.raw=function(t){return c(t)},this.hex_hmac=function(t,e){return a(l(t,e))},this.b64_hmac=function(t,e){return d(l(t,e),r)},this.any_hmac=function(t,e,r){return f(l(t,e),r)},this.vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"===hex("abc").toLowerCase()},this.setUpperCase=function(t){return"boolean"==typeof t&&(e=t),this},this.setPad=function(t){return r=t||r,this},this.setUTF8=function(t){return"boolean"==typeof t&&(n=t),this}},SHA256:function(t){!(!t||"boolean"!=typeof t.uppercase)&&t.uppercase;var e,r=t&&"string"==typeof t.pad?t.pad:"=",n=!t||"boolean"!=typeof t.utf8||t.utf8;function s(t,e){return u(w(h(t=e?i(t):t),8*t.length))}function c(t,e){t=n?i(t):t,e=n?i(e):e;var r,o=0,s=h(t),a=Array(16),c=Array(16);for(s.length>16&&(s=w(s,8*t.length));o<16;o+=1)a[o]=909522486^s[o],c[o]=1549556828^s[o];return r=w(a.concat(h(e)),512+8*e.length),u(w(c.concat(r),768))}function l(t,e){return t>>>e|t<<32-e}function p(t,e){return t>>>e}function y(t,e,r){return t&e^~t&r}function v(t,e,r){return t&e^t&r^e&r}function m(t){return l(t,2)^l(t,13)^l(t,22)}function g(t){return l(t,6)^l(t,11)^l(t,25)}function b(t){return l(t,7)^l(t,18)^p(t,3)}function w(t,r){var n,i,s,a,u,c,h,f,d,w,_,S,E,x=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],O=new Array(64);for(t[r>>5]|=128<<24-r%32,t[15+(r+64>>9<<4)]=r,d=0;d<t.length;d+=16){for(n=x[0],i=x[1],s=x[2],a=x[3],u=x[4],c=x[5],h=x[6],f=x[7],w=0;w<64;w+=1)O[w]=w<16?t[w+d]:o(o(o(l(E=O[w-2],17)^l(E,19)^p(E,10),O[w-7]),b(O[w-15])),O[w-16]),_=o(o(o(o(f,g(u)),y(u,c,h)),e[w]),O[w]),S=o(m(n),v(n,i,s)),f=h,h=c,c=u,u=o(a,_),a=s,s=i,i=n,n=o(_,S);x[0]=o(n,x[0]),x[1]=o(i,x[1]),x[2]=o(s,x[2]),x[3]=o(a,x[3]),x[4]=o(u,x[4]),x[5]=o(c,x[5]),x[6]=o(h,x[6]),x[7]=o(f,x[7])}return x}this.hex=function(t){return a(s(t,n))},this.b64=function(t){return d(s(t,n),r)},this.any=function(t,e){return f(s(t,n),e)},this.raw=function(t){return s(t,n)},this.hex_hmac=function(t,e){return a(c(t,e))},this.b64_hmac=function(t,e){return d(c(t,e),r)},this.any_hmac=function(t,e,r){return f(c(t,e),r)},this.vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"===hex("abc").toLowerCase()},this.setUpperCase=function(t){return"boolean"==typeof t&&t,this},this.setPad=function(t){return r=t||r,this},this.setUTF8=function(t){return"boolean"==typeof t&&(n=t),this},e=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998]},SHA512:function(t){!(!t||"boolean"!=typeof t.uppercase)&&t.uppercase;var e,r=t&&"string"==typeof t.pad?t.pad:"=",n=!t||"boolean"!=typeof t.utf8||t.utf8;function o(t){return u(c(h(t=n?i(t):t),8*t.length))}function s(t,e){t=n?i(t):t,e=n?i(e):e;var r,o=0,s=h(t),a=Array(32),l=Array(32);for(s.length>32&&(s=c(s,8*t.length));o<32;o+=1)a[o]=909522486^s[o],l[o]=1549556828^s[o];return r=c(a.concat(h(e)),1024+8*e.length),u(c(l.concat(r),1536))}function c(t,r){var n,i,o,s=new Array(80),a=new Array(16),u=[new l(1779033703,-205731576),new l(-1150833019,-2067093701),new l(1013904242,-23791573),new l(-1521486534,1595750129),new l(1359893119,-1377402159),new l(-1694144372,725511199),new l(528734635,-79577749),new l(1541459225,327033209)],c=new l(0,0),h=new l(0,0),f=new l(0,0),d=new l(0,0),_=new l(0,0),S=new l(0,0),E=new l(0,0),x=new l(0,0),O=new l(0,0),C=new l(0,0),A=new l(0,0),k=new l(0,0),P=new l(0,0),j=new l(0,0),D=new l(0,0),R=new l(0,0),I=new l(0,0);for(void 0===e&&(e=[new l(1116352408,-685199838),new l(1899447441,602891725),new l(-1245643825,-330482897),new l(-373957723,-2121671748),new l(961987163,-213338824),new l(1508970993,-1241133031),new l(-1841331548,-1357295717),new l(-1424204075,-630357736),new l(-670586216,-1560083902),new l(310598401,1164996542),new l(607225278,1323610764),new l(1426881987,-704662302),new l(1925078388,-226784913),new l(-2132889090,991336113),new l(-1680079193,633803317),new l(-1046744716,-815192428),new l(-459576895,-1628353838),new l(-272742522,944711139),new l(264347078,-1953704523),new l(604807628,2007800933),new l(770255983,1495990901),new l(1249150122,1856431235),new l(1555081692,-1119749164),new l(1996064986,-2096016459),new l(-1740746414,-295247957),new l(-1473132947,766784016),new l(-1341970488,-1728372417),new l(-1084653625,-1091629340),new l(-958395405,1034457026),new l(-710438585,-1828018395),new l(113926993,-536640913),new l(338241895,168717936),new l(666307205,1188179964),new l(773529912,1546045734),new l(1294757372,1522805485),new l(1396182291,-1651133473),new l(1695183700,-1951439906),new l(1986661051,1014477480),new l(-2117940946,1206759142),new l(-1838011259,344077627),new l(-1564481375,1290863460),new l(-1474664885,-1136513023),new l(-1035236496,-789014639),new l(-949202525,106217008),new l(-778901479,-688958952),new l(-694614492,1432725776),new l(-200395387,1467031594),new l(275423344,851169720),new l(430227734,-1194143544),new l(506948616,1363258195),new l(659060556,-544281703),new l(883997877,-509917016),new l(958139571,-976659869),new l(1322822218,-482243893),new l(1537002063,2003034995),new l(1747873779,-692930397),new l(1955562222,1575990012),new l(2024104815,1125592928),new l(-2067236844,-1578062990),new l(-1933114872,442776044),new l(-1866530822,593698344),new l(-1538233109,-561857047),new l(-1090935817,-1295615723),new l(-965641998,-479046869),new l(-903397682,-366583396),new l(-779700025,566280711),new l(-354779690,-840897762),new l(-176337025,-294727304),new l(116418474,1914138554),new l(174292421,-1563912026),new l(289380356,-1090974290),new l(460393269,320620315),new l(685471733,587496836),new l(852142971,1086792851),new l(1017036298,365543100),new l(1126000580,-1676669620),new l(1288033470,-885112138),new l(1501505948,-60457430),new l(1607167915,987167468),new l(1816402316,1246189591)]),i=0;i<80;i+=1)s[i]=new l(0,0);for(t[r>>5]|=128<<24-(31&r),t[31+(r+128>>10<<5)]=r,o=t.length,i=0;i<o;i+=32){for(p(f,u[0]),p(d,u[1]),p(_,u[2]),p(S,u[3]),p(E,u[4]),p(x,u[5]),p(O,u[6]),p(C,u[7]),n=0;n<16;n+=1)s[n].h=t[i+2*n],s[n].l=t[i+2*n+1];for(n=16;n<80;n+=1)y(D,s[n-2],19),v(R,s[n-2],29),m(I,s[n-2],6),k.l=D.l^R.l^I.l,k.h=D.h^R.h^I.h,y(D,s[n-15],1),y(R,s[n-15],8),m(I,s[n-15],7),A.l=D.l^R.l^I.l,A.h=D.h^R.h^I.h,b(s[n],k,s[n-7],A,s[n-16]);for(n=0;n<80;n+=1)P.l=E.l&x.l^~E.l&O.l,P.h=E.h&x.h^~E.h&O.h,y(D,E,14),y(R,E,18),v(I,E,9),k.l=D.l^R.l^I.l,k.h=D.h^R.h^I.h,y(D,f,28),v(R,f,2),v(I,f,7),A.l=D.l^R.l^I.l,A.h=D.h^R.h^I.h,j.l=f.l&d.l^f.l&_.l^d.l&_.l,j.h=f.h&d.h^f.h&_.h^d.h&_.h,w(c,C,k,P,e[n],s[n]),g(h,A,j),p(C,O),p(O,x),p(x,E),g(E,S,c),p(S,_),p(_,d),p(d,f),g(f,c,h);g(u[0],u[0],f),g(u[1],u[1],d),g(u[2],u[2],_),g(u[3],u[3],S),g(u[4],u[4],E),g(u[5],u[5],x),g(u[6],u[6],O),g(u[7],u[7],C)}for(i=0;i<8;i+=1)a[2*i]=u[i].h,a[2*i+1]=u[i].l;return a}function l(t,e){this.h=t,this.l=e}function p(t,e){t.h=e.h,t.l=e.l}function y(t,e,r){t.l=e.l>>>r|e.h<<32-r,t.h=e.h>>>r|e.l<<32-r}function v(t,e,r){t.l=e.h>>>r|e.l<<32-r,t.h=e.l>>>r|e.h<<32-r}function m(t,e,r){t.l=e.l>>>r|e.h<<32-r,t.h=e.h>>>r}function g(t,e,r){var n=(65535&e.l)+(65535&r.l),i=(e.l>>>16)+(r.l>>>16)+(n>>>16),o=(65535&e.h)+(65535&r.h)+(i>>>16),s=(e.h>>>16)+(r.h>>>16)+(o>>>16);t.l=65535&n|i<<16,t.h=65535&o|s<<16}function b(t,e,r,n,i){var o=(65535&e.l)+(65535&r.l)+(65535&n.l)+(65535&i.l),s=(e.l>>>16)+(r.l>>>16)+(n.l>>>16)+(i.l>>>16)+(o>>>16),a=(65535&e.h)+(65535&r.h)+(65535&n.h)+(65535&i.h)+(s>>>16),u=(e.h>>>16)+(r.h>>>16)+(n.h>>>16)+(i.h>>>16)+(a>>>16);t.l=65535&o|s<<16,t.h=65535&a|u<<16}function w(t,e,r,n,i,o){var s=(65535&e.l)+(65535&r.l)+(65535&n.l)+(65535&i.l)+(65535&o.l),a=(e.l>>>16)+(r.l>>>16)+(n.l>>>16)+(i.l>>>16)+(o.l>>>16)+(s>>>16),u=(65535&e.h)+(65535&r.h)+(65535&n.h)+(65535&i.h)+(65535&o.h)+(a>>>16),c=(e.h>>>16)+(r.h>>>16)+(n.h>>>16)+(i.h>>>16)+(o.h>>>16)+(u>>>16);t.l=65535&s|a<<16,t.h=65535&u|c<<16}this.hex=function(t){return a(o(t))},this.b64=function(t){return d(o(t),r)},this.any=function(t,e){return f(o(t),e)},this.raw=function(t){return o(t)},this.hex_hmac=function(t,e){return a(s(t,e))},this.b64_hmac=function(t,e){return d(s(t,e),r)},this.any_hmac=function(t,e,r){return f(s(t,e),r)},this.vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"===hex("abc").toLowerCase()},this.setUpperCase=function(t){return"boolean"==typeof t&&t,this},this.setPad=function(t){return r=t||r,this},this.setUTF8=function(t){return"boolean"==typeof t&&(n=t),this}},RMD160:function(t){!(!t||"boolean"!=typeof t.uppercase)&&t.uppercase;var e=t&&"string"==typeof t.pad?t.pa:"=",r=!t||"boolean"!=typeof t.utf8||t.utf8,n=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],c=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],h=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];function p(t){return v(m(l(t=r?i(t):t),8*t.length))}function y(t,e){t=r?i(t):t,e=r?i(e):e;var n,o,s=l(t),a=Array(16),u=Array(16);for(s.length>16&&(s=m(s,8*t.length)),n=0;n<16;n+=1)a[n]=909522486^s[n],u[n]=1549556828^s[n];return o=m(a.concat(l(e)),512+8*e.length),v(m(u.concat(o),672))}function v(t){var e,r="",n=32*t.length;for(e=0;e<n;e+=8)r+=String.fromCharCode(t[e>>5]>>>e%32&255);return r}function m(t,e){var r,i,a,l,f,d,p,y,v,m,_,S,E,x,O=1732584193,C=4023233417,A=2562383102,k=271733878,P=3285377520;for(t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e,l=t.length,a=0;a<l;a+=16){for(f=m=O,d=_=C,p=S=A,y=E=k,v=x=P,i=0;i<=79;i+=1)r=o(f,g(i,d,p,y)),r=o(r,t[a+n[i]]),r=o(r,b(i)),r=o(s(r,c[i]),v),f=v,v=y,y=s(p,10),p=d,d=r,r=o(m,g(79-i,_,S,E)),r=o(r,t[a+u[i]]),r=o(r,w(i)),r=o(s(r,h[i]),x),m=x,x=E,E=s(S,10),S=_,_=r;r=o(C,o(p,E)),C=o(A,o(y,x)),A=o(k,o(v,m)),k=o(P,o(f,_)),P=o(O,o(d,S)),O=r}return[O,C,A,k,P]}function g(t,e,r,n){return 0<=t&&t<=15?e^r^n:16<=t&&t<=31?e&r|~e&n:32<=t&&t<=47?(e|~r)^n:48<=t&&t<=63?e&n|r&~n:64<=t&&t<=79?e^(r|~n):"rmd160_f: j out of range"}function b(t){return 0<=t&&t<=15?0:16<=t&&t<=31?1518500249:32<=t&&t<=47?1859775393:48<=t&&t<=63?2400959708:64<=t&&t<=79?2840853838:"rmd160_K1: j out of range"}function w(t){return 0<=t&&t<=15?1352829926:16<=t&&t<=31?1548603684:32<=t&&t<=47?1836072691:48<=t&&t<=63?2053994217:64<=t&&t<=79?0:"rmd160_K2: j out of range"}this.hex=function(t){return a(p(t))},this.b64=function(t){return d(p(t),e)},this.any=function(t,e){return f(p(t),e)},this.raw=function(t){return p(t)},this.hex_hmac=function(t,e){return a(y(t,e))},this.b64_hmac=function(t,r){return d(y(t,r),e)},this.any_hmac=function(t,e,r){return f(y(t,e),r)},this.vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"===hex("abc").toLowerCase()},this.setUpperCase=function(t){return"boolean"==typeof t&&t,this},this.setPad=function(t){return void 0!==t&&(e=t),this},this.setUTF8=function(t){return"boolean"==typeof t&&(r=t),this}}},function(i,o){var s=!1;s=r,r&&"object"==typeof e&&e&&e===e.global&&(i=e),"function"==typeof define&&"object"==typeof define.amd&&define.amd?define((function(){return n})):s?t&&t.exports===s?t.exports=n:s.Hashes=n:i.Hashes=n}(this)}()})),i.register("fOwX1",(function(t,r){(function(){var n,i="Expected a function",o="__lodash_hash_undefined__",s="__lodash_placeholder__",a=16,u=32,c=64,l=128,h=256,f=1/0,d=9007199254740991,p=NaN,y=4294967295,v=[["ary",l],["bind",1],["bindKey",2],["curry",8],["curryRight",a],["flip",512],["partial",u],["partialRight",c],["rearg",h]],m="[object Arguments]",g="[object Array]",b="[object Boolean]",w="[object Date]",_="[object Error]",S="[object Function]",E="[object GeneratorFunction]",x="[object Map]",O="[object Number]",C="[object Object]",A="[object Promise]",k="[object RegExp]",P="[object Set]",j="[object String]",D="[object Symbol]",R="[object WeakMap]",I="[object ArrayBuffer]",T="[object DataView]",F="[object Float32Array]",M="[object Float64Array]",N="[object Int8Array]",L="[object Int16Array]",B="[object Int32Array]",U="[object Uint8Array]",$="[object Uint8ClampedArray]",z="[object Uint16Array]",q="[object Uint32Array]",Y=/\b__p \+= '';/g,W=/\b(__p \+=) '' \+/g,V=/(__e\(.*?\)|\b__t\)) \+\n'';/g,H=/&(?:amp|lt|gt|quot|#39);/g,G=/[&<>"']/g,J=RegExp(H.source),K=RegExp(G.source),Q=/<%-([\s\S]+?)%>/g,Z=/<%([\s\S]+?)%>/g,X=/<%=([\s\S]+?)%>/g,tt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,et=/^\w*$/,rt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,nt=/[\\^$.*+?()[\]{}|]/g,it=RegExp(nt.source),ot=/^\s+/,st=/\s/,at=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ut=/\{\n\/\* \[wrapped with (.+)\] \*/,ct=/,? & /,lt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ht=/[()=,{}\[\]\/\s]/,ft=/\\(\\)?/g,dt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,pt=/\w*$/,yt=/^[-+]0x[0-9a-f]+$/i,vt=/^0b[01]+$/i,mt=/^\[object .+?Constructor\]$/,gt=/^0o[0-7]+$/i,bt=/^(?:0|[1-9]\d*)$/,wt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_t=/($^)/,St=/['\n\r\u2028\u2029\\]/g,Et="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",xt="\\u2700-\\u27bf",Ot="a-z\\xdf-\\xf6\\xf8-\\xff",Ct="A-Z\\xc0-\\xd6\\xd8-\\xde",At="\\ufe0e\\ufe0f",kt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Pt="[']",jt="[\ud800-\udfff]",Dt="["+kt+"]",Rt="["+Et+"]",It="\\d+",Tt="[\\u2700-\\u27bf]",Ft="["+Ot+"]",Mt="[^\ud800-\udfff"+kt+It+xt+Ot+Ct+"]",Nt="[^\ud800-\udfff]",Lt="(?:\ud83c[\udde6-\uddff]){2}",Bt="[\ud800-\udbff][\udc00-\udfff]",Ut="["+Ct+"]",$t="(?:"+Ft+"|"+Mt+")",zt="(?:"+Ut+"|"+Mt+")",qt="(?:['](?:d|ll|m|re|s|t|ve))?",Yt="(?:['](?:D|LL|M|RE|S|T|VE))?",Wt="(?:"+Rt+"|"+"\ud83c[\udffb-\udfff])"+"?",Vt="[\\ufe0e\\ufe0f]?",Ht=Vt+Wt+("(?:\\u200d(?:"+[Nt,Lt,Bt].join("|")+")"+Vt+Wt+")*"),Gt="(?:"+[Tt,Lt,Bt].join("|")+")"+Ht,Jt="(?:"+[Nt+Rt+"?",Rt,Lt,Bt,jt].join("|")+")",Kt=RegExp(Pt,"g"),Qt=RegExp(Rt,"g"),Zt=RegExp("\ud83c[\udffb-\udfff](?=\ud83c[\udffb-\udfff])|"+Jt+Ht,"g"),Xt=RegExp([Ut+"?"+Ft+"+"+qt+"(?="+[Dt,Ut,"$"].join("|")+")",zt+"+"+Yt+"(?="+[Dt,Ut+$t,"$"].join("|")+")",Ut+"?"+$t+"+"+qt,Ut+"+"+Yt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",It,Gt].join("|"),"g"),te=RegExp("[\\u200d\ud800-\udfff"+Et+At+"]"),ee=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,re=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ne=-1,ie={};ie[F]=ie[M]=ie[N]=ie[L]=ie[B]=ie[U]=ie[$]=ie[z]=ie[q]=!0,ie[m]=ie[g]=ie[I]=ie[b]=ie[T]=ie[w]=ie[_]=ie[S]=ie[x]=ie[O]=ie[C]=ie[k]=ie[P]=ie[j]=ie[R]=!1;var oe={};oe[m]=oe[g]=oe[I]=oe[T]=oe[b]=oe[w]=oe[F]=oe[M]=oe[N]=oe[L]=oe[B]=oe[x]=oe[O]=oe[C]=oe[k]=oe[P]=oe[j]=oe[D]=oe[U]=oe[$]=oe[z]=oe[q]=!0,oe[_]=oe[S]=oe[R]=!1;var se={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ae=parseFloat,ue=parseInt,ce="object"==typeof e&&e&&e.Object===Object&&e,le="object"==typeof self&&self&&self.Object===Object&&self,he=ce||le||Function("return this")(),fe=r&&!r.nodeType&&r,de=fe&&t&&!t.nodeType&&t,pe=de&&de.exports===fe,ye=pe&&ce.process,ve=function(){try{var t=de&&de.require&&de.require("util").types;return t||ye&&ye.binding&&ye.binding("util")}catch(t){}}(),me=ve&&ve.isArrayBuffer,ge=ve&&ve.isDate,be=ve&&ve.isMap,we=ve&&ve.isRegExp,_e=ve&&ve.isSet,Se=ve&&ve.isTypedArray;function Ee(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function xe(t,e,r,n){for(var i=-1,o=null==t?0:t.length;++i<o;){var s=t[i];e(n,s,r(s),t)}return n}function Oe(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}function Ce(t,e){for(var r=null==t?0:t.length;r--&&!1!==e(t[r],r,t););return t}function Ae(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}function ke(t,e){for(var r=-1,n=null==t?0:t.length,i=0,o=[];++r<n;){var s=t[r];e(s,r,t)&&(o[i++]=s)}return o}function Pe(t,e){return!!(null==t?0:t.length)&&Be(t,e,0)>-1}function je(t,e,r){for(var n=-1,i=null==t?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}function De(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}function Re(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function Ie(t,e,r,n){var i=-1,o=null==t?0:t.length;for(n&&o&&(r=t[++i]);++i<o;)r=e(r,t[i],i,t);return r}function Te(t,e,r,n){var i=null==t?0:t.length;for(n&&i&&(r=t[--i]);i--;)r=e(r,t[i],i,t);return r}function Fe(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var Me=qe("length");function Ne(t,e,r){var n;return r(t,(function(t,r,i){if(e(t,r,i))return n=r,!1})),n}function Le(t,e,r,n){for(var i=t.length,o=r+(n?1:-1);n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function Be(t,e,r){return e==e?function(t,e,r){var n=r-1,i=t.length;for(;++n<i;)if(t[n]===e)return n;return-1}(t,e,r):Le(t,$e,r)}function Ue(t,e,r,n){for(var i=r-1,o=t.length;++i<o;)if(n(t[i],e))return i;return-1}function $e(t){return t!=t}function ze(t,e){var r=null==t?0:t.length;return r?Ve(t,e)/r:p}function qe(t){return function(e){return null==e?n:e[t]}}function Ye(t){return function(e){return null==t?n:t[e]}}function We(t,e,r,n,i){return i(t,(function(t,i,o){r=n?(n=!1,t):e(r,t,i,o)})),r}function Ve(t,e){for(var r,i=-1,o=t.length;++i<o;){var s=e(t[i]);s!==n&&(r=r===n?s:r+s)}return r}function He(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function Ge(t){return t?t.slice(0,hr(t)+1).replace(ot,""):t}function Je(t){return function(e){return t(e)}}function Ke(t,e){return De(e,(function(e){return t[e]}))}function Qe(t,e){return t.has(e)}function Ze(t,e){for(var r=-1,n=t.length;++r<n&&Be(e,t[r],0)>-1;);return r}function Xe(t,e){for(var r=t.length;r--&&Be(e,t[r],0)>-1;);return r}function tr(t,e){for(var r=t.length,n=0;r--;)t[r]===e&&++n;return n}var er=Ye({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),rr=Ye({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function nr(t){return"\\"+se[t]}function ir(t){return te.test(t)}function or(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function sr(t,e){return function(r){return t(e(r))}}function ar(t,e){for(var r=-1,n=t.length,i=0,o=[];++r<n;){var a=t[r];a!==e&&a!==s||(t[r]=s,o[i++]=r)}return o}function ur(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}function cr(t){return ir(t)?function(t){var e=Zt.lastIndex=0;for(;Zt.test(t);)++e;return e}(t):Me(t)}function lr(t){return ir(t)?function(t){return t.match(Zt)||[]}(t):function(t){return t.split("")}(t)}function hr(t){for(var e=t.length;e--&&st.test(t.charAt(e)););return e}var fr=Ye({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var dr=function t(e){var r,st=(e=null==e?he:dr.defaults(he.Object(),e,dr.pick(he,re))).Array,Et=e.Date,xt=e.Error,Ot=e.Function,Ct=e.Math,At=e.Object,kt=e.RegExp,Pt=e.String,jt=e.TypeError,Dt=st.prototype,Rt=Ot.prototype,It=At.prototype,Tt=e["__core-js_shared__"],Ft=Rt.toString,Mt=It.hasOwnProperty,Nt=0,Lt=(r=/[^.]+$/.exec(Tt&&Tt.keys&&Tt.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",Bt=It.toString,Ut=Ft.call(At),$t=he._,zt=kt("^"+Ft.call(Mt).replace(nt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qt=pe?e.Buffer:n,Yt=e.Symbol,Wt=e.Uint8Array,Vt=qt?qt.allocUnsafe:n,Ht=sr(At.getPrototypeOf,At),Gt=At.create,Jt=It.propertyIsEnumerable,Zt=Dt.splice,te=Yt?Yt.isConcatSpreadable:n,se=Yt?Yt.iterator:n,ce=Yt?Yt.toStringTag:n,le=function(){try{var t=fo(At,"defineProperty");return t({},"",{}),t}catch(t){}}(),fe=e.clearTimeout!==he.clearTimeout&&e.clearTimeout,de=Et&&Et.now!==he.Date.now&&Et.now,ye=e.setTimeout!==he.setTimeout&&e.setTimeout,ve=Ct.ceil,Me=Ct.floor,Ye=At.getOwnPropertySymbols,pr=qt?qt.isBuffer:n,yr=e.isFinite,vr=Dt.join,mr=sr(At.keys,At),gr=Ct.max,br=Ct.min,wr=Et.now,_r=e.parseInt,Sr=Ct.random,Er=Dt.reverse,xr=fo(e,"DataView"),Or=fo(e,"Map"),Cr=fo(e,"Promise"),Ar=fo(e,"Set"),kr=fo(e,"WeakMap"),Pr=fo(At,"create"),jr=kr&&new kr,Dr={},Rr=Uo(xr),Ir=Uo(Or),Tr=Uo(Cr),Fr=Uo(Ar),Mr=Uo(kr),Nr=Yt?Yt.prototype:n,Lr=Nr?Nr.valueOf:n,Br=Nr?Nr.toString:n;function Ur(t){if(na(t)&&!Vs(t)&&!(t instanceof Yr)){if(t instanceof qr)return t;if(Mt.call(t,"__wrapped__"))return $o(t)}return new qr(t)}var $r=function(){function t(){}return function(e){if(!ra(e))return{};if(Gt)return Gt(e);t.prototype=e;var r=new t;return t.prototype=n,r}}();function zr(){}function qr(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=n}function Yr(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=y,this.__views__=[]}function Wr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Vr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Hr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Gr(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new Hr;++e<r;)this.add(t[e])}function Jr(t){var e=this.__data__=new Vr(t);this.size=e.size}function Kr(t,e){var r=Vs(t),n=!r&&Ws(t),i=!r&&!n&&Ks(t),o=!r&&!n&&!i&&ha(t),s=r||n||i||o,a=s?He(t.length,Pt):[],u=a.length;for(var c in t)!e&&!Mt.call(t,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||wo(c,u))||a.push(c);return a}function Qr(t){var e=t.length;return e?t[Jn(0,e-1)]:n}function Zr(t,e){return No(ji(t),un(e,0,t.length))}function Xr(t){return No(ji(t))}function tn(t,e,r){(r!==n&&!zs(t[e],r)||r===n&&!(e in t))&&sn(t,e,r)}function en(t,e,r){var i=t[e];Mt.call(t,e)&&zs(i,r)&&(r!==n||e in t)||sn(t,e,r)}function rn(t,e){for(var r=t.length;r--;)if(zs(t[r][0],e))return r;return-1}function nn(t,e,r,n){return dn(t,(function(t,i,o){e(n,t,r(t),o)})),n}function on(t,e){return t&&Di(e,Ia(e),t)}function sn(t,e,r){"__proto__"==e&&le?le(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function an(t,e){for(var r=-1,i=e.length,o=st(i),s=null==t;++r<i;)o[r]=s?n:ka(t,e[r]);return o}function un(t,e,r){return t==t&&(r!==n&&(t=t<=r?t:r),e!==n&&(t=t>=e?t:e)),t}function cn(t,e,r,i,o,s){var a,u=1&e,c=2&e,l=4&e;if(r&&(a=o?r(t,i,o,s):r(t)),a!==n)return a;if(!ra(t))return t;var h=Vs(t);if(h){if(a=function(t){var e=t.length,r=new t.constructor(e);e&&"string"==typeof t[0]&&Mt.call(t,"index")&&(r.index=t.index,r.input=t.input);return r}(t),!u)return ji(t,a)}else{var f=vo(t),d=f==S||f==E;if(Ks(t))return xi(t,u);if(f==C||f==m||d&&!o){if(a=c||d?{}:go(t),!u)return c?function(t,e){return Di(t,yo(t),e)}(t,function(t,e){return t&&Di(e,Ta(e),t)}(a,t)):function(t,e){return Di(t,po(t),e)}(t,on(a,t))}else{if(!oe[f])return o?t:{};a=function(t,e,r){var n=t.constructor;switch(e){case I:return Oi(t);case b:case w:return new n(+t);case T:return function(t,e){var r=e?Oi(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case F:case M:case N:case L:case B:case U:case $:case z:case q:return Ci(t,r);case x:return new n;case O:case j:return new n(t);case k:return function(t){var e=new t.constructor(t.source,pt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case P:return new n;case D:return i=t,Lr?At(Lr.call(i)):{}}var i}(t,f,u)}}s||(s=new Jr);var p=s.get(t);if(p)return p;s.set(t,a),ua(t)?t.forEach((function(n){a.add(cn(n,e,r,n,t,s))})):ia(t)&&t.forEach((function(n,i){a.set(i,cn(n,e,r,i,t,s))}));var y=h?n:(l?c?oo:io:c?Ta:Ia)(t);return Oe(y||t,(function(n,i){y&&(n=t[i=n]),en(a,i,cn(n,e,r,i,t,s))})),a}function ln(t,e,r){var i=r.length;if(null==t)return!i;for(t=At(t);i--;){var o=r[i],s=e[o],a=t[o];if(a===n&&!(o in t)||!s(a))return!1}return!0}function hn(t,e,r){if("function"!=typeof t)throw new jt(i);return Io((function(){t.apply(n,r)}),e)}function fn(t,e,r,n){var i=-1,o=Pe,s=!0,a=t.length,u=[],c=e.length;if(!a)return u;r&&(e=De(e,Je(r))),n?(o=je,s=!1):e.length>=200&&(o=Qe,s=!1,e=new Gr(e));t:for(;++i<a;){var l=t[i],h=null==r?l:r(l);if(l=n||0!==l?l:0,s&&h==h){for(var f=c;f--;)if(e[f]===h)continue t;u.push(l)}else o(e,h,n)||u.push(l)}return u}Ur.templateSettings={escape:Q,evaluate:Z,interpolate:X,variable:"",imports:{_:Ur}},Ur.prototype=zr.prototype,Ur.prototype.constructor=Ur,qr.prototype=$r(zr.prototype),qr.prototype.constructor=qr,Yr.prototype=$r(zr.prototype),Yr.prototype.constructor=Yr,Wr.prototype.clear=function(){this.__data__=Pr?Pr(null):{},this.size=0},Wr.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Wr.prototype.get=function(t){var e=this.__data__;if(Pr){var r=e[t];return r===o?n:r}return Mt.call(e,t)?e[t]:n},Wr.prototype.has=function(t){var e=this.__data__;return Pr?e[t]!==n:Mt.call(e,t)},Wr.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Pr&&e===n?o:e,this},Vr.prototype.clear=function(){this.__data__=[],this.size=0},Vr.prototype.delete=function(t){var e=this.__data__,r=rn(e,t);return!(r<0)&&(r==e.length-1?e.pop():Zt.call(e,r,1),--this.size,!0)},Vr.prototype.get=function(t){var e=this.__data__,r=rn(e,t);return r<0?n:e[r][1]},Vr.prototype.has=function(t){return rn(this.__data__,t)>-1},Vr.prototype.set=function(t,e){var r=this.__data__,n=rn(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},Hr.prototype.clear=function(){this.size=0,this.__data__={hash:new Wr,map:new(Or||Vr),string:new Wr}},Hr.prototype.delete=function(t){var e=lo(this,t).delete(t);return this.size-=e?1:0,e},Hr.prototype.get=function(t){return lo(this,t).get(t)},Hr.prototype.has=function(t){return lo(this,t).has(t)},Hr.prototype.set=function(t,e){var r=lo(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},Gr.prototype.add=Gr.prototype.push=function(t){return this.__data__.set(t,o),this},Gr.prototype.has=function(t){return this.__data__.has(t)},Jr.prototype.clear=function(){this.__data__=new Vr,this.size=0},Jr.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},Jr.prototype.get=function(t){return this.__data__.get(t)},Jr.prototype.has=function(t){return this.__data__.has(t)},Jr.prototype.set=function(t,e){var r=this.__data__;if(r instanceof Vr){var n=r.__data__;if(!Or||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Hr(n)}return r.set(t,e),this.size=r.size,this};var dn=Ti(_n),pn=Ti(Sn,!0);function yn(t,e){var r=!0;return dn(t,(function(t,n,i){return r=!!e(t,n,i)})),r}function vn(t,e,r){for(var i=-1,o=t.length;++i<o;){var s=t[i],a=e(s);if(null!=a&&(u===n?a==a&&!la(a):r(a,u)))var u=a,c=s}return c}function mn(t,e){var r=[];return dn(t,(function(t,n,i){e(t,n,i)&&r.push(t)})),r}function gn(t,e,r,n,i){var o=-1,s=t.length;for(r||(r=bo),i||(i=[]);++o<s;){var a=t[o];e>0&&r(a)?e>1?gn(a,e-1,r,n,i):Re(i,a):n||(i[i.length]=a)}return i}var bn=Fi(),wn=Fi(!0);function _n(t,e){return t&&bn(t,e,Ia)}function Sn(t,e){return t&&wn(t,e,Ia)}function En(t,e){return ke(e,(function(e){return Xs(t[e])}))}function xn(t,e){for(var r=0,i=(e=wi(e,t)).length;null!=t&&r<i;)t=t[Bo(e[r++])];return r&&r==i?t:n}function On(t,e,r){var n=e(t);return Vs(t)?n:Re(n,r(t))}function Cn(t){return null==t?t===n?"[object Undefined]":"[object Null]":ce&&ce in At(t)?function(t){var e=Mt.call(t,ce),r=t[ce];try{t[ce]=n;var i=!0}catch(t){}var o=Bt.call(t);i&&(e?t[ce]=r:delete t[ce]);return o}(t):function(t){return Bt.call(t)}(t)}function An(t,e){return t>e}function kn(t,e){return null!=t&&Mt.call(t,e)}function Pn(t,e){return null!=t&&e in At(t)}function jn(t,e,r){for(var i=r?je:Pe,o=t[0].length,s=t.length,a=s,u=st(s),c=1/0,l=[];a--;){var h=t[a];a&&e&&(h=De(h,Je(e))),c=br(h.length,c),u[a]=!r&&(e||o>=120&&h.length>=120)?new Gr(a&&h):n}h=t[0];var f=-1,d=u[0];t:for(;++f<o&&l.length<c;){var p=h[f],y=e?e(p):p;if(p=r||0!==p?p:0,!(d?Qe(d,y):i(l,y,r))){for(a=s;--a;){var v=u[a];if(!(v?Qe(v,y):i(t[a],y,r)))continue t}d&&d.push(y),l.push(p)}}return l}function Dn(t,e,r){var i=null==(t=Po(t,e=wi(e,t)))?t:t[Bo(Zo(e))];return null==i?n:Ee(i,t,r)}function Rn(t){return na(t)&&Cn(t)==m}function In(t,e,r,i,o){return t===e||(null==t||null==e||!na(t)&&!na(e)?t!=t&&e!=e:function(t,e,r,i,o,s){var a=Vs(t),u=Vs(e),c=a?g:vo(t),l=u?g:vo(e),h=(c=c==m?C:c)==C,f=(l=l==m?C:l)==C,d=c==l;if(d&&Ks(t)){if(!Ks(e))return!1;a=!0,h=!1}if(d&&!h)return s||(s=new Jr),a||ha(t)?ro(t,e,r,i,o,s):function(t,e,r,n,i,o,s){switch(r){case T:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case I:return!(t.byteLength!=e.byteLength||!o(new Wt(t),new Wt(e)));case b:case w:case O:return zs(+t,+e);case _:return t.name==e.name&&t.message==e.message;case k:case j:return t==e+"";case x:var a=or;case P:var u=1&n;if(a||(a=ur),t.size!=e.size&&!u)return!1;var c=s.get(t);if(c)return c==e;n|=2,s.set(t,e);var l=ro(a(t),a(e),n,i,o,s);return s.delete(t),l;case D:if(Lr)return Lr.call(t)==Lr.call(e)}return!1}(t,e,c,r,i,o,s);if(!(1&r)){var p=h&&Mt.call(t,"__wrapped__"),y=f&&Mt.call(e,"__wrapped__");if(p||y){var v=p?t.value():t,S=y?e.value():e;return s||(s=new Jr),o(v,S,r,i,s)}}return!!d&&(s||(s=new Jr),function(t,e,r,i,o,s){var a=1&r,u=io(t),c=u.length,l=io(e).length;if(c!=l&&!a)return!1;var h=c;for(;h--;){var f=u[h];if(!(a?f in e:Mt.call(e,f)))return!1}var d=s.get(t),p=s.get(e);if(d&&p)return d==e&&p==t;var y=!0;s.set(t,e),s.set(e,t);var v=a;for(;++h<c;){var m=t[f=u[h]],g=e[f];if(i)var b=a?i(g,m,f,e,t,s):i(m,g,f,t,e,s);if(!(b===n?m===g||o(m,g,r,i,s):b)){y=!1;break}v||(v="constructor"==f)}if(y&&!v){var w=t.constructor,_=e.constructor;w==_||!("constructor"in t)||!("constructor"in e)||"function"==typeof w&&w instanceof w&&"function"==typeof _&&_ instanceof _||(y=!1)}return s.delete(t),s.delete(e),y}(t,e,r,i,o,s))}(t,e,r,i,In,o))}function Tn(t,e,r,i){var o=r.length,s=o,a=!i;if(null==t)return!s;for(t=At(t);o--;){var u=r[o];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<s;){var c=(u=r[o])[0],l=t[c],h=u[1];if(a&&u[2]){if(l===n&&!(c in t))return!1}else{var f=new Jr;if(i)var d=i(l,h,c,t,e,f);if(!(d===n?In(h,l,3,i,f):d))return!1}}return!0}function Fn(t){return!(!ra(t)||(e=t,Lt&&Lt in e))&&(Xs(t)?zt:mt).test(Uo(t));var e}function Mn(t){return"function"==typeof t?t:null==t?ou:"object"==typeof t?Vs(t)?zn(t[0],t[1]):$n(t):pu(t)}function Nn(t){if(!Oo(t))return mr(t);var e=[];for(var r in At(t))Mt.call(t,r)&&"constructor"!=r&&e.push(r);return e}function Ln(t){if(!ra(t))return function(t){var e=[];if(null!=t)for(var r in At(t))e.push(r);return e}(t);var e=Oo(t),r=[];for(var n in t)("constructor"!=n||!e&&Mt.call(t,n))&&r.push(n);return r}function Bn(t,e){return t<e}function Un(t,e){var r=-1,n=Gs(t)?st(t.length):[];return dn(t,(function(t,i,o){n[++r]=e(t,i,o)})),n}function $n(t){var e=ho(t);return 1==e.length&&e[0][2]?Ao(e[0][0],e[0][1]):function(r){return r===t||Tn(r,t,e)}}function zn(t,e){return So(t)&&Co(e)?Ao(Bo(t),e):function(r){var i=ka(r,t);return i===n&&i===e?Pa(r,t):In(e,i,3)}}function qn(t,e,r,i,o){t!==e&&bn(e,(function(s,a){if(o||(o=new Jr),ra(s))!function(t,e,r,i,o,s,a){var u=Do(t,r),c=Do(e,r),l=a.get(c);if(l)return void tn(t,r,l);var h=s?s(u,c,r+"",t,e,a):n,f=h===n;if(f){var d=Vs(c),p=!d&&Ks(c),y=!d&&!p&&ha(c);h=c,d||p||y?Vs(u)?h=u:Js(u)?h=ji(u):p?(f=!1,h=xi(c,!0)):y?(f=!1,h=Ci(c,!0)):h=[]:sa(c)||Ws(c)?(h=u,Ws(u)?h=ba(u):ra(u)&&!Xs(u)||(h=go(c))):f=!1}f&&(a.set(c,h),o(h,c,i,s,a),a.delete(c));tn(t,r,h)}(t,e,a,r,qn,i,o);else{var u=i?i(Do(t,a),s,a+"",t,e,o):n;u===n&&(u=s),tn(t,a,u)}}),Ta)}function Yn(t,e){var r=t.length;if(r)return wo(e+=e<0?r:0,r)?t[e]:n}function Wn(t,e,r){e=e.length?De(e,(function(t){return Vs(t)?function(e){return xn(e,1===t.length?t[0]:t)}:t})):[ou];var n=-1;e=De(e,Je(co()));var i=Un(t,(function(t,r,i){var o=De(e,(function(e){return e(t)}));return{criteria:o,index:++n,value:t}}));return function(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}(i,(function(t,e){return function(t,e,r){var n=-1,i=t.criteria,o=e.criteria,s=i.length,a=r.length;for(;++n<s;){var u=Ai(i[n],o[n]);if(u)return n>=a?u:u*("desc"==r[n]?-1:1)}return t.index-e.index}(t,e,r)}))}function Vn(t,e,r){for(var n=-1,i=e.length,o={};++n<i;){var s=e[n],a=xn(t,s);r(a,s)&&ti(o,wi(s,t),a)}return o}function Hn(t,e,r,n){var i=n?Ue:Be,o=-1,s=e.length,a=t;for(t===e&&(e=ji(e)),r&&(a=De(t,Je(r)));++o<s;)for(var u=0,c=e[o],l=r?r(c):c;(u=i(a,l,u,n))>-1;)a!==t&&Zt.call(a,u,1),Zt.call(t,u,1);return t}function Gn(t,e){for(var r=t?e.length:0,n=r-1;r--;){var i=e[r];if(r==n||i!==o){var o=i;wo(i)?Zt.call(t,i,1):fi(t,i)}}return t}function Jn(t,e){return t+Me(Sr()*(e-t+1))}function Kn(t,e){var r="";if(!t||e<1||e>d)return r;do{e%2&&(r+=t),(e=Me(e/2))&&(t+=t)}while(e);return r}function Qn(t,e){return To(ko(t,e,ou),t+"")}function Zn(t){return Qr(za(t))}function Xn(t,e){var r=za(t);return No(r,un(e,0,r.length))}function ti(t,e,r,i){if(!ra(t))return t;for(var o=-1,s=(e=wi(e,t)).length,a=s-1,u=t;null!=u&&++o<s;){var c=Bo(e[o]),l=r;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(o!=a){var h=u[c];(l=i?i(h,c,u):n)===n&&(l=ra(h)?h:wo(e[o+1])?[]:{})}en(u,c,l),u=u[c]}return t}var ei=jr?function(t,e){return jr.set(t,e),t}:ou,ri=le?function(t,e){return le(t,"toString",{configurable:!0,enumerable:!1,value:ru(e),writable:!0})}:ou;function ni(t){return No(za(t))}function ii(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(r=r>i?i:r)<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var o=st(i);++n<i;)o[n]=t[n+e];return o}function oi(t,e){var r;return dn(t,(function(t,n,i){return!(r=e(t,n,i))})),!!r}function si(t,e,r){var n=0,i=null==t?n:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;n<i;){var o=n+i>>>1,s=t[o];null!==s&&!la(s)&&(r?s<=e:s<e)?n=o+1:i=o}return i}return ai(t,e,ou,r)}function ai(t,e,r,i){var o=0,s=null==t?0:t.length;if(0===s)return 0;for(var a=(e=r(e))!=e,u=null===e,c=la(e),l=e===n;o<s;){var h=Me((o+s)/2),f=r(t[h]),d=f!==n,p=null===f,y=f==f,v=la(f);if(a)var m=i||y;else m=l?y&&(i||d):u?y&&d&&(i||!p):c?y&&d&&!p&&(i||!v):!p&&!v&&(i?f<=e:f<e);m?o=h+1:s=h}return br(s,4294967294)}function ui(t,e){for(var r=-1,n=t.length,i=0,o=[];++r<n;){var s=t[r],a=e?e(s):s;if(!r||!zs(a,u)){var u=a;o[i++]=0===s?0:s}}return o}function ci(t){return"number"==typeof t?t:la(t)?p:+t}function li(t){if("string"==typeof t)return t;if(Vs(t))return De(t,li)+"";if(la(t))return Br?Br.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function hi(t,e,r){var n=-1,i=Pe,o=t.length,s=!0,a=[],u=a;if(r)s=!1,i=je;else if(o>=200){var c=e?null:Ki(t);if(c)return ur(c);s=!1,i=Qe,u=new Gr}else u=e?[]:a;t:for(;++n<o;){var l=t[n],h=e?e(l):l;if(l=r||0!==l?l:0,s&&h==h){for(var f=u.length;f--;)if(u[f]===h)continue t;e&&u.push(h),a.push(l)}else i(u,h,r)||(u!==a&&u.push(h),a.push(l))}return a}function fi(t,e){return null==(t=Po(t,e=wi(e,t)))||delete t[Bo(Zo(e))]}function di(t,e,r,n){return ti(t,e,r(xn(t,e)),n)}function pi(t,e,r,n){for(var i=t.length,o=n?i:-1;(n?o--:++o<i)&&e(t[o],o,t););return r?ii(t,n?0:o,n?o+1:i):ii(t,n?o+1:0,n?i:o)}function yi(t,e){var r=t;return r instanceof Yr&&(r=r.value()),Ie(e,(function(t,e){return e.func.apply(e.thisArg,Re([t],e.args))}),r)}function vi(t,e,r){var n=t.length;if(n<2)return n?hi(t[0]):[];for(var i=-1,o=st(n);++i<n;)for(var s=t[i],a=-1;++a<n;)a!=i&&(o[i]=fn(o[i]||s,t[a],e,r));return hi(gn(o,1),e,r)}function mi(t,e,r){for(var i=-1,o=t.length,s=e.length,a={};++i<o;){var u=i<s?e[i]:n;r(a,t[i],u)}return a}function gi(t){return Js(t)?t:[]}function bi(t){return"function"==typeof t?t:ou}function wi(t,e){return Vs(t)?t:So(t,e)?[t]:Lo(wa(t))}var _i=Qn;function Si(t,e,r){var i=t.length;return r=r===n?i:r,!e&&r>=i?t:ii(t,e,r)}var Ei=fe||function(t){return he.clearTimeout(t)};function xi(t,e){if(e)return t.slice();var r=t.length,n=Vt?Vt(r):new t.constructor(r);return t.copy(n),n}function Oi(t){var e=new t.constructor(t.byteLength);return new Wt(e).set(new Wt(t)),e}function Ci(t,e){var r=e?Oi(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function Ai(t,e){if(t!==e){var r=t!==n,i=null===t,o=t==t,s=la(t),a=e!==n,u=null===e,c=e==e,l=la(e);if(!u&&!l&&!s&&t>e||s&&a&&c&&!u&&!l||i&&a&&c||!r&&c||!o)return 1;if(!i&&!s&&!l&&t<e||l&&r&&o&&!i&&!s||u&&r&&o||!a&&o||!c)return-1}return 0}function ki(t,e,r,n){for(var i=-1,o=t.length,s=r.length,a=-1,u=e.length,c=gr(o-s,0),l=st(u+c),h=!n;++a<u;)l[a]=e[a];for(;++i<s;)(h||i<o)&&(l[r[i]]=t[i]);for(;c--;)l[a++]=t[i++];return l}function Pi(t,e,r,n){for(var i=-1,o=t.length,s=-1,a=r.length,u=-1,c=e.length,l=gr(o-a,0),h=st(l+c),f=!n;++i<l;)h[i]=t[i];for(var d=i;++u<c;)h[d+u]=e[u];for(;++s<a;)(f||i<o)&&(h[d+r[s]]=t[i++]);return h}function ji(t,e){var r=-1,n=t.length;for(e||(e=st(n));++r<n;)e[r]=t[r];return e}function Di(t,e,r,i){var o=!r;r||(r={});for(var s=-1,a=e.length;++s<a;){var u=e[s],c=i?i(r[u],t[u],u,r,t):n;c===n&&(c=t[u]),o?sn(r,u,c):en(r,u,c)}return r}function Ri(t,e){return function(r,n){var i=Vs(r)?xe:nn,o=e?e():{};return i(r,t,co(n,2),o)}}function Ii(t){return Qn((function(e,r){var i=-1,o=r.length,s=o>1?r[o-1]:n,a=o>2?r[2]:n;for(s=t.length>3&&"function"==typeof s?(o--,s):n,a&&_o(r[0],r[1],a)&&(s=o<3?n:s,o=1),e=At(e);++i<o;){var u=r[i];u&&t(e,u,i,s)}return e}))}function Ti(t,e){return function(r,n){if(null==r)return r;if(!Gs(r))return t(r,n);for(var i=r.length,o=e?i:-1,s=At(r);(e?o--:++o<i)&&!1!==n(s[o],o,s););return r}}function Fi(t){return function(e,r,n){for(var i=-1,o=At(e),s=n(e),a=s.length;a--;){var u=s[t?a:++i];if(!1===r(o[u],u,o))break}return e}}function Mi(t){return function(e){var r=ir(e=wa(e))?lr(e):n,i=r?r[0]:e.charAt(0),o=r?Si(r,1).join(""):e.slice(1);return i[t]()+o}}function Ni(t){return function(e){return Ie(Xa(Wa(e).replace(Kt,"")),t,"")}}function Li(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=$r(t.prototype),n=t.apply(r,e);return ra(n)?n:r}}function Bi(t){return function(e,r,i){var o=At(e);if(!Gs(e)){var s=co(r,3);e=Ia(e),r=function(t){return s(o[t],t,o)}}var a=t(e,r,i);return a>-1?o[s?e[a]:a]:n}}function Ui(t){return no((function(e){var r=e.length,o=r,s=qr.prototype.thru;for(t&&e.reverse();o--;){var a=e[o];if("function"!=typeof a)throw new jt(i);if(s&&!u&&"wrapper"==ao(a))var u=new qr([],!0)}for(o=u?o:r;++o<r;){var c=ao(a=e[o]),l="wrapper"==c?so(a):n;u=l&&Eo(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?u[ao(l[0])].apply(u,l[3]):1==a.length&&Eo(a)?u[c]():u.thru(a)}return function(){var t=arguments,n=t[0];if(u&&1==t.length&&Vs(n))return u.plant(n).value();for(var i=0,o=r?e[i].apply(this,t):n;++i<r;)o=e[i].call(this,o);return o}}))}function $i(t,e,r,i,o,s,a,u,c,h){var f=e&l,d=1&e,p=2&e,y=24&e,v=512&e,m=p?n:Li(t);return function n(){for(var l=arguments.length,g=st(l),b=l;b--;)g[b]=arguments[b];if(y)var w=uo(n),_=tr(g,w);if(i&&(g=ki(g,i,o,y)),s&&(g=Pi(g,s,a,y)),l-=_,y&&l<h){var S=ar(g,w);return Gi(t,e,$i,n.placeholder,r,g,S,u,c,h-l)}var E=d?r:this,x=p?E[t]:t;return l=g.length,u?g=jo(g,u):v&&l>1&&g.reverse(),f&&c<l&&(g.length=c),this&&this!==he&&this instanceof n&&(x=m||Li(x)),x.apply(E,g)}}function zi(t,e){return function(r,n){return function(t,e,r,n){return _n(t,(function(t,i,o){e(n,r(t),i,o)})),n}(r,t,e(n),{})}}function qi(t,e){return function(r,i){var o;if(r===n&&i===n)return e;if(r!==n&&(o=r),i!==n){if(o===n)return i;"string"==typeof r||"string"==typeof i?(r=li(r),i=li(i)):(r=ci(r),i=ci(i)),o=t(r,i)}return o}}function Yi(t){return no((function(e){return e=De(e,Je(co())),Qn((function(r){var n=this;return t(e,(function(t){return Ee(t,n,r)}))}))}))}function Wi(t,e){var r=(e=e===n?" ":li(e)).length;if(r<2)return r?Kn(e,t):e;var i=Kn(e,ve(t/cr(e)));return ir(e)?Si(lr(i),0,t).join(""):i.slice(0,t)}function Vi(t){return function(e,r,i){return i&&"number"!=typeof i&&_o(e,r,i)&&(r=i=n),e=ya(e),r===n?(r=e,e=0):r=ya(r),function(t,e,r,n){for(var i=-1,o=gr(ve((e-t)/(r||1)),0),s=st(o);o--;)s[n?o:++i]=t,t+=r;return s}(e,r,i=i===n?e<r?1:-1:ya(i),t)}}function Hi(t){return function(e,r){return"string"==typeof e&&"string"==typeof r||(e=ga(e),r=ga(r)),t(e,r)}}function Gi(t,e,r,i,o,s,a,l,h,f){var d=8&e;e|=d?u:c,4&(e&=~(d?c:u))||(e&=-4);var p=[t,e,o,d?s:n,d?a:n,d?n:s,d?n:a,l,h,f],y=r.apply(n,p);return Eo(t)&&Ro(y,p),y.placeholder=i,Fo(y,t,e)}function Ji(t){var e=Ct[t];return function(t,r){if(t=ga(t),(r=null==r?0:br(va(r),292))&&yr(t)){var n=(wa(t)+"e").split("e");return+((n=(wa(e(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return e(t)}}var Ki=Ar&&1/ur(new Ar([,-0]))[1]==f?function(t){return new Ar(t)}:lu;function Qi(t){return function(e){var r=vo(e);return r==x?or(e):r==P?function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=[t,t]})),r}(e):function(t,e){return De(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Zi(t,e,r,o,f,d,p,y){var v=2&e;if(!v&&"function"!=typeof t)throw new jt(i);var m=o?o.length:0;if(m||(e&=-97,o=f=n),p=p===n?p:gr(va(p),0),y=y===n?y:va(y),m-=f?f.length:0,e&c){var g=o,b=f;o=f=n}var w=v?n:so(t),_=[t,e,r,o,f,g,b,d,p,y];if(w&&function(t,e){var r=t[1],n=e[1],i=r|n,o=i<131,a=n==l&&8==r||n==l&&r==h&&t[7].length<=e[8]||384==n&&e[7].length<=e[8]&&8==r;if(!o&&!a)return t;1&n&&(t[2]=e[2],i|=1&r?0:4);var u=e[3];if(u){var c=t[3];t[3]=c?ki(c,u,e[4]):u,t[4]=c?ar(t[3],s):e[4]}(u=e[5])&&(c=t[5],t[5]=c?Pi(c,u,e[6]):u,t[6]=c?ar(t[5],s):e[6]);(u=e[7])&&(t[7]=u);n&l&&(t[8]=null==t[8]?e[8]:br(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=i}(_,w),t=_[0],e=_[1],r=_[2],o=_[3],f=_[4],!(y=_[9]=_[9]===n?v?0:t.length:gr(_[9]-m,0))&&24&e&&(e&=-25),e&&1!=e)S=8==e||e==a?function(t,e,r){var i=Li(t);return function o(){for(var s=arguments.length,a=st(s),u=s,c=uo(o);u--;)a[u]=arguments[u];var l=s<3&&a[0]!==c&&a[s-1]!==c?[]:ar(a,c);return(s-=l.length)<r?Gi(t,e,$i,o.placeholder,n,a,l,n,n,r-s):Ee(this&&this!==he&&this instanceof o?i:t,this,a)}}(t,e,y):e!=u&&33!=e||f.length?$i.apply(n,_):function(t,e,r,n){var i=1&e,o=Li(t);return function e(){for(var s=-1,a=arguments.length,u=-1,c=n.length,l=st(c+a),h=this&&this!==he&&this instanceof e?o:t;++u<c;)l[u]=n[u];for(;a--;)l[u++]=arguments[++s];return Ee(h,i?r:this,l)}}(t,e,r,o);else var S=function(t,e,r){var n=1&e,i=Li(t);return function e(){return(this&&this!==he&&this instanceof e?i:t).apply(n?r:this,arguments)}}(t,e,r);return Fo((w?ei:Ro)(S,_),t,e)}function Xi(t,e,r,i){return t===n||zs(t,It[r])&&!Mt.call(i,r)?e:t}function to(t,e,r,i,o,s){return ra(t)&&ra(e)&&(s.set(e,t),qn(t,e,n,to,s),s.delete(e)),t}function eo(t){return sa(t)?n:t}function ro(t,e,r,i,o,s){var a=1&r,u=t.length,c=e.length;if(u!=c&&!(a&&c>u))return!1;var l=s.get(t),h=s.get(e);if(l&&h)return l==e&&h==t;var f=-1,d=!0,p=2&r?new Gr:n;for(s.set(t,e),s.set(e,t);++f<u;){var y=t[f],v=e[f];if(i)var m=a?i(v,y,f,e,t,s):i(y,v,f,t,e,s);if(m!==n){if(m)continue;d=!1;break}if(p){if(!Fe(e,(function(t,e){if(!Qe(p,e)&&(y===t||o(y,t,r,i,s)))return p.push(e)}))){d=!1;break}}else if(y!==v&&!o(y,v,r,i,s)){d=!1;break}}return s.delete(t),s.delete(e),d}function no(t){return To(ko(t,n,Ho),t+"")}function io(t){return On(t,Ia,po)}function oo(t){return On(t,Ta,yo)}var so=jr?function(t){return jr.get(t)}:lu;function ao(t){for(var e=t.name+"",r=Dr[e],n=Mt.call(Dr,e)?r.length:0;n--;){var i=r[n],o=i.func;if(null==o||o==t)return i.name}return e}function uo(t){return(Mt.call(Ur,"placeholder")?Ur:t).placeholder}function co(){var t=Ur.iteratee||su;return t=t===su?Mn:t,arguments.length?t(arguments[0],arguments[1]):t}function lo(t,e){var r,n,i=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function ho(t){for(var e=Ia(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,Co(i)]}return e}function fo(t,e){var r=function(t,e){return null==t?n:t[e]}(t,e);return Fn(r)?r:n}var po=Ye?function(t){return null==t?[]:(t=At(t),ke(Ye(t),(function(e){return Jt.call(t,e)})))}:mu,yo=Ye?function(t){for(var e=[];t;)Re(e,po(t)),t=Ht(t);return e}:mu,vo=Cn;function mo(t,e,r){for(var n=-1,i=(e=wi(e,t)).length,o=!1;++n<i;){var s=Bo(e[n]);if(!(o=null!=t&&r(t,s)))break;t=t[s]}return o||++n!=i?o:!!(i=null==t?0:t.length)&&ea(i)&&wo(s,i)&&(Vs(t)||Ws(t))}function go(t){return"function"!=typeof t.constructor||Oo(t)?{}:$r(Ht(t))}function bo(t){return Vs(t)||Ws(t)||!!(te&&t&&t[te])}function wo(t,e){var r=typeof t;return!!(e=null==e?d:e)&&("number"==r||"symbol"!=r&&bt.test(t))&&t>-1&&t%1==0&&t<e}function _o(t,e,r){if(!ra(r))return!1;var n=typeof e;return!!("number"==n?Gs(r)&&wo(e,r.length):"string"==n&&e in r)&&zs(r[e],t)}function So(t,e){if(Vs(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!la(t))||(et.test(t)||!tt.test(t)||null!=e&&t in At(e))}function Eo(t){var e=ao(t),r=Ur[e];if("function"!=typeof r||!(e in Yr.prototype))return!1;if(t===r)return!0;var n=so(r);return!!n&&t===n[0]}(xr&&vo(new xr(new ArrayBuffer(1)))!=T||Or&&vo(new Or)!=x||Cr&&vo(Cr.resolve())!=A||Ar&&vo(new Ar)!=P||kr&&vo(new kr)!=R)&&(vo=function(t){var e=Cn(t),r=e==C?t.constructor:n,i=r?Uo(r):"";if(i)switch(i){case Rr:return T;case Ir:return x;case Tr:return A;case Fr:return P;case Mr:return R}return e});var xo=Tt?Xs:gu;function Oo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||It)}function Co(t){return t==t&&!ra(t)}function Ao(t,e){return function(r){return null!=r&&(r[t]===e&&(e!==n||t in At(r)))}}function ko(t,e,r){return e=gr(e===n?t.length-1:e,0),function(){for(var n=arguments,i=-1,o=gr(n.length-e,0),s=st(o);++i<o;)s[i]=n[e+i];i=-1;for(var a=st(e+1);++i<e;)a[i]=n[i];return a[e]=r(s),Ee(t,this,a)}}function Po(t,e){return e.length<2?t:xn(t,ii(e,0,-1))}function jo(t,e){for(var r=t.length,i=br(e.length,r),o=ji(t);i--;){var s=e[i];t[i]=wo(s,r)?o[s]:n}return t}function Do(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Ro=Mo(ei),Io=ye||function(t,e){return he.setTimeout(t,e)},To=Mo(ri);function Fo(t,e,r){var n=e+"";return To(t,function(t,e){var r=e.length;if(!r)return t;var n=r-1;return e[n]=(r>1?"& ":"")+e[n],e=e.join(r>2?", ":" "),t.replace(at,"{\n/* [wrapped with "+e+"] */\n")}(n,function(t,e){return Oe(v,(function(r){var n="_."+r[0];e&r[1]&&!Pe(t,n)&&t.push(n)})),t.sort()}(function(t){var e=t.match(ut);return e?e[1].split(ct):[]}(n),r)))}function Mo(t){var e=0,r=0;return function(){var i=wr(),o=16-(i-r);if(r=i,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(n,arguments)}}function No(t,e){var r=-1,i=t.length,o=i-1;for(e=e===n?i:e;++r<e;){var s=Jn(r,o),a=t[s];t[s]=t[r],t[r]=a}return t.length=e,t}var Lo=function(t){var e=Ms(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(rt,(function(t,r,n,i){e.push(n?i.replace(ft,"$1"):r||t)})),e}));function Bo(t){if("string"==typeof t||la(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Uo(t){if(null!=t){try{return Ft.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function $o(t){if(t instanceof Yr)return t.clone();var e=new qr(t.__wrapped__,t.__chain__);return e.__actions__=ji(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var zo=Qn((function(t,e){return Js(t)?fn(t,gn(e,1,Js,!0)):[]})),qo=Qn((function(t,e){var r=Zo(e);return Js(r)&&(r=n),Js(t)?fn(t,gn(e,1,Js,!0),co(r,2)):[]})),Yo=Qn((function(t,e){var r=Zo(e);return Js(r)&&(r=n),Js(t)?fn(t,gn(e,1,Js,!0),n,r):[]}));function Wo(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=null==r?0:va(r);return i<0&&(i=gr(n+i,0)),Le(t,co(e,3),i)}function Vo(t,e,r){var i=null==t?0:t.length;if(!i)return-1;var o=i-1;return r!==n&&(o=va(r),o=r<0?gr(i+o,0):br(o,i-1)),Le(t,co(e,3),o,!0)}function Ho(t){return(null==t?0:t.length)?gn(t,1):[]}function Go(t){return t&&t.length?t[0]:n}var Jo=Qn((function(t){var e=De(t,gi);return e.length&&e[0]===t[0]?jn(e):[]})),Ko=Qn((function(t){var e=Zo(t),r=De(t,gi);return e===Zo(r)?e=n:r.pop(),r.length&&r[0]===t[0]?jn(r,co(e,2)):[]})),Qo=Qn((function(t){var e=Zo(t),r=De(t,gi);return(e="function"==typeof e?e:n)&&r.pop(),r.length&&r[0]===t[0]?jn(r,n,e):[]}));function Zo(t){var e=null==t?0:t.length;return e?t[e-1]:n}var Xo=Qn(ts);function ts(t,e){return t&&t.length&&e&&e.length?Hn(t,e):t}var es=no((function(t,e){var r=null==t?0:t.length,n=an(t,e);return Gn(t,De(e,(function(t){return wo(t,r)?+t:t})).sort(Ai)),n}));function rs(t){return null==t?t:Er.call(t)}var ns=Qn((function(t){return hi(gn(t,1,Js,!0))})),is=Qn((function(t){var e=Zo(t);return Js(e)&&(e=n),hi(gn(t,1,Js,!0),co(e,2))})),os=Qn((function(t){var e=Zo(t);return e="function"==typeof e?e:n,hi(gn(t,1,Js,!0),n,e)}));function ss(t){if(!t||!t.length)return[];var e=0;return t=ke(t,(function(t){if(Js(t))return e=gr(t.length,e),!0})),He(e,(function(e){return De(t,qe(e))}))}function as(t,e){if(!t||!t.length)return[];var r=ss(t);return null==e?r:De(r,(function(t){return Ee(e,n,t)}))}var us=Qn((function(t,e){return Js(t)?fn(t,e):[]})),cs=Qn((function(t){return vi(ke(t,Js))})),ls=Qn((function(t){var e=Zo(t);return Js(e)&&(e=n),vi(ke(t,Js),co(e,2))})),hs=Qn((function(t){var e=Zo(t);return e="function"==typeof e?e:n,vi(ke(t,Js),n,e)})),fs=Qn(ss);var ds=Qn((function(t){var e=t.length,r=e>1?t[e-1]:n;return r="function"==typeof r?(t.pop(),r):n,as(t,r)}));function ps(t){var e=Ur(t);return e.__chain__=!0,e}function ys(t,e){return e(t)}var vs=no((function(t){var e=t.length,r=e?t[0]:0,i=this.__wrapped__,o=function(e){return an(e,t)};return!(e>1||this.__actions__.length)&&i instanceof Yr&&wo(r)?((i=i.slice(r,+r+(e?1:0))).__actions__.push({func:ys,args:[o],thisArg:n}),new qr(i,this.__chain__).thru((function(t){return e&&!t.length&&t.push(n),t}))):this.thru(o)}));var ms=Ri((function(t,e,r){Mt.call(t,r)?++t[r]:sn(t,r,1)}));var gs=Bi(Wo),bs=Bi(Vo);function ws(t,e){return(Vs(t)?Oe:dn)(t,co(e,3))}function _s(t,e){return(Vs(t)?Ce:pn)(t,co(e,3))}var Ss=Ri((function(t,e,r){Mt.call(t,r)?t[r].push(e):sn(t,r,[e])}));var Es=Qn((function(t,e,r){var n=-1,i="function"==typeof e,o=Gs(t)?st(t.length):[];return dn(t,(function(t){o[++n]=i?Ee(e,t,r):Dn(t,e,r)})),o})),xs=Ri((function(t,e,r){sn(t,r,e)}));function Os(t,e){return(Vs(t)?De:Un)(t,co(e,3))}var Cs=Ri((function(t,e,r){t[r?0:1].push(e)}),(function(){return[[],[]]}));var As=Qn((function(t,e){if(null==t)return[];var r=e.length;return r>1&&_o(t,e[0],e[1])?e=[]:r>2&&_o(e[0],e[1],e[2])&&(e=[e[0]]),Wn(t,gn(e,1),[])})),ks=de||function(){return he.Date.now()};function Ps(t,e,r){return e=r?n:e,e=t&&null==e?t.length:e,Zi(t,l,n,n,n,n,e)}function js(t,e){var r;if("function"!=typeof e)throw new jt(i);return t=va(t),function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=n),r}}var Ds=Qn((function(t,e,r){var n=1;if(r.length){var i=ar(r,uo(Ds));n|=u}return Zi(t,n,e,r,i)})),Rs=Qn((function(t,e,r){var n=3;if(r.length){var i=ar(r,uo(Rs));n|=u}return Zi(e,n,t,r,i)}));function Is(t,e,r){var o,s,a,u,c,l,h=0,f=!1,d=!1,p=!0;if("function"!=typeof t)throw new jt(i);function y(e){var r=o,i=s;return o=s=n,h=e,u=t.apply(i,r)}function v(t){return h=t,c=Io(g,e),f?y(t):u}function m(t){var r=t-l;return l===n||r>=e||r<0||d&&t-h>=a}function g(){var t=ks();if(m(t))return b(t);c=Io(g,function(t){var r=e-(t-l);return d?br(r,a-(t-h)):r}(t))}function b(t){return c=n,p&&o?y(t):(o=s=n,u)}function w(){var t=ks(),r=m(t);if(o=arguments,s=this,l=t,r){if(c===n)return v(l);if(d)return Ei(c),c=Io(g,e),y(l)}return c===n&&(c=Io(g,e)),u}return e=ga(e)||0,ra(r)&&(f=!!r.leading,a=(d="maxWait"in r)?gr(ga(r.maxWait)||0,e):a,p="trailing"in r?!!r.trailing:p),w.cancel=function(){c!==n&&Ei(c),h=0,o=l=s=c=n},w.flush=function(){return c===n?u:b(ks())},w}var Ts=Qn((function(t,e){return hn(t,1,e)})),Fs=Qn((function(t,e,r){return hn(t,ga(e)||0,r)}));function Ms(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new jt(i);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=t.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(Ms.Cache||Hr),r}function Ns(t){if("function"!=typeof t)throw new jt(i);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Ms.Cache=Hr;var Ls=_i((function(t,e){var r=(e=1==e.length&&Vs(e[0])?De(e[0],Je(co())):De(gn(e,1),Je(co()))).length;return Qn((function(n){for(var i=-1,o=br(n.length,r);++i<o;)n[i]=e[i].call(this,n[i]);return Ee(t,this,n)}))})),Bs=Qn((function(t,e){var r=ar(e,uo(Bs));return Zi(t,u,n,e,r)})),Us=Qn((function(t,e){var r=ar(e,uo(Us));return Zi(t,c,n,e,r)})),$s=no((function(t,e){return Zi(t,h,n,n,n,e)}));function zs(t,e){return t===e||t!=t&&e!=e}var qs=Hi(An),Ys=Hi((function(t,e){return t>=e})),Ws=Rn(function(){return arguments}())?Rn:function(t){return na(t)&&Mt.call(t,"callee")&&!Jt.call(t,"callee")},Vs=st.isArray,Hs=me?Je(me):function(t){return na(t)&&Cn(t)==I};function Gs(t){return null!=t&&ea(t.length)&&!Xs(t)}function Js(t){return na(t)&&Gs(t)}var Ks=pr||gu,Qs=ge?Je(ge):function(t){return na(t)&&Cn(t)==w};function Zs(t){if(!na(t))return!1;var e=Cn(t);return e==_||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!sa(t)}function Xs(t){if(!ra(t))return!1;var e=Cn(t);return e==S||e==E||"[object AsyncFunction]"==e||"[object Proxy]"==e}function ta(t){return"number"==typeof t&&t==va(t)}function ea(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=d}function ra(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function na(t){return null!=t&&"object"==typeof t}var ia=be?Je(be):function(t){return na(t)&&vo(t)==x};function oa(t){return"number"==typeof t||na(t)&&Cn(t)==O}function sa(t){if(!na(t)||Cn(t)!=C)return!1;var e=Ht(t);if(null===e)return!0;var r=Mt.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&Ft.call(r)==Ut}var aa=we?Je(we):function(t){return na(t)&&Cn(t)==k};var ua=_e?Je(_e):function(t){return na(t)&&vo(t)==P};function ca(t){return"string"==typeof t||!Vs(t)&&na(t)&&Cn(t)==j}function la(t){return"symbol"==typeof t||na(t)&&Cn(t)==D}var ha=Se?Je(Se):function(t){return na(t)&&ea(t.length)&&!!ie[Cn(t)]};var fa=Hi(Bn),da=Hi((function(t,e){return t<=e}));function pa(t){if(!t)return[];if(Gs(t))return ca(t)?lr(t):ji(t);if(se&&t[se])return function(t){for(var e,r=[];!(e=t.next()).done;)r.push(e.value);return r}(t[se]());var e=vo(t);return(e==x?or:e==P?ur:za)(t)}function ya(t){return t?(t=ga(t))===f||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function va(t){var e=ya(t),r=e%1;return e==e?r?e-r:e:0}function ma(t){return t?un(va(t),0,y):0}function ga(t){if("number"==typeof t)return t;if(la(t))return p;if(ra(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ra(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Ge(t);var r=vt.test(t);return r||gt.test(t)?ue(t.slice(2),r?2:8):yt.test(t)?p:+t}function ba(t){return Di(t,Ta(t))}function wa(t){return null==t?"":li(t)}var _a=Ii((function(t,e){if(Oo(e)||Gs(e))Di(e,Ia(e),t);else for(var r in e)Mt.call(e,r)&&en(t,r,e[r])})),Sa=Ii((function(t,e){Di(e,Ta(e),t)})),Ea=Ii((function(t,e,r,n){Di(e,Ta(e),t,n)})),xa=Ii((function(t,e,r,n){Di(e,Ia(e),t,n)})),Oa=no(an);var Ca=Qn((function(t,e){t=At(t);var r=-1,i=e.length,o=i>2?e[2]:n;for(o&&_o(e[0],e[1],o)&&(i=1);++r<i;)for(var s=e[r],a=Ta(s),u=-1,c=a.length;++u<c;){var l=a[u],h=t[l];(h===n||zs(h,It[l])&&!Mt.call(t,l))&&(t[l]=s[l])}return t})),Aa=Qn((function(t){return t.push(n,to),Ee(Ma,n,t)}));function ka(t,e,r){var i=null==t?n:xn(t,e);return i===n?r:i}function Pa(t,e){return null!=t&&mo(t,e,Pn)}var ja=zi((function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=Bt.call(e)),t[e]=r}),ru(ou)),Da=zi((function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=Bt.call(e)),Mt.call(t,e)?t[e].push(r):t[e]=[r]}),co),Ra=Qn(Dn);function Ia(t){return Gs(t)?Kr(t):Nn(t)}function Ta(t){return Gs(t)?Kr(t,!0):Ln(t)}var Fa=Ii((function(t,e,r){qn(t,e,r)})),Ma=Ii((function(t,e,r,n){qn(t,e,r,n)})),Na=no((function(t,e){var r={};if(null==t)return r;var n=!1;e=De(e,(function(e){return e=wi(e,t),n||(n=e.length>1),e})),Di(t,oo(t),r),n&&(r=cn(r,7,eo));for(var i=e.length;i--;)fi(r,e[i]);return r}));var La=no((function(t,e){return null==t?{}:function(t,e){return Vn(t,e,(function(e,r){return Pa(t,r)}))}(t,e)}));function Ba(t,e){if(null==t)return{};var r=De(oo(t),(function(t){return[t]}));return e=co(e),Vn(t,r,(function(t,r){return e(t,r[0])}))}var Ua=Qi(Ia),$a=Qi(Ta);function za(t){return null==t?[]:Ke(t,Ia(t))}var qa=Ni((function(t,e,r){return e=e.toLowerCase(),t+(r?Ya(e):e)}));function Ya(t){return Za(wa(t).toLowerCase())}function Wa(t){return(t=wa(t))&&t.replace(wt,er).replace(Qt,"")}var Va=Ni((function(t,e,r){return t+(r?"-":"")+e.toLowerCase()})),Ha=Ni((function(t,e,r){return t+(r?" ":"")+e.toLowerCase()})),Ga=Mi("toLowerCase");var Ja=Ni((function(t,e,r){return t+(r?"_":"")+e.toLowerCase()}));var Ka=Ni((function(t,e,r){return t+(r?" ":"")+Za(e)}));var Qa=Ni((function(t,e,r){return t+(r?" ":"")+e.toUpperCase()})),Za=Mi("toUpperCase");function Xa(t,e,r){return t=wa(t),(e=r?n:e)===n?function(t){return ee.test(t)}(t)?function(t){return t.match(Xt)||[]}(t):function(t){return t.match(lt)||[]}(t):t.match(e)||[]}var tu=Qn((function(t,e){try{return Ee(t,n,e)}catch(t){return Zs(t)?t:new xt(t)}})),eu=no((function(t,e){return Oe(e,(function(e){e=Bo(e),sn(t,e,Ds(t[e],t))})),t}));function ru(t){return function(){return t}}var nu=Ui(),iu=Ui(!0);function ou(t){return t}function su(t){return Mn("function"==typeof t?t:cn(t,1))}var au=Qn((function(t,e){return function(r){return Dn(r,t,e)}})),uu=Qn((function(t,e){return function(r){return Dn(t,r,e)}}));function cu(t,e,r){var n=Ia(e),i=En(e,n);null!=r||ra(e)&&(i.length||!n.length)||(r=e,e=t,t=this,i=En(e,Ia(e)));var o=!(ra(r)&&"chain"in r&&!r.chain),s=Xs(t);return Oe(i,(function(r){var n=e[r];t[r]=n,s&&(t.prototype[r]=function(){var e=this.__chain__;if(o||e){var r=t(this.__wrapped__),i=r.__actions__=ji(this.__actions__);return i.push({func:n,args:arguments,thisArg:t}),r.__chain__=e,r}return n.apply(t,Re([this.value()],arguments))})})),t}function lu(){}var hu=Yi(De),fu=Yi(Ae),du=Yi(Fe);function pu(t){return So(t)?qe(Bo(t)):function(t){return function(e){return xn(e,t)}}(t)}var yu=Vi(),vu=Vi(!0);function mu(){return[]}function gu(){return!1}var bu=qi((function(t,e){return t+e}),0),wu=Ji("ceil"),_u=qi((function(t,e){return t/e}),1),Su=Ji("floor");var Eu,xu=qi((function(t,e){return t*e}),1),Ou=Ji("round"),Cu=qi((function(t,e){return t-e}),0);return Ur.after=function(t,e){if("function"!=typeof e)throw new jt(i);return t=va(t),function(){if(--t<1)return e.apply(this,arguments)}},Ur.ary=Ps,Ur.assign=_a,Ur.assignIn=Sa,Ur.assignInWith=Ea,Ur.assignWith=xa,Ur.at=Oa,Ur.before=js,Ur.bind=Ds,Ur.bindAll=eu,Ur.bindKey=Rs,Ur.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Vs(t)?t:[t]},Ur.chain=ps,Ur.chunk=function(t,e,r){e=(r?_o(t,e,r):e===n)?1:gr(va(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var o=0,s=0,a=st(ve(i/e));o<i;)a[s++]=ii(t,o,o+=e);return a},Ur.compact=function(t){for(var e=-1,r=null==t?0:t.length,n=0,i=[];++e<r;){var o=t[e];o&&(i[n++]=o)}return i},Ur.concat=function(){var t=arguments.length;if(!t)return[];for(var e=st(t-1),r=arguments[0],n=t;n--;)e[n-1]=arguments[n];return Re(Vs(r)?ji(r):[r],gn(e,1))},Ur.cond=function(t){var e=null==t?0:t.length,r=co();return t=e?De(t,(function(t){if("function"!=typeof t[1])throw new jt(i);return[r(t[0]),t[1]]})):[],Qn((function(r){for(var n=-1;++n<e;){var i=t[n];if(Ee(i[0],this,r))return Ee(i[1],this,r)}}))},Ur.conforms=function(t){return function(t){var e=Ia(t);return function(r){return ln(r,t,e)}}(cn(t,1))},Ur.constant=ru,Ur.countBy=ms,Ur.create=function(t,e){var r=$r(t);return null==e?r:on(r,e)},Ur.curry=function t(e,r,i){var o=Zi(e,8,n,n,n,n,n,r=i?n:r);return o.placeholder=t.placeholder,o},Ur.curryRight=function t(e,r,i){var o=Zi(e,a,n,n,n,n,n,r=i?n:r);return o.placeholder=t.placeholder,o},Ur.debounce=Is,Ur.defaults=Ca,Ur.defaultsDeep=Aa,Ur.defer=Ts,Ur.delay=Fs,Ur.difference=zo,Ur.differenceBy=qo,Ur.differenceWith=Yo,Ur.drop=function(t,e,r){var i=null==t?0:t.length;return i?ii(t,(e=r||e===n?1:va(e))<0?0:e,i):[]},Ur.dropRight=function(t,e,r){var i=null==t?0:t.length;return i?ii(t,0,(e=i-(e=r||e===n?1:va(e)))<0?0:e):[]},Ur.dropRightWhile=function(t,e){return t&&t.length?pi(t,co(e,3),!0,!0):[]},Ur.dropWhile=function(t,e){return t&&t.length?pi(t,co(e,3),!0):[]},Ur.fill=function(t,e,r,i){var o=null==t?0:t.length;return o?(r&&"number"!=typeof r&&_o(t,e,r)&&(r=0,i=o),function(t,e,r,i){var o=t.length;for((r=va(r))<0&&(r=-r>o?0:o+r),(i=i===n||i>o?o:va(i))<0&&(i+=o),i=r>i?0:ma(i);r<i;)t[r++]=e;return t}(t,e,r,i)):[]},Ur.filter=function(t,e){return(Vs(t)?ke:mn)(t,co(e,3))},Ur.flatMap=function(t,e){return gn(Os(t,e),1)},Ur.flatMapDeep=function(t,e){return gn(Os(t,e),f)},Ur.flatMapDepth=function(t,e,r){return r=r===n?1:va(r),gn(Os(t,e),r)},Ur.flatten=Ho,Ur.flattenDeep=function(t){return(null==t?0:t.length)?gn(t,f):[]},Ur.flattenDepth=function(t,e){return(null==t?0:t.length)?gn(t,e=e===n?1:va(e)):[]},Ur.flip=function(t){return Zi(t,512)},Ur.flow=nu,Ur.flowRight=iu,Ur.fromPairs=function(t){for(var e=-1,r=null==t?0:t.length,n={};++e<r;){var i=t[e];n[i[0]]=i[1]}return n},Ur.functions=function(t){return null==t?[]:En(t,Ia(t))},Ur.functionsIn=function(t){return null==t?[]:En(t,Ta(t))},Ur.groupBy=Ss,Ur.initial=function(t){return(null==t?0:t.length)?ii(t,0,-1):[]},Ur.intersection=Jo,Ur.intersectionBy=Ko,Ur.intersectionWith=Qo,Ur.invert=ja,Ur.invertBy=Da,Ur.invokeMap=Es,Ur.iteratee=su,Ur.keyBy=xs,Ur.keys=Ia,Ur.keysIn=Ta,Ur.map=Os,Ur.mapKeys=function(t,e){var r={};return e=co(e,3),_n(t,(function(t,n,i){sn(r,e(t,n,i),t)})),r},Ur.mapValues=function(t,e){var r={};return e=co(e,3),_n(t,(function(t,n,i){sn(r,n,e(t,n,i))})),r},Ur.matches=function(t){return $n(cn(t,1))},Ur.matchesProperty=function(t,e){return zn(t,cn(e,1))},Ur.memoize=Ms,Ur.merge=Fa,Ur.mergeWith=Ma,Ur.method=au,Ur.methodOf=uu,Ur.mixin=cu,Ur.negate=Ns,Ur.nthArg=function(t){return t=va(t),Qn((function(e){return Yn(e,t)}))},Ur.omit=Na,Ur.omitBy=function(t,e){return Ba(t,Ns(co(e)))},Ur.once=function(t){return js(2,t)},Ur.orderBy=function(t,e,r,i){return null==t?[]:(Vs(e)||(e=null==e?[]:[e]),Vs(r=i?n:r)||(r=null==r?[]:[r]),Wn(t,e,r))},Ur.over=hu,Ur.overArgs=Ls,Ur.overEvery=fu,Ur.overSome=du,Ur.partial=Bs,Ur.partialRight=Us,Ur.partition=Cs,Ur.pick=La,Ur.pickBy=Ba,Ur.property=pu,Ur.propertyOf=function(t){return function(e){return null==t?n:xn(t,e)}},Ur.pull=Xo,Ur.pullAll=ts,Ur.pullAllBy=function(t,e,r){return t&&t.length&&e&&e.length?Hn(t,e,co(r,2)):t},Ur.pullAllWith=function(t,e,r){return t&&t.length&&e&&e.length?Hn(t,e,n,r):t},Ur.pullAt=es,Ur.range=yu,Ur.rangeRight=vu,Ur.rearg=$s,Ur.reject=function(t,e){return(Vs(t)?ke:mn)(t,Ns(co(e,3)))},Ur.remove=function(t,e){var r=[];if(!t||!t.length)return r;var n=-1,i=[],o=t.length;for(e=co(e,3);++n<o;){var s=t[n];e(s,n,t)&&(r.push(s),i.push(n))}return Gn(t,i),r},Ur.rest=function(t,e){if("function"!=typeof t)throw new jt(i);return Qn(t,e=e===n?e:va(e))},Ur.reverse=rs,Ur.sampleSize=function(t,e,r){return e=(r?_o(t,e,r):e===n)?1:va(e),(Vs(t)?Zr:Xn)(t,e)},Ur.set=function(t,e,r){return null==t?t:ti(t,e,r)},Ur.setWith=function(t,e,r,i){return i="function"==typeof i?i:n,null==t?t:ti(t,e,r,i)},Ur.shuffle=function(t){return(Vs(t)?Xr:ni)(t)},Ur.slice=function(t,e,r){var i=null==t?0:t.length;return i?(r&&"number"!=typeof r&&_o(t,e,r)?(e=0,r=i):(e=null==e?0:va(e),r=r===n?i:va(r)),ii(t,e,r)):[]},Ur.sortBy=As,Ur.sortedUniq=function(t){return t&&t.length?ui(t):[]},Ur.sortedUniqBy=function(t,e){return t&&t.length?ui(t,co(e,2)):[]},Ur.split=function(t,e,r){return r&&"number"!=typeof r&&_o(t,e,r)&&(e=r=n),(r=r===n?y:r>>>0)?(t=wa(t))&&("string"==typeof e||null!=e&&!aa(e))&&!(e=li(e))&&ir(t)?Si(lr(t),0,r):t.split(e,r):[]},Ur.spread=function(t,e){if("function"!=typeof t)throw new jt(i);return e=null==e?0:gr(va(e),0),Qn((function(r){var n=r[e],i=Si(r,0,e);return n&&Re(i,n),Ee(t,this,i)}))},Ur.tail=function(t){var e=null==t?0:t.length;return e?ii(t,1,e):[]},Ur.take=function(t,e,r){return t&&t.length?ii(t,0,(e=r||e===n?1:va(e))<0?0:e):[]},Ur.takeRight=function(t,e,r){var i=null==t?0:t.length;return i?ii(t,(e=i-(e=r||e===n?1:va(e)))<0?0:e,i):[]},Ur.takeRightWhile=function(t,e){return t&&t.length?pi(t,co(e,3),!1,!0):[]},Ur.takeWhile=function(t,e){return t&&t.length?pi(t,co(e,3)):[]},Ur.tap=function(t,e){return e(t),t},Ur.throttle=function(t,e,r){var n=!0,o=!0;if("function"!=typeof t)throw new jt(i);return ra(r)&&(n="leading"in r?!!r.leading:n,o="trailing"in r?!!r.trailing:o),Is(t,e,{leading:n,maxWait:e,trailing:o})},Ur.thru=ys,Ur.toArray=pa,Ur.toPairs=Ua,Ur.toPairsIn=$a,Ur.toPath=function(t){return Vs(t)?De(t,Bo):la(t)?[t]:ji(Lo(wa(t)))},Ur.toPlainObject=ba,Ur.transform=function(t,e,r){var n=Vs(t),i=n||Ks(t)||ha(t);if(e=co(e,4),null==r){var o=t&&t.constructor;r=i?n?new o:[]:ra(t)&&Xs(o)?$r(Ht(t)):{}}return(i?Oe:_n)(t,(function(t,n,i){return e(r,t,n,i)})),r},Ur.unary=function(t){return Ps(t,1)},Ur.union=ns,Ur.unionBy=is,Ur.unionWith=os,Ur.uniq=function(t){return t&&t.length?hi(t):[]},Ur.uniqBy=function(t,e){return t&&t.length?hi(t,co(e,2)):[]},Ur.uniqWith=function(t,e){return e="function"==typeof e?e:n,t&&t.length?hi(t,n,e):[]},Ur.unset=function(t,e){return null==t||fi(t,e)},Ur.unzip=ss,Ur.unzipWith=as,Ur.update=function(t,e,r){return null==t?t:di(t,e,bi(r))},Ur.updateWith=function(t,e,r,i){return i="function"==typeof i?i:n,null==t?t:di(t,e,bi(r),i)},Ur.values=za,Ur.valuesIn=function(t){return null==t?[]:Ke(t,Ta(t))},Ur.without=us,Ur.words=Xa,Ur.wrap=function(t,e){return Bs(bi(e),t)},Ur.xor=cs,Ur.xorBy=ls,Ur.xorWith=hs,Ur.zip=fs,Ur.zipObject=function(t,e){return mi(t||[],e||[],en)},Ur.zipObjectDeep=function(t,e){return mi(t||[],e||[],ti)},Ur.zipWith=ds,Ur.entries=Ua,Ur.entriesIn=$a,Ur.extend=Sa,Ur.extendWith=Ea,cu(Ur,Ur),Ur.add=bu,Ur.attempt=tu,Ur.camelCase=qa,Ur.capitalize=Ya,Ur.ceil=wu,Ur.clamp=function(t,e,r){return r===n&&(r=e,e=n),r!==n&&(r=(r=ga(r))==r?r:0),e!==n&&(e=(e=ga(e))==e?e:0),un(ga(t),e,r)},Ur.clone=function(t){return cn(t,4)},Ur.cloneDeep=function(t){return cn(t,5)},Ur.cloneDeepWith=function(t,e){return cn(t,5,e="function"==typeof e?e:n)},Ur.cloneWith=function(t,e){return cn(t,4,e="function"==typeof e?e:n)},Ur.conformsTo=function(t,e){return null==e||ln(t,e,Ia(e))},Ur.deburr=Wa,Ur.defaultTo=function(t,e){return null==t||t!=t?e:t},Ur.divide=_u,Ur.endsWith=function(t,e,r){t=wa(t),e=li(e);var i=t.length,o=r=r===n?i:un(va(r),0,i);return(r-=e.length)>=0&&t.slice(r,o)==e},Ur.eq=zs,Ur.escape=function(t){return(t=wa(t))&&K.test(t)?t.replace(G,rr):t},Ur.escapeRegExp=function(t){return(t=wa(t))&&it.test(t)?t.replace(nt,"\\$&"):t},Ur.every=function(t,e,r){var i=Vs(t)?Ae:yn;return r&&_o(t,e,r)&&(e=n),i(t,co(e,3))},Ur.find=gs,Ur.findIndex=Wo,Ur.findKey=function(t,e){return Ne(t,co(e,3),_n)},Ur.findLast=bs,Ur.findLastIndex=Vo,Ur.findLastKey=function(t,e){return Ne(t,co(e,3),Sn)},Ur.floor=Su,Ur.forEach=ws,Ur.forEachRight=_s,Ur.forIn=function(t,e){return null==t?t:bn(t,co(e,3),Ta)},Ur.forInRight=function(t,e){return null==t?t:wn(t,co(e,3),Ta)},Ur.forOwn=function(t,e){return t&&_n(t,co(e,3))},Ur.forOwnRight=function(t,e){return t&&Sn(t,co(e,3))},Ur.get=ka,Ur.gt=qs,Ur.gte=Ys,Ur.has=function(t,e){return null!=t&&mo(t,e,kn)},Ur.hasIn=Pa,Ur.head=Go,Ur.identity=ou,Ur.includes=function(t,e,r,n){t=Gs(t)?t:za(t),r=r&&!n?va(r):0;var i=t.length;return r<0&&(r=gr(i+r,0)),ca(t)?r<=i&&t.indexOf(e,r)>-1:!!i&&Be(t,e,r)>-1},Ur.indexOf=function(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=null==r?0:va(r);return i<0&&(i=gr(n+i,0)),Be(t,e,i)},Ur.inRange=function(t,e,r){return e=ya(e),r===n?(r=e,e=0):r=ya(r),function(t,e,r){return t>=br(e,r)&&t<gr(e,r)}(t=ga(t),e,r)},Ur.invoke=Ra,Ur.isArguments=Ws,Ur.isArray=Vs,Ur.isArrayBuffer=Hs,Ur.isArrayLike=Gs,Ur.isArrayLikeObject=Js,Ur.isBoolean=function(t){return!0===t||!1===t||na(t)&&Cn(t)==b},Ur.isBuffer=Ks,Ur.isDate=Qs,Ur.isElement=function(t){return na(t)&&1===t.nodeType&&!sa(t)},Ur.isEmpty=function(t){if(null==t)return!0;if(Gs(t)&&(Vs(t)||"string"==typeof t||"function"==typeof t.splice||Ks(t)||ha(t)||Ws(t)))return!t.length;var e=vo(t);if(e==x||e==P)return!t.size;if(Oo(t))return!Nn(t).length;for(var r in t)if(Mt.call(t,r))return!1;return!0},Ur.isEqual=function(t,e){return In(t,e)},Ur.isEqualWith=function(t,e,r){var i=(r="function"==typeof r?r:n)?r(t,e):n;return i===n?In(t,e,n,r):!!i},Ur.isError=Zs,Ur.isFinite=function(t){return"number"==typeof t&&yr(t)},Ur.isFunction=Xs,Ur.isInteger=ta,Ur.isLength=ea,Ur.isMap=ia,Ur.isMatch=function(t,e){return t===e||Tn(t,e,ho(e))},Ur.isMatchWith=function(t,e,r){return r="function"==typeof r?r:n,Tn(t,e,ho(e),r)},Ur.isNaN=function(t){return oa(t)&&t!=+t},Ur.isNative=function(t){if(xo(t))throw new xt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Fn(t)},Ur.isNil=function(t){return null==t},Ur.isNull=function(t){return null===t},Ur.isNumber=oa,Ur.isObject=ra,Ur.isObjectLike=na,Ur.isPlainObject=sa,Ur.isRegExp=aa,Ur.isSafeInteger=function(t){return ta(t)&&t>=-9007199254740991&&t<=d},Ur.isSet=ua,Ur.isString=ca,Ur.isSymbol=la,Ur.isTypedArray=ha,Ur.isUndefined=function(t){return t===n},Ur.isWeakMap=function(t){return na(t)&&vo(t)==R},Ur.isWeakSet=function(t){return na(t)&&"[object WeakSet]"==Cn(t)},Ur.join=function(t,e){return null==t?"":vr.call(t,e)},Ur.kebabCase=Va,Ur.last=Zo,Ur.lastIndexOf=function(t,e,r){var i=null==t?0:t.length;if(!i)return-1;var o=i;return r!==n&&(o=(o=va(r))<0?gr(i+o,0):br(o,i-1)),e==e?function(t,e,r){for(var n=r+1;n--;)if(t[n]===e)return n;return n}(t,e,o):Le(t,$e,o,!0)},Ur.lowerCase=Ha,Ur.lowerFirst=Ga,Ur.lt=fa,Ur.lte=da,Ur.max=function(t){return t&&t.length?vn(t,ou,An):n},Ur.maxBy=function(t,e){return t&&t.length?vn(t,co(e,2),An):n},Ur.mean=function(t){return ze(t,ou)},Ur.meanBy=function(t,e){return ze(t,co(e,2))},Ur.min=function(t){return t&&t.length?vn(t,ou,Bn):n},Ur.minBy=function(t,e){return t&&t.length?vn(t,co(e,2),Bn):n},Ur.stubArray=mu,Ur.stubFalse=gu,Ur.stubObject=function(){return{}},Ur.stubString=function(){return""},Ur.stubTrue=function(){return!0},Ur.multiply=xu,Ur.nth=function(t,e){return t&&t.length?Yn(t,va(e)):n},Ur.noConflict=function(){return he._===this&&(he._=$t),this},Ur.noop=lu,Ur.now=ks,Ur.pad=function(t,e,r){t=wa(t);var n=(e=va(e))?cr(t):0;if(!e||n>=e)return t;var i=(e-n)/2;return Wi(Me(i),r)+t+Wi(ve(i),r)},Ur.padEnd=function(t,e,r){t=wa(t);var n=(e=va(e))?cr(t):0;return e&&n<e?t+Wi(e-n,r):t},Ur.padStart=function(t,e,r){t=wa(t);var n=(e=va(e))?cr(t):0;return e&&n<e?Wi(e-n,r)+t:t},Ur.parseInt=function(t,e,r){return r||null==e?e=0:e&&(e=+e),_r(wa(t).replace(ot,""),e||0)},Ur.random=function(t,e,r){if(r&&"boolean"!=typeof r&&_o(t,e,r)&&(e=r=n),r===n&&("boolean"==typeof e?(r=e,e=n):"boolean"==typeof t&&(r=t,t=n)),t===n&&e===n?(t=0,e=1):(t=ya(t),e===n?(e=t,t=0):e=ya(e)),t>e){var i=t;t=e,e=i}if(r||t%1||e%1){var o=Sr();return br(t+o*(e-t+ae("1e-"+((o+"").length-1))),e)}return Jn(t,e)},Ur.reduce=function(t,e,r){var n=Vs(t)?Ie:We,i=arguments.length<3;return n(t,co(e,4),r,i,dn)},Ur.reduceRight=function(t,e,r){var n=Vs(t)?Te:We,i=arguments.length<3;return n(t,co(e,4),r,i,pn)},Ur.repeat=function(t,e,r){return e=(r?_o(t,e,r):e===n)?1:va(e),Kn(wa(t),e)},Ur.replace=function(){var t=arguments,e=wa(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Ur.result=function(t,e,r){var i=-1,o=(e=wi(e,t)).length;for(o||(o=1,t=n);++i<o;){var s=null==t?n:t[Bo(e[i])];s===n&&(i=o,s=r),t=Xs(s)?s.call(t):s}return t},Ur.round=Ou,Ur.runInContext=t,Ur.sample=function(t){return(Vs(t)?Qr:Zn)(t)},Ur.size=function(t){if(null==t)return 0;if(Gs(t))return ca(t)?cr(t):t.length;var e=vo(t);return e==x||e==P?t.size:Nn(t).length},Ur.snakeCase=Ja,Ur.some=function(t,e,r){var i=Vs(t)?Fe:oi;return r&&_o(t,e,r)&&(e=n),i(t,co(e,3))},Ur.sortedIndex=function(t,e){return si(t,e)},Ur.sortedIndexBy=function(t,e,r){return ai(t,e,co(r,2))},Ur.sortedIndexOf=function(t,e){var r=null==t?0:t.length;if(r){var n=si(t,e);if(n<r&&zs(t[n],e))return n}return-1},Ur.sortedLastIndex=function(t,e){return si(t,e,!0)},Ur.sortedLastIndexBy=function(t,e,r){return ai(t,e,co(r,2),!0)},Ur.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var r=si(t,e,!0)-1;if(zs(t[r],e))return r}return-1},Ur.startCase=Ka,Ur.startsWith=function(t,e,r){return t=wa(t),r=null==r?0:un(va(r),0,t.length),e=li(e),t.slice(r,r+e.length)==e},Ur.subtract=Cu,Ur.sum=function(t){return t&&t.length?Ve(t,ou):0},Ur.sumBy=function(t,e){return t&&t.length?Ve(t,co(e,2)):0},Ur.template=function(t,e,r){var i=Ur.templateSettings;r&&_o(t,e,r)&&(e=n),t=wa(t),e=Ea({},e,i,Xi);var o,s,a=Ea({},e.imports,i.imports,Xi),u=Ia(a),c=Ke(a,u),l=0,h=e.interpolate||_t,f="__p += '",d=kt((e.escape||_t).source+"|"+h.source+"|"+(h===X?dt:_t).source+"|"+(e.evaluate||_t).source+"|$","g"),p="//# sourceURL="+(Mt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ne+"]")+"\n";t.replace(d,(function(e,r,n,i,a,u){return n||(n=i),f+=t.slice(l,u).replace(St,nr),r&&(o=!0,f+="' +\n__e("+r+") +\n'"),a&&(s=!0,f+="';\n"+a+";\n__p += '"),n&&(f+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),l=u+e.length,e})),f+="';\n";var y=Mt.call(e,"variable")&&e.variable;if(y){if(ht.test(y))throw new xt("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(s?f.replace(Y,""):f).replace(W,"$1").replace(V,"$1;"),f="function("+(y||"obj")+") {\n"+(y?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v=tu((function(){return Ot(u,p+"return "+f).apply(n,c)}));if(v.source=f,Zs(v))throw v;return v},Ur.times=function(t,e){if((t=va(t))<1||t>d)return[];var r=y,n=br(t,y);e=co(e),t-=y;for(var i=He(n,e);++r<t;)e(r);return i},Ur.toFinite=ya,Ur.toInteger=va,Ur.toLength=ma,Ur.toLower=function(t){return wa(t).toLowerCase()},Ur.toNumber=ga,Ur.toSafeInteger=function(t){return t?un(va(t),-9007199254740991,d):0===t?t:0},Ur.toString=wa,Ur.toUpper=function(t){return wa(t).toUpperCase()},Ur.trim=function(t,e,r){if((t=wa(t))&&(r||e===n))return Ge(t);if(!t||!(e=li(e)))return t;var i=lr(t),o=lr(e);return Si(i,Ze(i,o),Xe(i,o)+1).join("")},Ur.trimEnd=function(t,e,r){if((t=wa(t))&&(r||e===n))return t.slice(0,hr(t)+1);if(!t||!(e=li(e)))return t;var i=lr(t);return Si(i,0,Xe(i,lr(e))+1).join("")},Ur.trimStart=function(t,e,r){if((t=wa(t))&&(r||e===n))return t.replace(ot,"");if(!t||!(e=li(e)))return t;var i=lr(t);return Si(i,Ze(i,lr(e))).join("")},Ur.truncate=function(t,e){var r=30,i="...";if(ra(e)){var o="separator"in e?e.separator:o;r="length"in e?va(e.length):r,i="omission"in e?li(e.omission):i}var s=(t=wa(t)).length;if(ir(t)){var a=lr(t);s=a.length}if(r>=s)return t;var u=r-cr(i);if(u<1)return i;var c=a?Si(a,0,u).join(""):t.slice(0,u);if(o===n)return c+i;if(a&&(u+=c.length-u),aa(o)){if(t.slice(u).search(o)){var l,h=c;for(o.global||(o=kt(o.source,wa(pt.exec(o))+"g")),o.lastIndex=0;l=o.exec(h);)var f=l.index;c=c.slice(0,f===n?u:f)}}else if(t.indexOf(li(o),u)!=u){var d=c.lastIndexOf(o);d>-1&&(c=c.slice(0,d))}return c+i},Ur.unescape=function(t){return(t=wa(t))&&J.test(t)?t.replace(H,fr):t},Ur.uniqueId=function(t){var e=++Nt;return wa(t)+e},Ur.upperCase=Qa,Ur.upperFirst=Za,Ur.each=ws,Ur.eachRight=_s,Ur.first=Go,cu(Ur,(Eu={},_n(Ur,(function(t,e){Mt.call(Ur.prototype,e)||(Eu[e]=t)})),Eu),{chain:!1}),Ur.VERSION="4.17.21",Oe(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Ur[t].placeholder=Ur})),Oe(["drop","take"],(function(t,e){Yr.prototype[t]=function(r){r=r===n?1:gr(va(r),0);var i=this.__filtered__&&!e?new Yr(this):this.clone();return i.__filtered__?i.__takeCount__=br(r,i.__takeCount__):i.__views__.push({size:br(r,y),type:t+(i.__dir__<0?"Right":"")}),i},Yr.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Oe(["filter","map","takeWhile"],(function(t,e){var r=e+1,n=1==r||3==r;Yr.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:co(t,3),type:r}),e.__filtered__=e.__filtered__||n,e}})),Oe(["head","last"],(function(t,e){var r="take"+(e?"Right":"");Yr.prototype[t]=function(){return this[r](1).value()[0]}})),Oe(["initial","tail"],(function(t,e){var r="drop"+(e?"":"Right");Yr.prototype[t]=function(){return this.__filtered__?new Yr(this):this[r](1)}})),Yr.prototype.compact=function(){return this.filter(ou)},Yr.prototype.find=function(t){return this.filter(t).head()},Yr.prototype.findLast=function(t){return this.reverse().find(t)},Yr.prototype.invokeMap=Qn((function(t,e){return"function"==typeof t?new Yr(this):this.map((function(r){return Dn(r,t,e)}))})),Yr.prototype.reject=function(t){return this.filter(Ns(co(t)))},Yr.prototype.slice=function(t,e){t=va(t);var r=this;return r.__filtered__&&(t>0||e<0)?new Yr(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),e!==n&&(r=(e=va(e))<0?r.dropRight(-e):r.take(e-t)),r)},Yr.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Yr.prototype.toArray=function(){return this.take(y)},_n(Yr.prototype,(function(t,e){var r=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),o=Ur[i?"take"+("last"==e?"Right":""):e],s=i||/^find/.test(e);o&&(Ur.prototype[e]=function(){var e=this.__wrapped__,a=i?[1]:arguments,u=e instanceof Yr,c=a[0],l=u||Vs(e),h=function(t){var e=o.apply(Ur,Re([t],a));return i&&f?e[0]:e};l&&r&&"function"==typeof c&&1!=c.length&&(u=l=!1);var f=this.__chain__,d=!!this.__actions__.length,p=s&&!f,y=u&&!d;if(!s&&l){e=y?e:new Yr(this);var v=t.apply(e,a);return v.__actions__.push({func:ys,args:[h],thisArg:n}),new qr(v,f)}return p&&y?t.apply(this,a):(v=this.thru(h),p?i?v.value()[0]:v.value():v)})})),Oe(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Dt[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",n=/^(?:pop|shift)$/.test(t);Ur.prototype[t]=function(){var t=arguments;if(n&&!this.__chain__){var i=this.value();return e.apply(Vs(i)?i:[],t)}return this[r]((function(r){return e.apply(Vs(r)?r:[],t)}))}})),_n(Yr.prototype,(function(t,e){var r=Ur[e];if(r){var n=r.name+"";Mt.call(Dr,n)||(Dr[n]=[]),Dr[n].push({name:e,func:r})}})),Dr[$i(n,2).name]=[{name:"wrapper",func:n}],Yr.prototype.clone=function(){var t=new Yr(this.__wrapped__);return t.__actions__=ji(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=ji(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=ji(this.__views__),t},Yr.prototype.reverse=function(){if(this.__filtered__){var t=new Yr(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Yr.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,r=Vs(t),n=e<0,i=r?t.length:0,o=function(t,e,r){var n=-1,i=r.length;for(;++n<i;){var o=r[n],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=br(e,t+s);break;case"takeRight":t=gr(t,e-s)}}return{start:t,end:e}}(0,i,this.__views__),s=o.start,a=o.end,u=a-s,c=n?a:s-1,l=this.__iteratees__,h=l.length,f=0,d=br(u,this.__takeCount__);if(!r||!n&&i==u&&d==u)return yi(t,this.__actions__);var p=[];t:for(;u--&&f<d;){for(var y=-1,v=t[c+=e];++y<h;){var m=l[y],g=m.iteratee,b=m.type,w=g(v);if(2==b)v=w;else if(!w){if(1==b)continue t;break t}}p[f++]=v}return p},Ur.prototype.at=vs,Ur.prototype.chain=function(){return ps(this)},Ur.prototype.commit=function(){return new qr(this.value(),this.__chain__)},Ur.prototype.next=function(){this.__values__===n&&(this.__values__=pa(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?n:this.__values__[this.__index__++]}},Ur.prototype.plant=function(t){for(var e,r=this;r instanceof zr;){var i=$o(r);i.__index__=0,i.__values__=n,e?o.__wrapped__=i:e=i;var o=i;r=r.__wrapped__}return o.__wrapped__=t,e},Ur.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Yr){var e=t;return this.__actions__.length&&(e=new Yr(this)),(e=e.reverse()).__actions__.push({func:ys,args:[rs],thisArg:n}),new qr(e,this.__chain__)}return this.thru(rs)},Ur.prototype.toJSON=Ur.prototype.valueOf=Ur.prototype.value=function(){return yi(this.__wrapped__,this.__actions__)},Ur.prototype.first=Ur.prototype.head,se&&(Ur.prototype[se]=function(){return this}),Ur}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(he._=dr,define((function(){return dr}))):de?((de.exports=dr)._=dr,fe._=dr):he._=dr}).call(this)})),i.register("eJXcg",(function(t,e){"use strict";var r=i("lGJEF"),n=i("2qO2U"),o=i("lBBqR"),s=i("cnYJZ");const a={};t.exports=function(t,e,i={}){if(r(t&&"object"==typeof t,"Invalid defaults value: must be an object"),r(!e||!0===e||"object"==typeof e,"Invalid source value: must be true, falsy or an object"),r("object"==typeof i,"Invalid options: must be an object"),!e)return null;if(i.shallow)return a.applyToDefaultsWithShallow(t,e,i);const s=n(t);if(!0===e)return s;const u=void 0!==i.nullOverride&&i.nullOverride;return o(s,e,{nullOverride:u,mergeArrays:!1})},a.applyToDefaultsWithShallow=function(t,e,i){const u=i.shallow;r(Array.isArray(u),"Invalid keys");const c=new Map,l=!0===e?null:new Set;for(let r of u){r=Array.isArray(r)?r:r.split(".");const n=s(t,r);n&&"object"==typeof n?c.set(n,l&&s(e,r)||n):l&&l.add(r)}const h=n(t,{},c);if(!l)return h;for(const t of l)a.reachCopy(h,e,t);const f=void 0!==i.nullOverride&&i.nullOverride;return o(h,e,{nullOverride:f,mergeArrays:!1})},a.reachCopy=function(t,e,r){for(const t of r){if(!(t in e))return;const r=e[t];if("object"!=typeof r||null===r)return;e=r}const n=e;let i=t;for(let t=0;t<r.length-1;++t){const e=r[t];"object"!=typeof i[e]&&(i[e]={}),i=i[e]}i[r[r.length-1]]=n}})),i.register("lGJEF",(function(t,e){"use strict";var r=i("bygnz");t.exports=function(t,...e){if(!t){if(1===e.length&&e[0]instanceof Error)throw e[0];throw new r(e)}}})),i.register("bygnz",(function(t,e){"use strict";var r=i("7hdyU");t.exports=class extends Error{constructor(e){super(e.filter((t=>""!==t)).map((t=>"string"==typeof t?t:t instanceof Error?t.message:r(t))).join(" ")||"Unknown error"),"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,t.exports.assert)}}})),i.register("7hdyU",(function(t,e){"use strict";t.exports=function(...t){try{return JSON.stringify(...t)}catch(t){return"[Cannot display object: "+t.message+"]"}}})),i.register("2qO2U",(function(t,e){var r=i("6ymgl").Buffer,n=i("cnYJZ"),o=i("1AaSo"),s=i("hEd6L");const a={needsProtoHack:new Set([o.set,o.map,o.weakSet,o.weakMap])};t.exports=a.clone=function(t,e={},n=null){if("object"!=typeof t||null===t)return t;let i=a.clone,u=n;if(e.shallow){if(!0!==e.shallow)return a.cloneWithShallow(t,e);i=t=>t}else if(u){const e=u.get(t);if(e)return e}else u=new Map;const c=o.getInternalProto(t);if(c===o.buffer)return r&&r.from(t);if(c===o.date)return new Date(t.getTime());if(c===o.regex)return new RegExp(t);const l=a.base(t,c,e);if(l===t)return t;if(u&&u.set(t,l),c===o.set)for(const r of t)l.add(i(r,e,u));else if(c===o.map)for(const[r,n]of t)l.set(r,i(n,e,u));const h=s.keys(t,e);for(const r of h){if("__proto__"===r)continue;if(c===o.array&&"length"===r){l.length=t.length;continue}const n=Object.getOwnPropertyDescriptor(t,r);n?n.get||n.set?Object.defineProperty(l,r,n):n.enumerable?l[r]=i(t[r],e,u):Object.defineProperty(l,r,{enumerable:!1,writable:!0,configurable:!0,value:i(t[r],e,u)}):Object.defineProperty(l,r,{enumerable:!0,writable:!0,configurable:!0,value:i(t[r],e,u)})}return l},a.cloneWithShallow=function(t,e){const r=e.shallow;(e=Object.assign({},e)).shallow=!1;const i=new Map;for(const e of r){const r=n(t,e);"object"!=typeof r&&"function"!=typeof r||i.set(r,r)}return a.clone(t,e,i)},a.base=function(t,e,r){if(!1===r.prototype)return a.needsProtoHack.has(e)?new e.constructor:e===o.array?[]:{};const n=Object.getPrototypeOf(t);if(n&&n.isImmutable)return t;if(e===o.array){const t=[];return n!==e&&Object.setPrototypeOf(t,n),t}if(a.needsProtoHack.has(e)){const t=new n.constructor;return n!==e&&Object.setPrototypeOf(t,n),t}return Object.create(n)}})),i.register("cnYJZ",(function(t,e){"use strict";var r=i("lGJEF");const n={};t.exports=function(t,e,i){if(!1===e||null==e)return t;"string"==typeof(i=i||{})&&(i={separator:i});const o=Array.isArray(e);r(!o||!i.separator,"Separator option is not valid for array-based chain");const s=o?e:e.split(i.separator||".");let a=t;for(let t=0;t<s.length;++t){let o=s[t];const u=i.iterables&&n.iterables(a);if(Array.isArray(a)||"set"===u){const t=Number(o);Number.isInteger(t)&&(o=t<0?a.length+t:t)}if(!a||"function"==typeof a&&!1===i.functions||!u&&void 0===a[o]){r(!i.strict||t+1===s.length,"Missing segment",o,"in reach path ",e),r("object"==typeof a||!0===i.functions||"function"!=typeof a,"Invalid segment",o,"in reach path ",e),a=i.default;break}a=u?"set"===u?[...a][o]:a.get(o):a[o]}return a},n.iterables=function(t){return t instanceof Set?"set":t instanceof Map?"map":void 0}})),i.register("1AaSo",(function(t,e){var r=i("6ymgl").Buffer;const n={};e=t.exports={array:Array.prototype,buffer:r&&r.prototype,date:Date.prototype,error:Error.prototype,generic:Object.prototype,map:Map.prototype,promise:Promise.prototype,regex:RegExp.prototype,set:Set.prototype,weakMap:WeakMap.prototype,weakSet:WeakSet.prototype},n.typeMap=new Map([["[object Error]",e.error],["[object Map]",e.map],["[object Promise]",e.promise],["[object Set]",e.set],["[object WeakMap]",e.weakMap],["[object WeakSet]",e.weakSet]]),e.getInternalProto=function(t){if(Array.isArray(t))return e.array;if(r&&t instanceof r)return e.buffer;if(t instanceof Date)return e.date;if(t instanceof RegExp)return e.regex;if(t instanceof Error)return e.error;const i=Object.prototype.toString.call(t);return n.typeMap.get(i)||e.generic}})),i.register("hEd6L",(function(e,r){var n;t(e.exports,"keys",(()=>n),(t=>n=t)),n=function(t,e={}){return!1!==e.symbols?Reflect.ownKeys(t):Object.getOwnPropertyNames(t)}})),i.register("lBBqR",(function(t,e){var r=i("6ymgl").Buffer,n=i("lGJEF"),o=i("2qO2U"),s=i("hEd6L");const a={};t.exports=a.merge=function(t,e,i){if(n(t&&"object"==typeof t,"Invalid target value: must be an object"),n(null==e||"object"==typeof e,"Invalid source value: must be null, undefined, or an object"),!e)return t;if(i=Object.assign({nullOverride:!0,mergeArrays:!0},i),Array.isArray(e)){n(Array.isArray(t),"Cannot merge array onto an object"),i.mergeArrays||(t.length=0);for(let r=0;r<e.length;++r)t.push(o(e[r],{symbols:i.symbols}));return t}const u=s.keys(e,i);for(let n=0;n<u.length;++n){const s=u[n];if("__proto__"===s||!Object.prototype.propertyIsEnumerable.call(e,s))continue;const c=e[s];if(c&&"object"==typeof c){if(t[s]===c)continue;!t[s]||"object"!=typeof t[s]||Array.isArray(t[s])!==Array.isArray(c)||c instanceof Date||r&&r.isBuffer(c)||c instanceof RegExp?t[s]=o(c,{symbols:i.symbols}):a.merge(t[s],c,i)}else(null!=c||i.nullOverride)&&(t[s]=c)}return t}})),i.register("6C4SJ",(function(t,e){var r=i("b28Wo");const n={};t.exports=n.Bench=class{constructor(){this.ts=0,this.reset()}reset(){this.ts=n.Bench.now()}elapsed(){return n.Bench.now()-this.ts}static now(){const t=r.hrtime();return 1e3*t[0]+t[1]/1e6}}})),i.register("2Q7Vm",(function(t,e){"use strict";var r=i("39bz6");t.exports=function(){return new Promise(r)}})),i.register("39bz6",(function(t,e){"use strict";t.exports=function(){}})),i.register("l6cIO",(function(t,e){"use strict";var r=i("lGJEF"),n=i("en0Im"),o=i("jgPwP"),s=i("hEd6L");const a={};t.exports=function(t,e,n={}){return"object"!=typeof e&&(e=[e]),r(!Array.isArray(e)||e.length,"Values array cannot be empty"),"string"==typeof t?a.string(t,e,n):Array.isArray(t)?a.array(t,e,n):(r("object"==typeof t,"Reference must be string or an object"),a.object(t,e,n))},a.array=function(t,e,r){if(Array.isArray(e)||(e=[e]),!t.length)return!1;if(r.only&&r.once&&t.length!==e.length)return!1;let n;const i=new Map;for(const t of e)if(r.deep&&t&&"object"==typeof t){n=n||a.compare(r);let e=!1;for(const[r,o]of i.entries())if(n(r,t)){++o.allowed,e=!0;break}e||i.set(t,{allowed:1,hits:0})}else{const e=i.get(t);e?++e.allowed:i.set(t,{allowed:1,hits:0})}let o=0;for(const e of t){let t;if(r.deep&&e&&"object"==typeof e){n=n||a.compare(r);for(const[r,o]of i.entries())if(n(r,e)){t=o;break}}else t=i.get(e);if(t&&(++t.hits,++o,r.once&&t.hits>t.allowed))return!1}if(r.only&&o!==t.length)return!1;for(const t of i.values())if(t.hits!==t.allowed&&t.hits<t.allowed&&!r.part)return!1;return!!o},a.object=function(t,e,n){r(void 0===n.once,"Cannot use option once with object");const i=s.keys(t,n);if(!i.length)return!1;if(Array.isArray(e))return a.array(i,e,n);const o=Object.getOwnPropertySymbols(e).filter((t=>e.propertyIsEnumerable(t))),u=[...Object.keys(e),...o],c=a.compare(n),l=new Set(u);for(const r of i)if(l.has(r)){if(!c(e[r],t[r]))return!1;l.delete(r)}else if(n.only)return!1;return!l.size||!!n.part&&l.size<u.length},a.string=function(t,e,n){if(""===t)return 1===e.length&&""===e[0]||!n.once&&!e.some((t=>""!==t));const i=new Map,s=[];for(const t of e)if(r("string"==typeof t,"Cannot compare string reference to non-string value"),t){const e=i.get(t);e?++e.allowed:(i.set(t,{allowed:1,hits:0}),s.push(o(t)))}else if(n.once||n.only)return!1;if(!s.length)return!0;const a=new RegExp(`(${s.join("|")})`,"g"),u=t.replace(a,((t,e)=>(++i.get(e).hits,"")));if(n.only&&u)return!1;let c=!1;for(const t of i.values())if(t.hits&&(c=!0),t.hits!==t.allowed){if(t.hits<t.allowed&&!n.part)return!1;if(n.once)return!1}return!!c},a.compare=function(t){if(!t.deep)return a.shallow;const e=void 0!==t.only,r=void 0!==t.part,i={prototype:e?t.only:!!r&&!t.part,part:e?!t.only:!!r&&t.part};return(t,e)=>n(t,e,i)},a.shallow=function(t,e){return t===e}})),i.register("en0Im",(function(t,e){var r=i("6ymgl").Buffer,n=i("1AaSo");const o={mismatched:null};t.exports=function(t,e,r){return r=Object.assign({prototype:!0},r),!!o.isDeepEqual(t,e,r,[])},o.isDeepEqual=function(t,e,i,s){if(t===e)return 0!==t||1/t==1/e;const a=typeof t;if(a!==typeof e)return!1;if(null===t||null===e)return!1;if("function"===a){if(!i.deepFunction||t.toString()!==e.toString())return!1}else if("object"!==a)return t!=t&&e!=e;const u=o.getSharedType(t,e,!!i.prototype);switch(u){case n.buffer:return r&&r.prototype.equals.call(t,e);case n.promise:return t===e;case n.regex:return t.toString()===e.toString();case o.mismatched:return!1}for(let r=s.length-1;r>=0;--r)if(s[r].isSame(t,e))return!0;s.push(new o.SeenEntry(t,e));try{return!!o.isDeepEqualObj(u,t,e,i,s)}finally{s.pop()}},o.getSharedType=function(t,e,r){if(r)return Object.getPrototypeOf(t)!==Object.getPrototypeOf(e)?o.mismatched:n.getInternalProto(t);const i=n.getInternalProto(t);return i!==n.getInternalProto(e)?o.mismatched:i},o.valueOf=function(t){const e=t.valueOf;if(void 0===e)return t;try{return e.call(t)}catch(t){return t}},o.hasOwnEnumerableProperty=function(t,e){return Object.prototype.propertyIsEnumerable.call(t,e)},o.isSetSimpleEqual=function(t,e){for(const r of Set.prototype.values.call(t))if(!Set.prototype.has.call(e,r))return!1;return!0},o.isDeepEqualObj=function(t,e,r,i,s){const{isDeepEqual:a,valueOf:u,hasOwnEnumerableProperty:c}=o,{keys:l,getOwnPropertySymbols:h}=Object;if(t===n.array){if(!i.part){if(e.length!==r.length)return!1;for(let t=0;t<e.length;++t)if(!a(e[t],r[t],i,s))return!1;return!0}for(const t of e)for(const e of r)if(a(t,e,i,s))return!0}else if(t===n.set){if(e.size!==r.size)return!1;if(!o.isSetSimpleEqual(e,r)){const t=new Set(Set.prototype.values.call(r));for(const r of Set.prototype.values.call(e)){if(t.delete(r))continue;let e=!1;for(const n of t)if(a(r,n,i,s)){t.delete(n),e=!0;break}if(!e)return!1}}}else if(t===n.map){if(e.size!==r.size)return!1;for(const[t,n]of Map.prototype.entries.call(e)){if(void 0===n&&!Map.prototype.has.call(r,t))return!1;if(!a(n,Map.prototype.get.call(r,t),i,s))return!1}}else if(t===n.error&&(e.name!==r.name||e.message!==r.message))return!1;const f=u(e),d=u(r);if((e!==f||r!==d)&&!a(f,d,i,s))return!1;const p=l(e);if(!i.part&&p.length!==l(r).length&&!i.skip)return!1;let y=0;for(const t of p)if(i.skip&&i.skip.includes(t))void 0===r[t]&&++y;else{if(!c(r,t))return!1;if(!a(e[t],r[t],i,s))return!1}if(!i.part&&p.length-y!==l(r).length)return!1;if(!1!==i.symbols){const t=h(e),n=new Set(h(r));for(const o of t){if(!i.skip||!i.skip.includes(o))if(c(e,o)){if(!c(r,o))return!1;if(!a(e[o],r[o],i,s))return!1}else if(c(r,o))return!1;n.delete(o)}for(const t of n)if(c(r,t))return!1}return!0},o.SeenEntry=class{constructor(t,e){this.obj=t,this.ref=e}isSame(t,e){return this.obj===t&&this.ref===e}}})),i.register("jgPwP",(function(t,e){"use strict";t.exports=function(t){return t.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}})),i.register("jGNeQ",(function(t,e){"use strict";var r=i("lGJEF");t.exports=function(t){return r(/^[ \w\!#\$%&'\(\)\*\+,\-\.\/\:;<\=>\?@\[\]\^`\{\|\}~\"\\]*$/.test(t),"Bad attribute value ("+t+")"),t.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')}})),i.register("gGs6W",(function(t,e){"use strict";const r={};t.exports=function(t){if(!t)return"";let e="";for(let n=0;n<t.length;++n){const i=t.charCodeAt(n);r.isSafe(i)?e+=t[n]:e+=r.escapeHtmlChar(i)}return e},r.escapeHtmlChar=function(t){const e=r.namedHtml.get(t);if(e)return e;if(t>=256)return"&#"+t+";";return`&#x${t.toString(16).padStart(2,"0")};`},r.isSafe=function(t){return r.safeCharCodes.has(t)},r.namedHtml=new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[34,"&quot;"],[160,"&nbsp;"],[162,"&cent;"],[163,"&pound;"],[164,"&curren;"],[169,"&copy;"],[174,"&reg;"]]),r.safeCharCodes=function(){const t=new Set;for(let e=32;e<123;++e)(e>=97||e>=65&&e<=90||e>=48&&e<=57||32===e||46===e||44===e||45===e||58===e||95===e)&&t.add(e);return t}()})),i.register("2Bj5i",(function(t,e){"use strict";const r={};t.exports=function(t){return t?t.replace(/[<>&\u2028\u2029]/g,r.escape):""},r.escape=function(t){return r.replacements.get(t)},r.replacements=new Map([["<","\\u003c"],[">","\\u003e"],["&","\\u0026"],["\u2028","\\u2028"],["\u2029","\\u2029"]])})),i.register("kWOgF",(function(t,e){"use strict";const r={};t.exports=r.flatten=function(t,e){const n=e||[];for(const e of t)Array.isArray(e)?r.flatten(e,n):n.push(e);return n}})),i.register("3pUDt",(function(t,e){"use strict";const r={};t.exports=function(t,e,n={}){if(!t||!e)return n.first?null:[];const i=[],o=Array.isArray(t)?new Set(t):t,s=new Set;for(const t of e)if(r.has(o,t)&&!s.has(t)){if(n.first)return t;i.push(t),s.add(t)}return n.first?null:i},r.has=function(t,e){return"function"==typeof t.has?t.has(e):void 0!==t[e]}})),i.register("54qZ9",(function(t,e){"use strict";t.exports=function(t){return!!t&&"function"==typeof t.then}})),i.register("jKNOz",(function(t,e){"use strict";const r=Symbol("wrapped");t.exports=function(t){if(t[r])return t;let e=!1;const n=function(...r){e||(e=!0,t(...r))};return n[r]=!0,n}})),i.register("7gMWj",(function(t,e){"use strict";var r=i("cnYJZ");t.exports=function(t,e,n){return e.replace(/{([^{}]+)}/g,((e,i)=>{const o=r(t,i,n);return null==o?"":o}))}})),i.register("3HpxW",(function(t,e){"use strict";const r=2**31-1;t.exports=function(t,e,n){if("bigint"==typeof t&&(t=Number(t)),t>=Number.MAX_SAFE_INTEGER&&(t=1/0),"number"!=typeof t&&void 0!==t)throw new TypeError("Timeout must be a number or bigint");return new Promise((i=>{const o=n?n.setTimeout:setTimeout,s=()=>{const n=Math.min(t,r);t-=n,o((()=>t>0?s():i(e)),n)};t!==1/0&&s()}))}})),i.register("ijHcq",(function(t,e){t.exports=n;var r=i("gh2nv").EventEmitter;function n(){r.call(this)}i("27AqA")(n,r),n.Readable=i("ejQ4r"),n.Writable=i("dwrm5"),n.Duplex=i("cinSo"),n.Transform=i("zMlIt"),n.PassThrough=i("8Dzp6"),n.finished=i("6R8zI"),n.pipeline=i("kwxOC"),n.Stream=n,n.prototype.pipe=function(t,e){var n=this;function i(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",i),t.on("drain",o),t._isStdio||e&&!1===e.end||(n.on("end",a),n.on("close",u));var s=!1;function a(){s||(s=!0,t.end())}function u(){s||(s=!0,"function"==typeof t.destroy&&t.destroy())}function c(t){if(l(),0===r.listenerCount(this,"error"))throw t}function l(){n.removeListener("data",i),t.removeListener("drain",o),n.removeListener("end",a),n.removeListener("close",u),n.removeListener("error",c),t.removeListener("error",c),n.removeListener("end",l),n.removeListener("close",l),t.removeListener("close",l)}return n.on("error",c),t.on("error",c),n.on("end",l),n.on("close",l),t.on("close",l),t.emit("pipe",n),t}})),i.register("7lSYP",(function(t,e){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();var o=i("gh2nv"),s=i("6ES6Y"),a=i("jG5WI"),u=i("l64E9").getIDBError,c=i("deQOo"),l=function(t){function e(t,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(o._name=t,"object"===(void 0===n?"undefined":r(n))?i=n:o._version=n,o._cols={},o._config={},o._initGetConn(),Array.isArray(i)){var s=!0,a=!1,u=void 0;try{for(var c,l=i[Symbol.iterator]();!(s=(c=l.next()).done);s=!0){var h=c.value;o._addCollection(h),o._config[h]=!0}}catch(t){a=!0,u=t}finally{try{!s&&l.return&&l.return()}finally{if(a)throw u}}}else for(var f in i)o._addCollection(f),o._addIndex(i[f],f);return o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"_addCollection",value:function(t){this._cols[t]=new c(this,t)}},{key:"_addIndex",value:function(t,e){var n=this._config;if(!t)return n[e]=!1;if("object"!==(void 0===t?"undefined":r(t)))return n[e]={};var i=this._cols[e];if(Array.isArray(t)){var o={},s=!0,a=!1,u=void 0;try{for(var c,l=t[Symbol.iterator]();!(s=(c=l.next()).done);s=!0){var h=c.value;o[h]=!0,i._indexes.add(h)}}catch(t){a=!0,u=t}finally{try{!s&&l.return&&l.return()}finally{if(a)throw u}}n[e]=o}else{for(var f in t)t[f]&&i._indexes.add(f);n[e]=t}}},{key:"_addStore",value:function(t,e){var r=t.createObjectStore(e,{keyPath:"_id",autoIncrement:!0}),n=this._config[e];for(var i in n)n[i]?r.createIndex(i,i,{unique:!1}):r.deleteIndex(i)}},{key:"_getConn",value:function(t){var e=this,r=void 0;(r=this._version?indexedDB.open(this._name,this._version):indexedDB.open(this._name)).onsuccess=function(r){var n=r.target.result;e._idb=n,e._version=n.version,e._open=!0,t(null,n)},r.onerror=function(e){return t(u(e))},r.onupgradeneeded=function(r){var n=r.target.result;for(var i in e._config)try{e._config[i]?n.objectStoreNames.contains(i)||e._addStore(n,i):n.deleteObjectStore(i)}catch(e){return t(e)}},r.onblocked=function(){return e.emit("blocked")}}},{key:"_initGetConn",value:function(){this._getConn=s(this._getConn,{async:!0})}},{key:"collection",value:function(t){var e=this._cols[t];if(!e)throw Error("collection '"+t+"' does not exist");return e}},{key:"open",value:function(t){var e=this,r=a.defer();return this._getConn((function(t){t?r.reject(t):r.resolve(e)})),r.promise.nodeify(t),r.promise}},{key:"close",value:function(){this._open&&(this._idb.close(),this._open=!1,this._initGetConn())}},{key:"drop",value:function(t){this.close();var e=a.defer(),r=indexedDB.deleteDatabase(this._name);return r.onsuccess=function(){return e.resolve()},r.onerror=function(t){return e.reject(u(t))},e.promise.nodeify(t),e.promise}},{key:"name",get:function(){return this._name}},{key:"version",get:function(){return this._version}}]),e}(o);t.exports=l})),i.register("6ES6Y",(function(t,e){"use strict";var r=i("aLv3I"),n=i("gVSVZ"),o=i("az2bh");t.exports=function(t){var e,s=r(arguments[1]);return s.normalizer||0!==(e=s.length=n(s.length,t.length,s.async))&&(s.primitive?!1===e?s.normalizer=i("LaiQe"):e>1&&(s.normalizer=i("37auA")(e)):s.normalizer=!1===e?i("agAu1")():1===e?i("3WIFE")():i("lHxk8")(e)),s.async&&i("ad5QE"),s.promise&&i("580LQ"),s.dispose&&i("d9i5x"),s.maxAge&&i("d6fWs"),s.max&&i("hYaOt"),s.refCounter&&i("eGYRZ"),o(t,s)}})),i.register("aLv3I",(function(t,e){"use strict";var r=i("jrF7B"),n=Array.prototype.forEach,o=Object.create,s=function(t,e){var r;for(r in t)e[r]=t[r]};t.exports=function(t){var e=o(null);return n.call(arguments,(function(t){r(t)&&s(Object(t),e)})),e}})),i.register("jrF7B",(function(t,e){"use strict";var r=i("6W0O9")();t.exports=function(t){return t!==r&&null!==t}})),i.register("6W0O9",(function(t,e){"use strict";t.exports=function(){}})),i.register("gVSVZ",(function(t,e){"use strict";var r=i("7lItd");t.exports=function(t,e,n){var i;return isNaN(t)?(i=e)>=0?n&&i?i-1:i:1:!1!==t&&r(t)}})),i.register("7lItd",(function(t,e){"use strict";var r=i("3ZcYc"),n=Math.max;t.exports=function(t){return n(0,r(t))}})),i.register("3ZcYc",(function(t,e){"use strict";var r=i("aSB4x"),n=Math.abs,o=Math.floor;t.exports=function(t){return isNaN(t)?0:0!==(t=Number(t))&&isFinite(t)?r(t)*o(n(t)):t}})),i.register("aSB4x",(function(t,e){"use strict";t.exports=i("1uldt")()?Math.sign:i("7XXRN")})),i.register("1uldt",(function(t,e){"use strict";t.exports=function(){var t=Math.sign;return"function"==typeof t&&(1===t(10)&&-1===t(-20))}})),i.register("7XXRN",(function(t,e){"use strict";t.exports=function(t){return t=Number(t),isNaN(t)||0===t?t:t>0?1:-1}})),i.register("az2bh",(function(t,e){"use strict";var r=i("lQKDy"),n=i("iphMp"),o=i("hs9hJ"),s=i("8AMaG"),a=i("gVSVZ");t.exports=function t(e){var i,u,c;if(r(e),(i=Object(arguments[1])).async&&i.promise)throw new Error("Options 'async' and 'promise' cannot be used together");return hasOwnProperty.call(e,"__memoized__")&&!i.force?e:(u=a(i.length,e.length,i.async&&o.async),c=s(e,u,i),n(o,(function(t,e){i[e]&&t(i[e],c,i)})),t.__profiler__&&t.__profiler__(c),c.updateEnv(),c.memoized)}})),i.register("lQKDy",(function(t,e){"use strict";t.exports=function(t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t}})),i.register("iphMp",(function(t,e){"use strict";t.exports=i("laQ4n")("forEach")})),i.register("laQ4n",(function(t,e){"use strict";var r=i("lQKDy"),n=i("E431r"),o=Function.prototype.bind,s=Function.prototype.call,a=Object.keys,u=Object.prototype.propertyIsEnumerable;t.exports=function(t,e){return function(i,c){var l,h=arguments[2],f=arguments[3];return i=Object(n(i)),r(c),l=a(i),f&&l.sort("function"==typeof f?o.call(f,i):void 0),"function"!=typeof t&&(t=l[t]),s.call(t,l,(function(t,r){return u.call(i,t)?s.call(c,h,i[t],t,i,r):e}))}}})),i.register("E431r",(function(t,e){"use strict";var r=i("jrF7B");t.exports=function(t){if(!r(t))throw new TypeError("Cannot use null or undefined");return t}})),i.register("hs9hJ",(function(t,e){})),i.register("8AMaG",(function(t,e){"use strict";var r=i("70ozY"),n=i("hQ61Q"),o=i("ivIKB"),s=i("8hXQG").methods,a=i("330Fv"),u=i("8elhw"),c=Function.prototype.apply,l=Function.prototype.call,h=Object.create,f=Object.defineProperties,d=s.on,p=s.emit;t.exports=function(t,e,i){var s,y,v,m,g,b,w,_,S,E,x,O,C,A,k,P=h(null);return y=!1!==e?e:isNaN(t.length)?1:t.length,i.normalizer&&(E=u(i.normalizer),v=E.get,m=E.set,g=E.delete,b=E.clear),null!=i.resolvers&&(k=a(i.resolvers)),A=v?n((function(e){var n,i,o=arguments;if(k&&(o=k(o)),null!==(n=v(o))&&hasOwnProperty.call(P,n))return x&&s.emit("get",n,o,this),P[n];if(i=1===o.length?l.call(t,this,o[0]):c.call(t,this,o),null===n){if(null!==(n=v(o)))throw r("Circular invocation","CIRCULAR_INVOCATION");n=m(o)}else if(hasOwnProperty.call(P,n))throw r("Circular invocation","CIRCULAR_INVOCATION");return P[n]=i,O&&s.emit("set",n,null,i),i}),y):0===e?function(){var e;if(hasOwnProperty.call(P,"data"))return x&&s.emit("get","data",arguments,this),P.data;if(e=arguments.length?c.call(t,this,arguments):l.call(t,this),hasOwnProperty.call(P,"data"))throw r("Circular invocation","CIRCULAR_INVOCATION");return P.data=e,O&&s.emit("set","data",null,e),e}:function(e){var n,i,o=arguments;if(k&&(o=k(arguments)),i=String(o[0]),hasOwnProperty.call(P,i))return x&&s.emit("get",i,o,this),P[i];if(n=1===o.length?l.call(t,this,o[0]):c.call(t,this,o),hasOwnProperty.call(P,i))throw r("Circular invocation","CIRCULAR_INVOCATION");return P[i]=n,O&&s.emit("set",i,null,n),n},s={original:t,memoized:A,profileName:i.profileName,get:function(t){return k&&(t=k(t)),v?v(t):String(t[0])},has:function(t){return hasOwnProperty.call(P,t)},delete:function(t){var e;hasOwnProperty.call(P,t)&&(g&&g(t),e=P[t],delete P[t],C&&s.emit("delete",t,e))},clear:function(){var t=P;b&&b(),P=h(null),s.emit("clear",t)},on:function(t,e){return"get"===t?x=!0:"set"===t?O=!0:"delete"===t&&(C=!0),d.call(this,t,e)},emit:p,updateEnv:function(){t=s.original}},w=v?n((function(t){var e,r=arguments;k&&(r=k(r)),null!==(e=v(r))&&s.delete(e)}),y):0===e?function(){return s.delete("data")}:function(t){return k&&(t=k(arguments)[0]),s.delete(t)},_=n((function(){var t,r=arguments;return 0===e?P.data:(k&&(r=k(r)),t=v?v(r):String(r[0]),P[t])})),S=n((function(){var t,r=arguments;return 0===e?s.has("data"):(k&&(r=k(r)),null!==(t=v?v(r):String(r[0]))&&s.has(t))})),f(A,{__memoized__:o(!0),delete:o(w),clear:o(s.clear),_get:o(_),_has:o(S)}),s}})),i.register("70ozY",(function(t,e){"use strict";var r=i("3cwDV"),n=i("chyim"),o=i("jrF7B"),s=Error.captureStackTrace;t.exports=function(e){var i=new Error(e),a=arguments[1],u=arguments[2];return o(u)||n(a)&&(u=a,a=null),o(u)&&r(i,u),o(a)&&(i.code=a),s&&s(i,t.exports),i}})),i.register("3cwDV",(function(t,e){"use strict";t.exports=i("bgSVy")()?Object.assign:i("2QRmR")})),i.register("bgSVy",(function(t,e){"use strict";t.exports=function(){var t,e=Object.assign;return"function"==typeof e&&(e(t={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}})),i.register("2QRmR",(function(t,e){"use strict";var r=i("gO1wX"),n=i("E431r"),o=Math.max;t.exports=function(t,e){var i,s,a,u=o(arguments.length,2);for(t=Object(n(t)),a=function(r){try{t[r]=e[r]}catch(t){i||(i=t)}},s=1;s<u;++s)r(e=arguments[s]).forEach(a);if(void 0!==i)throw i;return t}})),i.register("gO1wX",(function(t,e){"use strict";t.exports=i("1io6e")()?Object.keys:i("5rLuZ")})),i.register("1io6e",(function(t,e){"use strict";t.exports=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}})),i.register("5rLuZ",(function(t,e){"use strict";var r=i("jrF7B"),n=Object.keys;t.exports=function(t){return n(r(t)?Object(t):t)}})),i.register("chyim",(function(t,e){"use strict";var r=i("jrF7B"),n={function:!0,object:!0};t.exports=function(t){return r(t)&&n[typeof t]||!1}})),i.register("hQ61Q",(function(t,e){"use strict";var r,n,o,s,a,u=i("7lItd"),c=function(t,e){return e};try{Object.defineProperty(c,"length",{configurable:!0,writable:!1,enumerable:!1,value:1})}catch(t){}1===c.length?(r={configurable:!0,writable:!1,enumerable:!1},n=Object.defineProperty,t.exports=function(t,e){return e=u(e),t.length===e?t:(r.value=e,n(t,"length",r))}):(s=i("hqUhU"),a=[],o=function(t){var e,r=0;if(a[t])return a[t];for(e=[];t--;)e.push("a"+(++r).toString(36));return new Function("fn","return function ("+e.join(", ")+") { return fn.apply(this, arguments); };")},t.exports=function(t,e){var r;if(e=u(e),t.length===e)return t;r=o(e)(t);try{s(r,t)}catch(t){}return r})})),i.register("hqUhU",(function(t,e){"use strict";var r=i("E431r"),n=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.getOwnPropertySymbols;t.exports=function(t,e){var i,u=Object(r(e));if(t=Object(r(t)),s(u).forEach((function(r){try{n(t,r,o(e,r))}catch(t){i=t}})),"function"==typeof a&&a(u).forEach((function(r){try{n(t,r,o(e,r))}catch(t){i=t}})),void 0!==i)throw i;return t}})),i.register("ivIKB",(function(t,e){"use strict";var r=i("fclUu"),n=i("2LlRU"),o=i("3cwDV"),s=i("aLv3I"),a=i("hqSUx"),u=t.exports=function(t,e){var n,i,u,c,l;return arguments.length<2||"string"!=typeof t?(c=e,e=t,t=null):c=arguments[2],r(t)?(n=a.call(t,"c"),i=a.call(t,"e"),u=a.call(t,"w")):(n=u=!0,i=!1),l={value:e,configurable:n,enumerable:i,writable:u},c?o(s(c),l):l};u.gs=function(t,e,i){var u,c,l,h;return"string"!=typeof t?(l=i,i=e,e=t,t=null):l=arguments[3],r(e)?n(e)?r(i)?n(i)||(l=i,i=void 0):i=void 0:(l=e,e=i=void 0):e=void 0,r(t)?(u=a.call(t,"c"),c=a.call(t,"e")):(u=!0,c=!1),h={get:e,set:i,configurable:u,enumerable:c},l?o(s(l),h):h}})),i.register("fclUu",(function(t,e){"use strict";t.exports=function(t){return null!=t}})),i.register("2LlRU",(function(t,e){"use strict";var r=i("crcQe"),n=/^\s*class[\s{/}]/,o=Function.prototype.toString;t.exports=function(t){return!!r(t)&&!n.test(o.call(t))}})),i.register("crcQe",(function(t,e){"use strict";var r=i("526Yq");t.exports=function(t){if("function"!=typeof t)return!1;if(!hasOwnProperty.call(t,"length"))return!1;try{if("number"!=typeof t.length)return!1;if("function"!=typeof t.call)return!1;if("function"!=typeof t.apply)return!1}catch(t){return!1}return!r(t)}})),i.register("526Yq",(function(t,e){"use strict";var r=i("briWm");t.exports=function(t){if(!r(t))return!1;try{return!!t.constructor&&t.constructor.prototype===t}catch(t){return!1}}})),i.register("briWm",(function(t,e){"use strict";var r=i("fclUu"),n={object:!0,function:!0,undefined:!0};t.exports=function(t){return!!r(t)&&hasOwnProperty.call(n,typeof t)}})),i.register("hqSUx",(function(t,e){"use strict";t.exports=i("hKWMT")()?String.prototype.contains:i("4TQTq")})),i.register("hKWMT",(function(t,e){"use strict";var r="razdwatrzy";t.exports=function(){return"function"==typeof r.contains&&(!0===r.contains("dwa")&&!1===r.contains("foo"))}})),i.register("4TQTq",(function(t,e){"use strict";var r=String.prototype.indexOf;t.exports=function(t){return r.call(this,t,arguments[1])>-1}})),i.register("8hXQG",(function(t,e){"use strict";var r,n,o,s,a,u,c,l=i("ivIKB"),h=i("lQKDy"),f=Function.prototype.apply,d=Function.prototype.call,p=Object.create,y=Object.defineProperty,v=Object.defineProperties,m=Object.prototype.hasOwnProperty,g={configurable:!0,enumerable:!1,writable:!0};n=function(t,e){var n,i;return h(e),i=this,r.call(this,t,n=function(){o.call(i,t,n),f.call(e,this,arguments)}),n.__eeOnceListener__=e,this},s=function(t){var e,r,n,i,o;if(m.call(this,"__ee__")&&(i=this.__ee__[t]))if("object"==typeof i){for(r=arguments.length,o=new Array(r-1),e=1;e<r;++e)o[e-1]=arguments[e];for(i=i.slice(),e=0;n=i[e];++e)f.call(n,this,o)}else switch(arguments.length){case 1:d.call(i,this);break;case 2:d.call(i,this,arguments[1]);break;case 3:d.call(i,this,arguments[1],arguments[2]);break;default:for(r=arguments.length,o=new Array(r-1),e=1;e<r;++e)o[e-1]=arguments[e];f.call(i,this,o)}},a={on:r=function(t,e){var r;return h(e),m.call(this,"__ee__")?r=this.__ee__:(r=g.value=p(null),y(this,"__ee__",g),g.value=null),r[t]?"object"==typeof r[t]?r[t].push(e):r[t]=[r[t],e]:r[t]=e,this},once:n,off:o=function(t,e){var r,n,i,o;if(h(e),!m.call(this,"__ee__"))return this;if(!(r=this.__ee__)[t])return this;if("object"==typeof(n=r[t]))for(o=0;i=n[o];++o)i!==e&&i.__eeOnceListener__!==e||(2===n.length?r[t]=n[o?0:1]:n.splice(o,1));else n!==e&&n.__eeOnceListener__!==e||delete r[t];return this},emit:s},u={on:l(r),once:l(n),off:l(o),emit:l(s)},c=v({},u),t.exports=e=function(t){return null==t?p(c):v(Object(t),u)},e.methods=a})),i.register("330Fv",(function(t,e){"use strict";var r,n=i("dmDTp"),o=i("jrF7B"),s=i("lQKDy"),a=Array.prototype.slice;r=function(t){return this.map((function(e,r){return e?e(t[r]):t[r]})).concat(a.call(t,this.length))},t.exports=function(t){return(t=n(t)).forEach((function(t){o(t)&&s(t)})),r.bind(t)}})),i.register("dmDTp",(function(t,e){"use strict";var r=i("alRNC"),n=Array.isArray;t.exports=function(t){return n(t)?t:r(t)}})),i.register("alRNC",(function(t,e){"use strict";t.exports=i("6Xp8r")()?Array.from:i("3PtvN")})),i.register("6Xp8r",(function(t,e){"use strict";t.exports=function(){var t,e,r=Array.from;return"function"==typeof r&&(e=r(t=["raz","dwa"]),Boolean(e&&e!==t&&"dwa"===e[1]))}})),i.register("3PtvN",(function(t,e){"use strict";var r=i("5Kf3B").iterator,n=i("al3Uo"),o=i("l8ikE"),s=i("7lItd"),a=i("lQKDy"),u=i("E431r"),c=i("jrF7B"),l=i("i2AdV"),h=Array.isArray,f=Function.prototype.call,d={configurable:!0,enumerable:!0,writable:!0,value:null},p=Object.defineProperty;t.exports=function(t){var e,i,y,v,m,g,b,w,_,S,E=arguments[1],x=arguments[2];if(t=Object(u(t)),c(E)&&a(E),this&&this!==Array&&o(this))e=this;else{if(!E){if(n(t))return 1!==(m=t.length)?Array.apply(null,t):((v=new Array(1))[0]=t[0],v);if(h(t)){for(v=new Array(m=t.length),i=0;i<m;++i)v[i]=t[i];return v}}v=[]}if(!h(t))if(void 0!==(_=t[r])){for(b=a(_).call(t),e&&(v=new e),w=b.next(),i=0;!w.done;)S=E?f.call(E,x,w.value,i):w.value,e?(d.value=S,p(v,i,d)):v[i]=S,w=b.next(),++i;m=i}else if(l(t)){for(m=t.length,e&&(v=new e),i=0,y=0;i<m;++i)S=t[i],i+1<m&&(g=S.charCodeAt(0))>=55296&&g<=56319&&(S+=t[++i]),S=E?f.call(E,x,S,y):S,e?(d.value=S,p(v,y,d)):v[y]=S,++y;m=y}if(void 0===m)for(m=s(t.length),e&&(v=new e(m)),i=0;i<m;++i)S=E?f.call(E,x,t[i],i):t[i],e?(d.value=S,p(v,i,d)):v[i]=S;return e&&(d.value=null,v.length=m),v}})),i.register("5Kf3B",(function(t,e){"use strict";t.exports=i("hJ3at")()?i("1NqsX").Symbol:i("b0XX0")})),i.register("hJ3at",(function(t,e){"use strict";var r=i("1NqsX"),n={object:!0,symbol:!0};t.exports=function(){var t,e=r.Symbol;if("function"!=typeof e)return!1;t=e("test symbol");try{String(t)}catch(t){return!1}return!!n[typeof e.iterator]&&(!!n[typeof e.toPrimitive]&&!!n[typeof e.toStringTag])}})),i.register("1NqsX",(function(t,e){"use strict";t.exports=i("1sWui")()?globalThis:i("fUfds")})),i.register("1sWui",(function(t,e){"use strict";t.exports=function(){return"object"==typeof globalThis&&(!!globalThis&&globalThis.Array===Array)}})),i.register("fUfds",(function(t,e){var r=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};t.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(t){return r()}try{return __global__||r()}finally{delete Object.prototype.__global__}}()})),i.register("b0XX0",(function(t,e){"use strict";var r,n,o,s=i("ivIKB"),a=i("eLQgI"),u=i("1NqsX").Symbol,c=i("2dlME"),l=i("iwaRK"),h=i("fPQyL"),f=Object.create,d=Object.defineProperties,p=Object.defineProperty;if("function"==typeof u)try{String(u()),o=!0}catch(t){}else u=null;n=function(t){if(this instanceof n)throw new TypeError("Symbol is not a constructor");return r(t)},t.exports=r=function t(e){var r;if(this instanceof t)throw new TypeError("Symbol is not a constructor");return o?u(e):(r=f(n.prototype),e=void 0===e?"":String(e),d(r,{__description__:s("",e),__name__:s("",c(e))}))},l(r),h(r),d(n.prototype,{constructor:s(r),toString:s("",(function(){return this.__name__}))}),d(r.prototype,{toString:s((function(){return"Symbol ("+a(this).__description__+")"})),valueOf:s((function(){return a(this)}))}),p(r.prototype,r.toPrimitive,s("",(function(){var t=a(this);return"symbol"==typeof t?t:t.toString()}))),p(r.prototype,r.toStringTag,s("c","Symbol")),p(n.prototype,r.toStringTag,s("c",r.prototype[r.toStringTag])),p(n.prototype,r.toPrimitive,s("c",r.prototype[r.toPrimitive]))})),i.register("eLQgI",(function(t,e){"use strict";var r=i("dm62L");t.exports=function(t){if(!r(t))throw new TypeError(t+" is not a symbol");return t}})),i.register("dm62L",(function(t,e){"use strict";t.exports=function(t){return!!t&&("symbol"==typeof t||!!t.constructor&&("Symbol"===t.constructor.name&&"Symbol"===t[t.constructor.toStringTag]))}})),i.register("2dlME",(function(t,e){"use strict";var r=i("ivIKB"),n=Object.create,o=Object.defineProperty,s=Object.prototype,a=n(null);t.exports=function(t){for(var e,n,i=0;a[t+(i||"")];)++i;return a[t+=i||""]=!0,o(s,e="@@"+t,r.gs(null,(function(t){n||(n=!0,o(this,e,r(t)),n=!1)}))),e}})),i.register("iwaRK",(function(t,e){"use strict";var r=i("ivIKB"),n=i("1NqsX").Symbol;t.exports=function(t){return Object.defineProperties(t,{hasInstance:r("",n&&n.hasInstance||t("hasInstance")),isConcatSpreadable:r("",n&&n.isConcatSpreadable||t("isConcatSpreadable")),iterator:r("",n&&n.iterator||t("iterator")),match:r("",n&&n.match||t("match")),replace:r("",n&&n.replace||t("replace")),search:r("",n&&n.search||t("search")),species:r("",n&&n.species||t("species")),split:r("",n&&n.split||t("split")),toPrimitive:r("",n&&n.toPrimitive||t("toPrimitive")),toStringTag:r("",n&&n.toStringTag||t("toStringTag")),unscopables:r("",n&&n.unscopables||t("unscopables"))})}})),i.register("fPQyL",(function(t,e){"use strict";var r=i("ivIKB"),n=i("eLQgI"),o=Object.create(null);t.exports=function(t){return Object.defineProperties(t,{for:r((function(e){return o[e]?o[e]:o[e]=t(String(e))})),keyFor:r((function(t){var e;for(e in n(t),o)if(o[e]===t)return e}))})}})),i.register("al3Uo",(function(t,e){"use strict";var r=Object.prototype.toString,n=r.call(function(){return arguments}());t.exports=function(t){return r.call(t)===n}})),i.register("l8ikE",(function(t,e){"use strict";var r=Object.prototype.toString,n=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);t.exports=function(t){return"function"==typeof t&&n(r.call(t))}})),i.register("i2AdV",(function(t,e){"use strict";var r=Object.prototype.toString,n=r.call("");t.exports=function(t){return"string"==typeof t||t&&"object"==typeof t&&(t instanceof String||r.call(t)===n)||!1}})),i.register("8elhw",(function(t,e){"use strict";var r=i("lQKDy");t.exports=function(t){var e;return"function"==typeof t?{set:t,get:t}:(e={get:r(t.get)},void 0!==t.set?(e.set=r(t.set),t.delete&&(e.delete=r(t.delete)),t.clear&&(e.clear=r(t.clear)),e):(e.set=e.get,e))}})),i.register("LaiQe",(function(t,e){"use strict";t.exports=function(t){var e,r,n=t.length;if(!n)return"";for(e=String(t[r=0]);--n;)e+=""+t[++r];return e}})),i.register("37auA",(function(t,e){"use strict";t.exports=function(t){return t?function(e){for(var r=String(e[0]),n=0,i=t;--i;)r+=""+e[++n];return r}:function(){return""}}})),i.register("agAu1",(function(t,e){"use strict";var r=i("ghFQU"),n=Object.create;t.exports=function(){var t=0,e=[],i=n(null);return{get:function(t){var n,i=0,o=e,s=t.length;if(0===s)return o[s]||null;if(o=o[s]){for(;i<s-1;){if(-1===(n=r.call(o[0],t[i])))return null;o=o[1][n],++i}return-1===(n=r.call(o[0],t[i]))?null:o[1][n]||null}return null},set:function(n){var o,s=0,a=e,u=n.length;if(0===u)a[u]=++t;else{for(a[u]||(a[u]=[[],[]]),a=a[u];s<u-1;)-1===(o=r.call(a[0],n[s]))&&(o=a[0].push(n[s])-1,a[1].push([[],[]])),a=a[1][o],++s;-1===(o=r.call(a[0],n[s]))&&(o=a[0].push(n[s])-1),a[1][o]=++t}return i[t]=n,t},delete:function(t){var n,o=0,s=e,a=i[t],u=a.length,c=[];if(0===u)delete s[u];else if(s=s[u]){for(;o<u-1;){if(-1===(n=r.call(s[0],a[o])))return;c.push(s,n),s=s[1][n],++o}if(-1===(n=r.call(s[0],a[o])))return;for(t=s[1][n],s[0].splice(n,1),s[1].splice(n,1);!s[0].length&&c.length;)n=c.pop(),(s=c.pop())[0].splice(n,1),s[1].splice(n,1)}delete i[t]},clear:function(){e=[],i=n(null)}}}})),i.register("ghFQU",(function(t,e){"use strict";var r=i("H1iYm"),n=i("7lItd"),o=i("E431r"),s=Array.prototype.indexOf,a=Object.prototype.hasOwnProperty,u=Math.abs,c=Math.floor;t.exports=function(t){var e,i,l,h;if(!r(t))return s.apply(this,arguments);for(i=n(o(this).length),l=arguments[1],e=l=isNaN(l)?0:l>=0?c(l):n(this.length)-c(u(l));e<i;++e)if(a.call(this,e)&&(h=this[e],r(h)))return e;return-1}})),i.register("H1iYm",(function(t,e){"use strict";t.exports=i("8DgKS")()?Number.isNaN:i("cKPz9")})),i.register("8DgKS",(function(t,e){"use strict";t.exports=function(){var t=Number.isNaN;return"function"==typeof t&&(!t({})&&t(NaN)&&!t(34))}})),i.register("cKPz9",(function(t,e){"use strict";t.exports=function(t){return t!=t}})),i.register("3WIFE",(function(t,e){"use strict";var r=i("ghFQU");t.exports=function(){var t=0,e=[],n=[];return{get:function(t){var i=r.call(e,t[0]);return-1===i?null:n[i]},set:function(r){return e.push(r[0]),n.push(++t),t},delete:function(t){var i=r.call(n,t);-1!==i&&(e.splice(i,1),n.splice(i,1))},clear:function(){e=[],n=[]}}}})),i.register("lHxk8",(function(t,e){"use strict";var r=i("ghFQU"),n=Object.create;t.exports=function(t){var e=0,i=[[],[]],o=n(null);return{get:function(e){for(var n,o=0,s=i;o<t-1;){if(-1===(n=r.call(s[0],e[o])))return null;s=s[1][n],++o}return-1===(n=r.call(s[0],e[o]))?null:s[1][n]||null},set:function(n){for(var s,a=0,u=i;a<t-1;)-1===(s=r.call(u[0],n[a]))&&(s=u[0].push(n[a])-1,u[1].push([[],[]])),u=u[1][s],++a;return-1===(s=r.call(u[0],n[a]))&&(s=u[0].push(n[a])-1),u[1][s]=++e,o[e]=n,e},delete:function(e){for(var n,s=0,a=i,u=[],c=o[e];s<t-1;){if(-1===(n=r.call(a[0],c[s])))return;u.push(a,n),a=a[1][n],++s}if(-1!==(n=r.call(a[0],c[s]))){for(e=a[1][n],a[0].splice(n,1),a[1].splice(n,1);!a[0].length&&u.length;)n=u.pop(),(a=u.pop())[0].splice(n,1),a[1].splice(n,1);delete o[e]}},clear:function(){i=[[],[]],o=n(null)}}}})),i.register("ad5QE",(function(t,e){"use strict";var r=i("alRNC"),n=i("lLE0z"),o=i("hqUhU"),s=i("hQ61Q"),a=i("eub9d"),u=Array.prototype.slice,c=Function.prototype.apply,l=Object.create;i("hs9hJ").async=function(t,e){var i,h,f,d=l(null),p=l(null),y=e.memoized,v=e.original;e.memoized=s((function(t){var e=arguments,r=e[e.length-1];return"function"==typeof r&&(i=r,e=u.call(e,0,-1)),y.apply(h=this,f=e)}),y);try{o(e.memoized,y)}catch(t){}e.on("get",(function(t){var r,n,o;if(i){if(d[t])return"function"==typeof d[t]?d[t]=[d[t],i]:d[t].push(i),void(i=null);r=i,n=h,o=f,i=h=f=null,a((function(){var s;hasOwnProperty.call(p,t)?(s=p[t],e.emit("getasync",t,o,n),c.call(r,s.context,s.args)):(i=r,h=n,f=o,y.apply(n,o))}))}})),e.original=function(){var t,n,o,s;return i?(t=r(arguments),n=function t(n){var i,o,u=t.id;if(null!=u){if(delete t.id,i=d[u],delete d[u],i)return o=r(arguments),e.has(u)&&(n?e.delete(u):(p[u]={context:this,args:o},e.emit("setasync",u,"function"==typeof i?1:i.length))),"function"==typeof i?s=c.call(i,this,o):i.forEach((function(t){s=c.call(t,this,o)}),this),s}else a(c.bind(t,this,arguments))},o=i,i=h=f=null,t.push(n),s=c.call(v,this,t),n.cb=o,i=n,s):c.call(v,this,arguments)},e.on("set",(function(t){i?(d[t]?"function"==typeof d[t]?d[t]=[d[t],i.cb]:d[t].push(i.cb):d[t]=i.cb,delete i.cb,i.id=t,i=null):e.delete(t)})),e.on("delete",(function(t){var r;hasOwnProperty.call(d,t)||p[t]&&(r=p[t],delete p[t],e.emit("deleteasync",t,u.call(r.args,1)))})),e.on("clear",(function(){var t=p;p=l(null),e.emit("clearasync",n(t,(function(t){return u.call(t.args,1)})))}))}})),i.register("lLE0z",(function(t,e){"use strict";var r=i("lQKDy"),n=i("iphMp"),o=Function.prototype.call;t.exports=function(t,e){var i={},s=arguments[2];return r(e),n(t,(function(t,r,n,a){i[r]=o.call(e,s,t,r,n,a)})),i}})),i.register("eub9d",(function(t,e){var r=i("b28Wo"),n=function(t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t},o=function(t){var e,r,i=document.createTextNode(""),o=0;return new t((function(){var t;if(e)r&&(e=r.concat(e));else{if(!r)return;e=r}if(r=e,e=null,"function"==typeof r)return t=r,r=null,void t();for(i.data=o=++o%2;r;)t=r.shift(),r.length||(r=null),t()})).observe(i,{characterData:!0}),function(t){n(t),e?"function"==typeof e?e=[e,t]:e.push(t):(e=t,i.data=o=++o%2)}};t.exports=function(){if("object"==typeof r&&r&&"function"==typeof r.nextTick)return r.nextTick;if("function"==typeof queueMicrotask)return function(t){queueMicrotask(n(t))};if("object"==typeof document&&document){if("function"==typeof MutationObserver)return o(MutationObserver);if("function"==typeof WebKitMutationObserver)return o(WebKitMutationObserver)}return"function"==typeof setImmediate?function(t){setImmediate(n(t))}:"function"==typeof setTimeout||"object"==typeof setTimeout?function(t){setTimeout(n(t),0)}:null}()})),i.register("580LQ",(function(t,e){"use strict";var r=i("lLE0z"),n=i("5DjhF"),o=i("eeNNu"),s=i("cBnTC"),a=i("ivGAO"),u=i("eub9d"),c=Object.create,l=n("then","then:finally","done","done:finally");i("hs9hJ").promise=function(t,e){var n=c(null),i=c(null),h=c(null);if(!0===t)t=null;else if(t=o(t),!l[t])throw new TypeError("'"+s(t)+"' is not valid promise mode");e.on("set",(function(r,o,s){var c=!1;if(!a(s))return i[r]=s,void e.emit("setasync",r,1);n[r]=1,h[r]=s;var l=function(t){var o=n[r];if(c)throw new Error("Memoizee error: Detected unordered then|done & finally resolution, which in turn makes proper detection of success/failure impossible (when in 'done:finally' mode)\nConsider to rely on 'then' or 'done' mode instead.");o&&(delete n[r],i[r]=t,e.emit("setasync",r,o))},f=function(){c=!0,n[r]&&(delete n[r],delete h[r],e.delete(r))},d=t;if(d||(d="then"),"then"===d){var p=function(){u(f)};"function"==typeof(s=s.then((function(t){u(l.bind(this,t))}),p)).finally&&s.finally(p)}else if("done"===d){if("function"!=typeof s.done)throw new Error("Memoizee error: Retrieved promise does not implement 'done' in 'done' mode");s.done(l,f)}else if("done:finally"===d){if("function"!=typeof s.done)throw new Error("Memoizee error: Retrieved promise does not implement 'done' in 'done:finally' mode");if("function"!=typeof s.finally)throw new Error("Memoizee error: Retrieved promise does not implement 'finally' in 'done:finally' mode");s.done(l),s.finally(f)}})),e.on("get",(function(t,r,i){var o;if(n[t])++n[t];else{o=h[t];var s=function(){e.emit("getasync",t,r,i)};a(o)?"function"==typeof o.done?o.done(s):o.then((function(){u(s)})):s()}})),e.on("delete",(function(t){if(delete h[t],n[t])delete n[t];else if(hasOwnProperty.call(i,t)){var r=i[t];delete i[t],e.emit("deleteasync",t,[r])}})),e.on("clear",(function(){var t=i;i=c(null),n=c(null),h=c(null),e.emit("clearasync",r(t,(function(t){return[t]})))}))}})),i.register("5DjhF",(function(t,e){"use strict";var r=Array.prototype.forEach,n=Object.create;t.exports=function(t){var e=n(null);return r.call(arguments,(function(t){e[t]=!0})),e}})),i.register("eeNNu",(function(t,e){"use strict";var r=i("E431r"),n=i("etlWQ");t.exports=function(t){return n(r(t))}})),i.register("etlWQ",(function(t,e){"use strict";var r=i("jYBGy");t.exports=function(t){try{return t&&r(t.toString)?t.toString():String(t)}catch(t){throw new TypeError("Passed argument cannot be stringifed")}}})),i.register("jYBGy",(function(t,e){"use strict";t.exports=function(t){return"function"==typeof t}})),i.register("cBnTC",(function(t,e){"use strict";var r=i("6PsRn"),n=/[\n\r\u2028\u2029]/g;t.exports=function(t){var e=r(t);return e.length>100&&(e=e.slice(0,99)+""),e=e.replace(n,(function(t){return JSON.stringify(t).slice(1,-1)}))}})),i.register("6PsRn",(function(t,e){"use strict";var r=i("jYBGy");t.exports=function(t){try{return t&&r(t.toString)?t.toString():String(t)}catch(t){return"<Non-coercible to string value>"}}})),i.register("ivGAO",(function(t,e){function r(t){return!!t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof t.then}t.exports=r,t.exports.default=r})),i.register("d9i5x",(function(t,e){"use strict";var r=i("lQKDy"),n=i("iphMp"),o=i("hs9hJ"),s=Function.prototype.apply;o.dispose=function(t,e,i){var a;if(r(t),i.async&&o.async||i.promise&&o.promise)return e.on("deleteasync",a=function(e,r){s.call(t,null,r)}),void e.on("clearasync",(function(t){n(t,(function(t,e){a(e,t)}))}));e.on("delete",a=function(e,r){t(r)}),e.on("clear",(function(t){n(t,(function(t,e){a(e,t)}))}))}})),i.register("d6fWs",(function(t,e){"use strict";var r=i("alRNC"),n=i("iphMp"),o=i("eub9d"),s=i("ivGAO"),a=i("bhgH3"),u=i("hs9hJ"),c=Function.prototype,l=Math.max,h=Math.min,f=Object.create;u.maxAge=function(t,e,i){var d,p,y,v;(t=a(t))&&(d=f(null),p=i.async&&u.async||i.promise&&u.promise?"async":"",e.on("set"+p,(function(r){d[r]=setTimeout((function(){e.delete(r)}),t),"function"==typeof d[r].unref&&d[r].unref(),v&&(v[r]&&"nextTick"!==v[r]&&clearTimeout(v[r]),v[r]=setTimeout((function(){delete v[r]}),y),"function"==typeof v[r].unref&&v[r].unref())})),e.on("delete"+p,(function(t){clearTimeout(d[t]),delete d[t],v&&("nextTick"!==v[t]&&clearTimeout(v[t]),delete v[t])})),i.preFetch&&(y=!0===i.preFetch||isNaN(i.preFetch)?.333:l(h(Number(i.preFetch),1),0))&&(v={},y=(1-y)*t,e.on("get"+p,(function(t,n,a){v[t]||(v[t]="nextTick",o((function(){var o;"nextTick"===v[t]&&(delete v[t],e.delete(t),i.async&&(n=r(n)).push(c),o=e.memoized.apply(a,n),i.promise&&s(o)&&("function"==typeof o.done?o.done(c,c):o.then(c,c)))})))}))),e.on("clear"+p,(function(){n(d,(function(t){clearTimeout(t)})),d={},v&&(n(v,(function(t){"nextTick"!==t&&clearTimeout(t)})),v={})})))}})),i.register("bhgH3",(function(t,e){"use strict";var r=i("7lItd"),n=i("2oAdx");t.exports=function(t){if((t=r(t))>n)throw new TypeError(t+" exceeds maximum possible timeout");return t}})),i.register("2oAdx",(function(t,e){"use strict";t.exports=2147483647})),i.register("hYaOt",(function(t,e){"use strict";var r=i("7lItd"),n=i("eJwsv"),o=i("hs9hJ");o.max=function(t,e,i){var s,a,u;(t=r(t))&&(a=n(t),s=i.async&&o.async||i.promise&&o.promise?"async":"",e.on("set"+s,u=function(t){void 0!==(t=a.hit(t))&&e.delete(t)}),e.on("get"+s,u),e.on("delete"+s,a.delete),e.on("clear"+s,a.clear))}})),i.register("eJwsv",(function(t,e){"use strict";var r=i("7lItd"),n=Object.create,o=Object.prototype.hasOwnProperty;t.exports=function(t){var e,i=0,s=1,a=n(null),u=n(null),c=0;return t=r(t),{hit:function(r){var n=u[r],l=++c;if(a[l]=r,u[r]=l,!n){if(++i<=t)return;return r=a[s],e(r),r}if(delete a[n],s===n)for(;!o.call(a,++s);)continue},delete:e=function(t){var e=u[t];if(e&&(delete a[e],delete u[t],--i,s===e)){if(!i)return c=0,void(s=1);for(;!o.call(a,++s);)continue}},clear:function(){i=0,s=1,a=n(null),u=n(null),c=0}}}})),i.register("eGYRZ",(function(t,e){"use strict";var r=i("ivIKB"),n=i("hs9hJ"),o=Object.create,s=Object.defineProperties;n.refCounter=function(t,e,i){var a,u;a=o(null),u=i.async&&n.async||i.promise&&n.promise?"async":"",e.on("set"+u,(function(t,e){a[t]=e||1})),e.on("get"+u,(function(t){++a[t]})),e.on("delete"+u,(function(t){delete a[t]})),e.on("clear"+u,(function(){a={}})),s(e.memoized,{deleteRef:r((function(){var t=e.get(arguments);return null===t?null:a[t]?!--a[t]&&(e.delete(t),!0):null})),getRefCount:r((function(){var t=e.get(arguments);return null===t?0:a[t]?a[t]:0}))})}})),i.register("jG5WI",(function(t,e){var r=i("b28Wo");
/*!
 *
 * Copyright 2009-2017 Kris Kowal under the terms of the MIT
 * license found at https://github.com/kriskowal/q/blob/v1/LICENSE
 *
 * With parts by Tyler Close
 * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found
 * at http://www.opensource.org/licenses/mit-license.html
 * Forked at ref_send.js version: 2009-05-11
 *
 * With parts by Mark Miller
 * Copyright (C) 2011 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */!function(e){"use strict";"function"==typeof bootstrap?bootstrap("promise",e):t.exports=e()}((function(){"use strict";var t=!1;try{throw new Error}catch(e){t=!!e.stack}var e,n=E(),i=function(){},o=function(){var t={task:void 0,next:null},e=t,n=!1,i=void 0,s=!1,a=[];function u(){for(var e,r;t.next;)e=(t=t.next).task,t.task=void 0,(r=t.domain)&&(t.domain=void 0,r.enter()),c(e,r);for(;a.length;)c(e=a.pop());n=!1}function c(t,e){try{t()}catch(t){if(s)throw e&&e.exit(),setTimeout(u,0),e&&e.enter(),t;setTimeout((function(){throw t}),0)}e&&e.exit()}if(o=function(t){e=e.next={task:t,domain:s&&r.domain,next:null},n||(n=!0,i())},"object"==typeof r&&"[object process]"===r.toString()&&r.nextTick)s=!0,i=function(){r.nextTick(u)};else if("function"==typeof setImmediate)i="undefined"!=typeof window?setImmediate.bind(window,u):function(){setImmediate(u)};else if("undefined"!=typeof MessageChannel){var l=new MessageChannel;l.port1.onmessage=function(){i=h,l.port1.onmessage=u,u()};var h=function(){l.port2.postMessage(0)};i=function(){setTimeout(u,0),h()}}else i=function(){setTimeout(u,0)};return o.runAfter=function(t){a.push(t),n||(n=!0,i())},o}(),s=Function.call;function a(t){return function(){return s.apply(t,arguments)}}var u,c=a(Array.prototype.slice),l=a(Array.prototype.reduce||function(t,e){var r=0,n=this.length;if(1===arguments.length)for(;;){if(r in this){e=this[r++];break}if(++r>=n)throw new TypeError}for(;r<n;r++)r in this&&(e=t(e,this[r],r));return e}),h=a(Array.prototype.indexOf||function(t){for(var e=0;e<this.length;e++)if(this[e]===t)return e;return-1}),f=a(Array.prototype.map||function(t,e){var r=this,n=[];return l(r,(function(i,o,s){n.push(t.call(e,o,s,r))}),void 0),n}),d=Object.create||function(t){function e(){}return e.prototype=t,new e},p=Object.defineProperty||function(t,e,r){return t[e]=r.value,t},y=a(Object.prototype.hasOwnProperty),v=Object.keys||function(t){var e=[];for(var r in t)y(t,r)&&e.push(r);return e},m=a(Object.prototype.toString);function g(t){return"[object StopIteration]"===m(t)||t instanceof u}u="undefined"!=typeof ReturnValue?ReturnValue:function(t){this.value=t};function b(e,r){if(t&&r.stack&&"object"==typeof e&&null!==e&&e.stack){for(var n=[],i=r;i;i=i.source)i.stack&&(!e.__minimumStackCounter__||e.__minimumStackCounter__>i.stackCounter)&&(p(e,"__minimumStackCounter__",{value:i.stackCounter,configurable:!0}),n.unshift(i.stack));n.unshift(e.stack);var o=function(t){for(var e=t.split("\n"),r=[],n=0;n<e.length;++n){var i=e[n];S(i)||w(i)||!i||r.push(i)}return r.join("\n")}(n.join("\nFrom previous event:\n"));p(e,"stack",{value:o,configurable:!0})}}function w(t){return-1!==t.indexOf("(module.js:")||-1!==t.indexOf("(node.js:")}function _(t){var e=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(t);if(e)return[e[1],Number(e[2])];var r=/at ([^ ]+):(\d+):(?:\d+)$/.exec(t);if(r)return[r[1],Number(r[2])];var n=/.*@(.+):(\d+)$/.exec(t);return n?[n[1],Number(n[2])]:void 0}function S(t){var r=_(t);if(!r)return!1;var i=r[0],o=r[1];return i===e&&o>=n&&o<=J}function E(){if(t)try{throw new Error}catch(t){var r=t.stack.split("\n"),n=_(r[0].indexOf("@")>0?r[1]:r[2]);if(!n)return;return e=n[0],n[1]}}function x(t){return t instanceof P?t:I(t)?function(t){var e=C();return x.nextTick((function(){try{t.then(e.resolve,e.reject,e.notify)}catch(t){e.reject(t)}})),e.promise}(t):q(t)}x.resolve=x,x.nextTick=o,x.longStackSupport=!1;var O=1;function C(){var e,r=[],n=[],i=d(C.prototype),o=d(P.prototype);if(o.promiseDispatch=function(t,i,o){var s=c(arguments);r?(r.push(s),"when"===i&&o[1]&&n.push(o[1])):x.nextTick((function(){e.promiseDispatch.apply(e,s)}))},o.valueOf=function(){if(r)return o;var t=D(e);return R(t)&&(e=t),t},o.inspect=function(){return e?e.inspect():{state:"pending"}},x.longStackSupport&&t)try{throw new Error}catch(t){o.stack=t.stack.substring(t.stack.indexOf("\n")+1),o.stackCounter=O++}function s(i){e=i,x.longStackSupport&&t&&(o.source=i),l(r,(function(t,e){x.nextTick((function(){i.promiseDispatch.apply(i,e)}))}),void 0),r=void 0,n=void 0}return i.promise=o,i.resolve=function(t){e||s(x(t))},i.fulfill=function(t){e||s(q(t))},i.reject=function(t){e||s(z(t))},i.notify=function(t){e||l(n,(function(e,r){x.nextTick((function(){r(t)}))}),void 0)},i}function A(t){if("function"!=typeof t)throw new TypeError("resolver must be a function.");var e=C();try{t(e.resolve,e.reject,e.notify)}catch(t){e.reject(t)}return e.promise}function k(t){return A((function(e,r){for(var n=0,i=t.length;n<i;n++)x(t[n]).then(e,r)}))}function P(t,e,r){void 0===e&&(e=function(t){return z(new Error("Promise does not support operation: "+t))}),void 0===r&&(r=function(){return{state:"unknown"}});var n=d(P.prototype);if(n.promiseDispatch=function(r,i,o){var s;try{s=t[i]?t[i].apply(n,o):e.call(n,i,o)}catch(t){s=z(t)}r&&r(s)},n.inspect=r,r){var i=r();"rejected"===i.state&&(n.exception=i.reason),n.valueOf=function(){var t=r();return"pending"===t.state||"rejected"===t.state?n:t.value}}return n}function j(t,e,r,n){return x(t).then(e,r,n)}function D(t){if(R(t)){var e=t.inspect();if("fulfilled"===e.state)return e.value}return t}function R(t){return t instanceof P}function I(t){return(e=t)===Object(e)&&"function"==typeof t.then;var e}"object"==typeof r&&r&&r.env,x.defer=C,C.prototype.makeNodeResolver=function(){var t=this;return function(e,r){e?t.reject(e):arguments.length>2?t.resolve(c(arguments,1)):t.resolve(r)}},x.Promise=A,x.promise=A,A.race=k,A.all=V,A.reject=z,A.resolve=x,x.passByCopy=function(t){return t},P.prototype.passByCopy=function(){return this},x.join=function(t,e){return x(t).join(e)},P.prototype.join=function(t){return x([this,t]).spread((function(t,e){if(t===e)return t;throw new Error("Q can't join: not the same: "+t+" "+e)}))},x.race=k,P.prototype.race=function(){return this.then(x.race)},x.makePromise=P,P.prototype.toString=function(){return"[object Promise]"},P.prototype.then=function(t,e,r){var n=this,i=C(),o=!1;return x.nextTick((function(){n.promiseDispatch((function(e){o||(o=!0,i.resolve(function(e){try{return"function"==typeof t?t(e):e}catch(t){return z(t)}}(e)))}),"when",[function(t){o||(o=!0,i.resolve(function(t){if("function"==typeof e){b(t,n);try{return e(t)}catch(t){return z(t)}}return z(t)}(t)))}])})),n.promiseDispatch(void 0,"when",[void 0,function(t){var e,n=!1;try{e=function(t){return"function"==typeof r?r(t):t}(t)}catch(t){if(n=!0,!x.onerror)throw t;x.onerror(t)}n||i.notify(e)}]),i.promise},x.tap=function(t,e){return x(t).tap(e)},P.prototype.tap=function(t){return t=x(t),this.then((function(e){return t.fcall(e).thenResolve(e)}))},x.when=j,P.prototype.thenResolve=function(t){return this.then((function(){return t}))},x.thenResolve=function(t,e){return x(t).thenResolve(e)},P.prototype.thenReject=function(t){return this.then((function(){throw t}))},x.thenReject=function(t,e){return x(t).thenReject(e)},x.nearer=D,x.isPromise=R,x.isPromiseAlike=I,x.isPending=function(t){return R(t)&&"pending"===t.inspect().state},P.prototype.isPending=function(){return"pending"===this.inspect().state},x.isFulfilled=function(t){return!R(t)||"fulfilled"===t.inspect().state},P.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},x.isRejected=function(t){return R(t)&&"rejected"===t.inspect().state},P.prototype.isRejected=function(){return"rejected"===this.inspect().state};var T,F,M,N=[],L=[],B=[],U=!0;function $(){N.length=0,L.length=0,U||(U=!0)}function z(t){var e=P({when:function(e){return e&&function(t){if(U){var e=h(L,t);-1!==e&&("object"==typeof r&&"function"==typeof r.emit&&x.nextTick.runAfter((function(){var n=h(B,t);-1!==n&&(r.emit("rejectionHandled",N[e],t),B.splice(n,1))})),L.splice(e,1),N.splice(e,1))}}(this),e?e(t):this}},(function(){return this}),(function(){return{state:"rejected",reason:t}}));return function(t,e){U&&("object"==typeof r&&"function"==typeof r.emit&&x.nextTick.runAfter((function(){-1!==h(L,t)&&(r.emit("unhandledRejection",e,t),B.push(t))})),L.push(t),e&&void 0!==e.stack?N.push(e.stack):N.push("(no stack) "+e))}(e,t),e}function q(t){return P({when:function(){return t},get:function(e){return t[e]},set:function(e,r){t[e]=r},delete:function(e){delete t[e]},post:function(e,r){return null==e?t.apply(void 0,r):t[e].apply(t,r)},apply:function(e,r){return t.apply(e,r)},keys:function(){return v(t)}},void 0,(function(){return{state:"fulfilled",value:t}}))}function Y(t,e,r){return x(t).spread(e,r)}function W(t,e,r){return x(t).dispatch(e,r)}function V(t){return j(t,(function(t){var e=0,r=C();return l(t,(function(n,i,o){var s;R(i)&&"fulfilled"===(s=i.inspect()).state?t[o]=s.value:(++e,j(i,(function(n){t[o]=n,0==--e&&r.resolve(t)}),r.reject,(function(t){r.notify({index:o,value:t})})))}),void 0),0===e&&r.resolve(t),r.promise}))}function H(t){if(0===t.length)return x.resolve();var e=x.defer(),r=0;return l(t,(function(n,i,o){var s=t[o];r++,j(s,(function(t){e.resolve(t)}),(function(t){if(0===--r){var n=t||new Error(""+t);n.message="Q can't get fulfillment value from any promise, all promises were rejected. Last error message: "+n.message,e.reject(n)}}),(function(t){e.notify({index:o,value:t})}))}),void 0),e.promise}function G(t){return j(t,(function(t){return t=f(t,x),j(V(f(t,(function(t){return j(t,i,i)}))),(function(){return t}))}))}x.resetUnhandledRejections=$,x.getUnhandledReasons=function(){return N.slice()},x.stopUnhandledRejectionTracking=function(){$(),U=!1},$(),x.reject=z,x.fulfill=q,x.master=function(t){return P({isDef:function(){}},(function(e,r){return W(t,e,r)}),(function(){return x(t).inspect()}))},x.spread=Y,P.prototype.spread=function(t,e){return this.all().then((function(e){return t.apply(void 0,e)}),e)},x.async=function(t){return function(){function e(t,e){var o;if("undefined"==typeof StopIteration){try{o=r[t](e)}catch(t){return z(t)}return o.done?x(o.value):j(o.value,n,i)}try{o=r[t](e)}catch(t){return g(t)?x(t.value):z(t)}return j(o,n,i)}var r=t.apply(this,arguments),n=e.bind(e,"next"),i=e.bind(e,"throw");return n()}},x.spawn=function(t){x.done(x.async(t)())},x.return=function(t){throw new u(t)},x.promised=function(t){return function(){return Y([this,V(arguments)],(function(e,r){return t.apply(e,r)}))}},x.dispatch=W,P.prototype.dispatch=function(t,e){var r=this,n=C();return x.nextTick((function(){r.promiseDispatch(n.resolve,t,e)})),n.promise},x.get=function(t,e){return x(t).dispatch("get",[e])},P.prototype.get=function(t){return this.dispatch("get",[t])},x.set=function(t,e,r){return x(t).dispatch("set",[e,r])},P.prototype.set=function(t,e){return this.dispatch("set",[t,e])},x.del=x.delete=function(t,e){return x(t).dispatch("delete",[e])},P.prototype.del=P.prototype.delete=function(t){return this.dispatch("delete",[t])},x.mapply=x.post=function(t,e,r){return x(t).dispatch("post",[e,r])},P.prototype.mapply=P.prototype.post=function(t,e){return this.dispatch("post",[t,e])},x.send=x.mcall=x.invoke=function(t,e){return x(t).dispatch("post",[e,c(arguments,2)])},P.prototype.send=P.prototype.mcall=P.prototype.invoke=function(t){return this.dispatch("post",[t,c(arguments,1)])},x.fapply=function(t,e){return x(t).dispatch("apply",[void 0,e])},P.prototype.fapply=function(t){return this.dispatch("apply",[void 0,t])},x.try=x.fcall=function(t){return x(t).dispatch("apply",[void 0,c(arguments,1)])},P.prototype.fcall=function(){return this.dispatch("apply",[void 0,c(arguments)])},x.fbind=function(t){var e=x(t),r=c(arguments,1);return function(){return e.dispatch("apply",[this,r.concat(c(arguments))])}},P.prototype.fbind=function(){var t=this,e=c(arguments);return function(){return t.dispatch("apply",[this,e.concat(c(arguments))])}},x.keys=function(t){return x(t).dispatch("keys",[])},P.prototype.keys=function(){return this.dispatch("keys",[])},x.all=V,P.prototype.all=function(){return V(this)},x.any=H,P.prototype.any=function(){return H(this)},x.allResolved=(T=G,F="allResolved",M="allSettled",function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(F+" is deprecated, use "+M+" instead.",new Error("").stack),T.apply(T,arguments)}),P.prototype.allResolved=function(){return G(this)},x.allSettled=function(t){return x(t).allSettled()},P.prototype.allSettled=function(){return this.then((function(t){return V(f(t,(function(t){function e(){return t.inspect()}return(t=x(t)).then(e,e)})))}))},x.fail=x.catch=function(t,e){return x(t).then(void 0,e)},P.prototype.fail=P.prototype.catch=function(t){return this.then(void 0,t)},x.progress=function(t,e){return x(t).then(void 0,void 0,e)},P.prototype.progress=function(t){return this.then(void 0,void 0,t)},x.fin=x.finally=function(t,e){return x(t).finally(e)},P.prototype.fin=P.prototype.finally=function(t){if(!t||"function"!=typeof t.apply)throw new Error("Q can't apply finally callback");return t=x(t),this.then((function(e){return t.fcall().then((function(){return e}))}),(function(e){return t.fcall().then((function(){throw e}))}))},x.done=function(t,e,r,n){return x(t).done(e,r,n)},P.prototype.done=function(t,e,n){var i=function(t){x.nextTick((function(){if(b(t,o),!x.onerror)throw t;x.onerror(t)}))},o=t||e||n?this.then(t,e,n):this;"object"==typeof r&&r&&r.domain&&(i=r.domain.bind(i)),o.then(void 0,i)},x.timeout=function(t,e,r){return x(t).timeout(e,r)},P.prototype.timeout=function(t,e){var r=C(),n=setTimeout((function(){e&&"string"!=typeof e||((e=new Error(e||"Timed out after "+t+" ms")).code="ETIMEDOUT"),r.reject(e)}),t);return this.then((function(t){clearTimeout(n),r.resolve(t)}),(function(t){clearTimeout(n),r.reject(t)}),r.notify),r.promise},x.delay=function(t,e){return void 0===e&&(e=t,t=void 0),x(t).delay(e)},P.prototype.delay=function(t){return this.then((function(e){var r=C();return setTimeout((function(){r.resolve(e)}),t),r.promise}))},x.nfapply=function(t,e){return x(t).nfapply(e)},P.prototype.nfapply=function(t){var e=C(),r=c(t);return r.push(e.makeNodeResolver()),this.fapply(r).fail(e.reject),e.promise},x.nfcall=function(t){var e=c(arguments,1);return x(t).nfapply(e)},P.prototype.nfcall=function(){var t=c(arguments),e=C();return t.push(e.makeNodeResolver()),this.fapply(t).fail(e.reject),e.promise},x.nfbind=x.denodeify=function(t){if(void 0===t)throw new Error("Q can't wrap an undefined function");var e=c(arguments,1);return function(){var r=e.concat(c(arguments)),n=C();return r.push(n.makeNodeResolver()),x(t).fapply(r).fail(n.reject),n.promise}},P.prototype.nfbind=P.prototype.denodeify=function(){var t=c(arguments);return t.unshift(this),x.denodeify.apply(void 0,t)},x.nbind=function(t,e){var r=c(arguments,2);return function(){var n=r.concat(c(arguments)),i=C();function o(){return t.apply(e,arguments)}return n.push(i.makeNodeResolver()),x(o).fapply(n).fail(i.reject),i.promise}},P.prototype.nbind=function(){var t=c(arguments,0);return t.unshift(this),x.nbind.apply(void 0,t)},x.nmapply=x.npost=function(t,e,r){return x(t).npost(e,r)},P.prototype.nmapply=P.prototype.npost=function(t,e){var r=c(e||[]),n=C();return r.push(n.makeNodeResolver()),this.dispatch("post",[t,r]).fail(n.reject),n.promise},x.nsend=x.nmcall=x.ninvoke=function(t,e){var r=c(arguments,2),n=C();return r.push(n.makeNodeResolver()),x(t).dispatch("post",[e,r]).fail(n.reject),n.promise},P.prototype.nsend=P.prototype.nmcall=P.prototype.ninvoke=function(t){var e=c(arguments,1),r=C();return e.push(r.makeNodeResolver()),this.dispatch("post",[t,e]).fail(r.reject),r.promise},x.nodeify=function(t,e){return x(t).nodeify(e)},P.prototype.nodeify=function(t){if(!t)return this;this.then((function(e){x.nextTick((function(){t(null,e)}))}),(function(e){x.nextTick((function(){t(e)}))}))},x.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var J=E();return x}))})),i.register("l64E9",(function(e,r){var n,o,s,a,u,c,l,h,f,d,p,y,v;t(e.exports,"toPathPieces",(()=>n),(t=>n=t)),t(e.exports,"get",(()=>o),(t=>o=t)),t(e.exports,"set",(()=>s),(t=>s=t)),t(e.exports,"isObject",(()=>a),(t=>a=t)),t(e.exports,"modify",(()=>u),(t=>u=t)),t(e.exports,"remove1",(()=>c),(t=>c=t)),t(e.exports,"remove2",(()=>l),(t=>l=t)),t(e.exports,"rename",(()=>h),(t=>h=t)),t(e.exports,"copy",(()=>f),(t=>f=t)),t(e.exports,"equal",(()=>d),(t=>d=t)),t(e.exports,"unknownOp",(()=>p),(t=>p=t)),t(e.exports,"hashify",(()=>y),(t=>y=t)),t(e.exports,"getIDBError",(()=>v),(t=>v=t));var m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g=i("4Lqvx"),b=i("jglnq"),w=i("9FO8c"),_=function(t,e){for(var r=0;r<e.length-1;r++){var n=e[r];if(!t.hasOwnProperty(n))return;if(t=t[n],!x(t))return}if(t.hasOwnProperty(e[r]))return t},S=function(t,e,r){for(var n=r;n<e.length-1;n++)t[e[n]]={},t=t[e[n]];return t},E=function(t,e,r){(t=_(t,e))&&r(t,e[e.length-1])},x=function(t){return"object"===(void 0===t?"undefined":m(t))&&null!==t},O=function(t,e,r,n){var i=e[e.length-1],o=function(r){t=S(t,e,r),n(t,i)};if(!t.hasOwnProperty(e[0]))return o(0);if(e.length>1){t=t[e[0]];for(var s=1;s<e.length-1;s++){var a=e[s];if(!x(t[a]))return;if(Array.isArray(t)&&a<0)return;if(!t.hasOwnProperty(a))return o(s);t=t[a]}}r(t,i)},C=function t(e,r,n){var i=function(i){var o=[],s=!0,a=!1,u=void 0;try{for(var c,l=n[Symbol.iterator]();!(s=(c=l.next()).done);s=!0){var h=c.value;if(h[0]===i){if(1===h.length)return;o.push(h.slice(1))}}}catch(t){a=!0,u=t}finally{try{!s&&l.return&&l.return()}finally{if(a)throw u}}if(o.length){var f=e[i];r[i]=new f.constructor,t(f,r[i],o)}else r[i]=b(e[i])};for(var o in e)i(o)},A=function(t,e,r){for(var n=0;n<r.length-1;n++){var i=r[n];if(t=t[i],!x(t))return;e[i]=new t.constructor,e=e[i]}if(t.hasOwnProperty(r[n]))return e[r[n]]=t[r[n]],t},k=function(t){if(void 0!==t)return w(t)};n=function(t){return t.split(".")},o=E,s=function(t,e,r){var n=function(t,e){return t[e]=r};O(t,e,n,n)},a=x,u=O,c=function(t,e){for(var r=0;r<e.length-1;r++)if(t=t[e[r]],!x(t))return;if(Array.isArray(t)){var n=Number.parseFloat(e[r]);Number.isInteger(n)&&t.splice(n,1)}else delete t[e[r]]},l=function(t,e){var r=new t.constructor;return C(t,r,e),r},h=function(t,e,r){E(t,e,(function(t,e){t[r]=t[e],delete t[e]}))},f=function(t,e){var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var u=s.value,c=new t.constructor;A(t,c,u)&&r.push(c)}}catch(t){i=!0,o=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw o}}return r.reduce(g,{})},d=function(t,e){return k(t)===k(e)},p=function(t){throw Error("unknown operator '"+t+"'")},y=k,v=function(t){return Error(t.target.error.message)}})),i.register("4Lqvx",(function(e,r){var n;n=e.exports,Object.defineProperty(n,"__esModule",{value:!0,configurable:!0}),t(e.exports,"default",(()=>c));var i=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===o}(t)}(t)};var o="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function s(t,e){return!1!==e.clone&&e.isMergeableObject(t)?u((r=t,Array.isArray(r)?[]:{}),t,e):t;var r}function a(t,e,r){return t.concat(e).map((function(t){return s(t,r)}))}function u(t,e,r){(r=r||{}).arrayMerge=r.arrayMerge||a,r.isMergeableObject=r.isMergeableObject||i;var n=Array.isArray(e);return n===Array.isArray(t)?n?r.arrayMerge(t,e,r):function(t,e,r){var n={};return r.isMergeableObject(t)&&Object.keys(t).forEach((function(e){n[e]=s(t[e],r)})),Object.keys(e).forEach((function(i){r.isMergeableObject(e[i])&&t[i]?n[i]=u(t[i],e[i],r):n[i]=s(e[i],r)})),n}(t,e,r):s(e,r)}u.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,r){return u(t,r,e)}),{})};var c=u})),i.register("jglnq",(function(t,e){var r=i("6ymgl").Buffer,n=function(){"use strict";function t(t,e){return null!=e&&t instanceof e}var e,n,i;try{e=Map}catch(t){e=function(){}}try{n=Set}catch(t){n=function(){}}try{i=Promise}catch(t){i=function(){}}function o(s,u,c,l,h){"object"==typeof u&&(c=u.depth,l=u.prototype,h=u.includeNonEnumerable,u=u.circular);var f=[],d=[],p=void 0!==r;return void 0===u&&(u=!0),void 0===c&&(c=1/0),function s(c,y){if(null===c)return null;if(0===y)return c;var v,m;if("object"!=typeof c)return c;if(t(c,e))v=new e;else if(t(c,n))v=new n;else if(t(c,i))v=new i((function(t,e){c.then((function(e){t(s(e,y-1))}),(function(t){e(s(t,y-1))}))}));else if(o.__isArray(c))v=[];else if(o.__isRegExp(c))v=new RegExp(c.source,a(c)),c.lastIndex&&(v.lastIndex=c.lastIndex);else if(o.__isDate(c))v=new Date(c.getTime());else{if(p&&r.isBuffer(c))return v=r.allocUnsafe?r.allocUnsafe(c.length):new r(c.length),c.copy(v),v;t(c,Error)?v=Object.create(c):void 0===l?(m=Object.getPrototypeOf(c),v=Object.create(m)):(v=Object.create(l),m=l)}if(u){var g=f.indexOf(c);if(-1!=g)return d[g];f.push(c),d.push(v)}for(var b in t(c,e)&&c.forEach((function(t,e){var r=s(e,y-1),n=s(t,y-1);v.set(r,n)})),t(c,n)&&c.forEach((function(t){var e=s(t,y-1);v.add(e)})),c){var w;m&&(w=Object.getOwnPropertyDescriptor(m,b)),w&&null==w.set||(v[b]=s(c[b],y-1))}if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(c);for(b=0;b<_.length;b++){var S=_[b];(!(x=Object.getOwnPropertyDescriptor(c,S))||x.enumerable||h)&&(v[S]=s(c[S],y-1),x.enumerable||Object.defineProperty(v,S,{enumerable:!1}))}}if(h){var E=Object.getOwnPropertyNames(c);for(b=0;b<E.length;b++){var x,O=E[b];(x=Object.getOwnPropertyDescriptor(c,O))&&x.enumerable||(v[O]=s(c[O],y-1),Object.defineProperty(v,O,{enumerable:!1}))}}return v}(s,c)}function s(t){return Object.prototype.toString.call(t)}function a(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return o.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},o.__objToStr=s,o.__isDate=function(t){return"object"==typeof t&&"[object Date]"===s(t)},o.__isArray=function(t){return"object"==typeof t&&"[object Array]"===s(t)},o.__isRegExp=function(t){return"object"==typeof t&&"[object RegExp]"===s(t)},o.__getRegExpFlags=a,o}();t.exports&&(t.exports=n)})),i.register("9FO8c",(function(t,e){t.exports=function t(e,r,n){function i(s,a){if(!r[s]){if(!e[s]){var u=void 0;if(!a&&u)return u(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var c=r[s]={exports:{}};e[s][0].call(c.exports,(function(t){var r=e[s][1][t];return i(r||t)}),c,c.exports,t,e,r,n)}return r[s].exports}for(var o=void 0,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(t,e,r){(function(n,i,o,s,a,u,c,l,h){"use strict";function f(t,e){return y(t,e=d(t,e))}function d(t,e){if((e=e||{}).algorithm=e.algorithm||"sha1",e.encoding=e.encoding||"hex",e.excludeValues=!!e.excludeValues,e.algorithm=e.algorithm.toLowerCase(),e.encoding=e.encoding.toLowerCase(),e.ignoreUnknown=!0===e.ignoreUnknown,e.respectType=!1!==e.respectType,e.respectFunctionNames=!1!==e.respectFunctionNames,e.respectFunctionProperties=!1!==e.respectFunctionProperties,e.unorderedArrays=!0===e.unorderedArrays,e.unorderedSets=!1!==e.unorderedSets,e.unorderedObjects=!1!==e.unorderedObjects,e.replacer=e.replacer||void 0,e.excludeKeys=e.excludeKeys||void 0,void 0===t)throw new Error("Object argument required.");for(var r=0;r<b.length;++r)b[r].toLowerCase()===e.algorithm.toLowerCase()&&(e.algorithm=b[r]);if(-1===b.indexOf(e.algorithm))throw new Error('Algorithm "'+e.algorithm+'"  not supported. supported values: '+b.join(", "));if(-1===w.indexOf(e.encoding)&&"passthrough"!==e.algorithm)throw new Error('Encoding "'+e.encoding+'"  not supported. supported values: '+w.join(", "));return e}function p(t){return"function"==typeof t&&null!=/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(t))}function y(t,e){var r;if(void 0===(r="passthrough"!==e.algorithm?g.createHash(e.algorithm):new m).write&&(r.write=r.update,r.end=r.update),v(e,r).dispatch(t),r.update||r.end(""),r.digest)return r.digest("buffer"===e.encoding?void 0:e.encoding);var n=r.read();return"buffer"===e.encoding?n:n.toString(e.encoding)}function v(t,e,r){r=r||[];var n=function(t){return e.update?e.update(t,"utf8"):e.write(t,"utf8")};return{dispatch:function(e){t.replacer&&(e=t.replacer(e));var r=typeof e;return null===e&&(r="null"),this["_"+r](e)},_object:function(e){var i=/\[object (.*)\]/i,s=Object.prototype.toString.call(e),a=i.exec(s);a=(a=a?a[1]:"unknown:["+s+"]").toLowerCase();var u=null;if((u=r.indexOf(e))>=0)return this.dispatch("[CIRCULAR:"+u+"]");if(r.push(e),void 0!==o&&o.isBuffer&&o.isBuffer(e))return n("buffer:"),n(e);if("object"===a||"function"===a){var c=Object.keys(e);t.unorderedObjects&&(c=c.sort()),!1===t.respectType||p(e)||c.splice(0,0,"prototype","__proto__","constructor"),t.excludeKeys&&(c=c.filter((function(e){return!t.excludeKeys(e)}))),n("object:"+c.length+":");var l=this;return c.forEach((function(r){l.dispatch(r),n(":"),t.excludeValues||l.dispatch(e[r]),n(",")}))}if(!this["_"+a]){if(t.ignoreUnknown)return n("["+a+"]");throw new Error('Unknown object type "'+a+'"')}this["_"+a](e)},_array:function(e,i){i=void 0!==i?i:!1!==t.unorderedArrays;var o=this;if(n("array:"+e.length+":"),!i||e.length<=1)return e.forEach((function(t){return o.dispatch(t)}));var s=[],a=e.map((function(e){var n=new m,i=r.slice();return v(t,n,i).dispatch(e),s=s.concat(i.slice(r.length)),n.read().toString()}));return r=r.concat(s),a.sort(),this._array(a,!1)},_date:function(t){return n("date:"+t.toJSON())},_symbol:function(t){return n("symbol:"+t.toString())},_error:function(t){return n("error:"+t.toString())},_boolean:function(t){return n("bool:"+t.toString())},_string:function(t){n("string:"+t.length+":"),n(t.toString())},_function:function(e){n("fn:"),p(e)?this.dispatch("[native]"):this.dispatch(e.toString()),!1!==t.respectFunctionNames&&this.dispatch("function-name:"+String(e.name)),t.respectFunctionProperties&&this._object(e)},_number:function(t){return n("number:"+t.toString())},_xml:function(t){return n("xml:"+t.toString())},_null:function(){return n("Null")},_undefined:function(){return n("Undefined")},_regexp:function(t){return n("regex:"+t.toString())},_uint8array:function(t){return n("uint8array:"),this.dispatch(Array.prototype.slice.call(t))},_uint8clampedarray:function(t){return n("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(t))},_int8array:function(t){return n("uint8array:"),this.dispatch(Array.prototype.slice.call(t))},_uint16array:function(t){return n("uint16array:"),this.dispatch(Array.prototype.slice.call(t))},_int16array:function(t){return n("uint16array:"),this.dispatch(Array.prototype.slice.call(t))},_uint32array:function(t){return n("uint32array:"),this.dispatch(Array.prototype.slice.call(t))},_int32array:function(t){return n("uint32array:"),this.dispatch(Array.prototype.slice.call(t))},_float32array:function(t){return n("float32array:"),this.dispatch(Array.prototype.slice.call(t))},_float64array:function(t){return n("float64array:"),this.dispatch(Array.prototype.slice.call(t))},_arraybuffer:function(t){return n("arraybuffer:"),this.dispatch(new Uint8Array(t))},_url:function(t){return n("url:"+t.toString(),"utf8")},_map:function(e){n("map:");var r=Array.from(e);return this._array(r,!1!==t.unorderedSets)},_set:function(e){n("set:");var r=Array.from(e);return this._array(r,!1!==t.unorderedSets)},_blob:function(){if(t.ignoreUnknown)return n("[blob]");throw Error('Hashing Blob objects is currently not supported\n(see https://github.com/puleos/object-hash/issues/26)\nUse "options.replacer" or "options.ignoreUnknown"\n')},_domwindow:function(){return n("domwindow")},_process:function(){return n("process")},_timer:function(){return n("timer")},_pipe:function(){return n("pipe")},_tcp:function(){return n("tcp")},_udp:function(){return n("udp")},_tty:function(){return n("tty")},_statwatcher:function(){return n("statwatcher")},_securecontext:function(){return n("securecontext")},_connection:function(){return n("connection")},_zlib:function(){return n("zlib")},_context:function(){return n("context")},_nodescript:function(){return n("nodescript")},_httpparser:function(){return n("httpparser")},_dataview:function(){return n("dataview")},_signal:function(){return n("signal")},_fsevent:function(){return n("fsevent")},_tlswrap:function(){return n("tlswrap")}}}function m(){return{buf:"",write:function(t){this.buf+=t},end:function(t){this.buf+=t},read:function(){return this.buf}}}var g=t("crypto");(r=e.exports=f).sha1=function(t){return f(t)},r.keys=function(t){return f(t,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},r.MD5=function(t){return f(t,{algorithm:"md5",encoding:"hex"})},r.keysMD5=function(t){return f(t,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var b=g.getHashes?g.getHashes().slice():["sha1","md5"];b.push("passthrough");var w=["buffer","hex","binary","base64"];r.writeToStream=function(t,e,r){return void 0===r&&(r=e,e={}),v(e=d(t,e),r).dispatch(t)}}).call(this,t("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_e8180ef5.js","/")},{buffer:3,crypto:5,lYpoI2:10}],2:[function(t,e,r){(function(t,e,n,i,o,s,a,u,c){var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function e(t){var e=t.charCodeAt(0);return e===o||e===h?62:e===s||e===f?63:e<a?-1:e<a+10?e-a+26+26:e<c+26?e-c:e<u+26?e-u+26:void 0}function r(t){function r(t){c[h++]=t}var n,o,s,a,u,c;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var l=t.length;u="="===t.charAt(l-2)?2:"="===t.charAt(l-1)?1:0,c=new i(3*t.length/4-u),s=u>0?t.length-4:t.length;var h=0;for(n=0,o=0;n<s;n+=4,o+=3)r((16711680&(a=e(t.charAt(n))<<18|e(t.charAt(n+1))<<12|e(t.charAt(n+2))<<6|e(t.charAt(n+3))))>>16),r((65280&a)>>8),r(255&a);return 2===u?r(255&(a=e(t.charAt(n))<<2|e(t.charAt(n+1))>>4)):1===u&&(r((a=e(t.charAt(n))<<10|e(t.charAt(n+1))<<4|e(t.charAt(n+2))>>2)>>8&255),r(255&a)),c}function n(t){function e(t){return l.charAt(t)}function r(t){return e(t>>18&63)+e(t>>12&63)+e(t>>6&63)+e(63&t)}var n,i,o,s=t.length%3,a="";for(n=0,o=t.length-s;n<o;n+=3)a+=r(i=(t[n]<<16)+(t[n+1]<<8)+t[n+2]);switch(s){case 1:a+=e((i=t[t.length-1])>>2),a+=e(i<<4&63),a+="==";break;case 2:a+=e((i=(t[t.length-2]<<8)+t[t.length-1])>>10),a+=e(i>>4&63),a+=e(i<<2&63),a+="="}return a}var i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="+".charCodeAt(0),s="/".charCodeAt(0),a="0".charCodeAt(0),u="a".charCodeAt(0),c="A".charCodeAt(0),h="-".charCodeAt(0),f="_".charCodeAt(0);t.toByteArray=r,t.fromByteArray=n}(void 0===r?this.base64js={}:r)}).call(this,t("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:10}],3:[function(t,e,r){(function(e,n,i,o,s,a,u,c,l){function i(t,e,r){if(!(this instanceof i))return new i(t,e,r);var n,o,s,a=typeof t;if("base64"===e&&"string"===a)for(t=F(t);t.length%4!=0;)t+="=";if("number"===a)n=N(t);else if("string"===a)n=i.byteLength(t,e);else{if("object"!==a)throw new Error("First argument needs to be a number, array or string.");n=N(t.length)}if(i._useTypedArrays?o=i._augment(new Uint8Array(n)):((o=this).length=n,o._isBuffer=!0),i._useTypedArrays&&"number"==typeof t.byteLength)o._set(t);else if(B(t))for(s=0;s<n;s++)i.isBuffer(t)?o[s]=t.readUInt8(s):o[s]=t[s];else if("string"===a)o.write(t,0,e);else if("number"===a&&!i._useTypedArrays&&!r)for(s=0;s<n;s++)o[s]=0;return o}function h(t,e,r,n){r=Number(r)||0;var o=t.length-r;n?(n=Number(n))>o&&(n=o):n=o;var s=e.length;K(s%2==0,"Invalid hex string"),n>s/2&&(n=s/2);for(var a=0;a<n;a++){var u=parseInt(e.substr(2*a,2),16);K(!isNaN(u),"Invalid hex string"),t[r+a]=u}return i._charsWritten=2*a,a}function f(t,e,r,n){return i._charsWritten=W($(e),t,r,n)}function d(t,e,r,n){return i._charsWritten=W(z(e),t,r,n)}function p(t,e,r,n){return d(t,e,r,n)}function y(t,e,r,n){return i._charsWritten=W(Y(e),t,r,n)}function v(t,e,r,n){return i._charsWritten=W(q(e),t,r,n)}function m(t,e,r){return 0===e&&r===t.length?Q.fromByteArray(t):Q.fromByteArray(t.slice(e,r))}function g(t,e,r){var n="",i="";r=Math.min(t.length,r);for(var o=e;o<r;o++)t[o]<=127?(n+=V(i)+String.fromCharCode(t[o]),i=""):i+="%"+t[o].toString(16);return n+V(i)}function b(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;i++)n+=String.fromCharCode(t[i]);return n}function w(t,e,r){return b(t,e,r)}function _(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;o++)i+=U(t[o]);return i}function S(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function E(t,e,r,n){n||(K("boolean"==typeof r,"missing or invalid endian"),K(null!=e,"missing offset"),K(e+1<t.length,"Trying to read beyond buffer length"));var i,o=t.length;if(!(e>=o))return r?(i=t[e],e+1<o&&(i|=t[e+1]<<8)):(i=t[e]<<8,e+1<o&&(i|=t[e+1])),i}function x(t,e,r,n){n||(K("boolean"==typeof r,"missing or invalid endian"),K(null!=e,"missing offset"),K(e+3<t.length,"Trying to read beyond buffer length"));var i,o=t.length;if(!(e>=o))return r?(e+2<o&&(i=t[e+2]<<16),e+1<o&&(i|=t[e+1]<<8),i|=t[e],e+3<o&&(i+=t[e+3]<<24>>>0)):(e+1<o&&(i=t[e+1]<<16),e+2<o&&(i|=t[e+2]<<8),e+3<o&&(i|=t[e+3]),i+=t[e]<<24>>>0),i}function O(t,e,r,n){if(n||(K("boolean"==typeof r,"missing or invalid endian"),K(null!=e,"missing offset"),K(e+1<t.length,"Trying to read beyond buffer length")),!(e>=t.length)){var i=E(t,e,r,!0);return 32768&i?-1*(65535-i+1):i}}function C(t,e,r,n){if(n||(K("boolean"==typeof r,"missing or invalid endian"),K(null!=e,"missing offset"),K(e+3<t.length,"Trying to read beyond buffer length")),!(e>=t.length)){var i=x(t,e,r,!0);return 2147483648&i?-1*(4294967295-i+1):i}}function A(t,e,r,n){return n||(K("boolean"==typeof r,"missing or invalid endian"),K(e+3<t.length,"Trying to read beyond buffer length")),Z.read(t,e,r,23,4)}function k(t,e,r,n){return n||(K("boolean"==typeof r,"missing or invalid endian"),K(e+7<t.length,"Trying to read beyond buffer length")),Z.read(t,e,r,52,8)}function P(t,e,r,n,i){i||(K(null!=e,"missing value"),K("boolean"==typeof n,"missing or invalid endian"),K(null!=r,"missing offset"),K(r+1<t.length,"trying to write beyond buffer length"),H(e,65535));var o=t.length;if(!(r>=o))for(var s=0,a=Math.min(o-r,2);s<a;s++)t[r+s]=(e&255<<8*(n?s:1-s))>>>8*(n?s:1-s)}function j(t,e,r,n,i){i||(K(null!=e,"missing value"),K("boolean"==typeof n,"missing or invalid endian"),K(null!=r,"missing offset"),K(r+3<t.length,"trying to write beyond buffer length"),H(e,4294967295));var o=t.length;if(!(r>=o))for(var s=0,a=Math.min(o-r,4);s<a;s++)t[r+s]=e>>>8*(n?s:3-s)&255}function D(t,e,r,n,i){i||(K(null!=e,"missing value"),K("boolean"==typeof n,"missing or invalid endian"),K(null!=r,"missing offset"),K(r+1<t.length,"Trying to write beyond buffer length"),G(e,32767,-32768)),r>=t.length||P(t,e>=0?e:65535+e+1,r,n,i)}function R(t,e,r,n,i){i||(K(null!=e,"missing value"),K("boolean"==typeof n,"missing or invalid endian"),K(null!=r,"missing offset"),K(r+3<t.length,"Trying to write beyond buffer length"),G(e,2147483647,-2147483648)),r>=t.length||j(t,e>=0?e:4294967295+e+1,r,n,i)}function I(t,e,r,n,i){i||(K(null!=e,"missing value"),K("boolean"==typeof n,"missing or invalid endian"),K(null!=r,"missing offset"),K(r+3<t.length,"Trying to write beyond buffer length"),J(e,34028234663852886e22,-34028234663852886e22)),r>=t.length||Z.write(t,e,r,n,23,4)}function T(t,e,r,n,i){i||(K(null!=e,"missing value"),K("boolean"==typeof n,"missing or invalid endian"),K(null!=r,"missing offset"),K(r+7<t.length,"Trying to write beyond buffer length"),J(e,17976931348623157e292,-17976931348623157e292)),r>=t.length||Z.write(t,e,r,n,52,8)}function F(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function M(t,e,r){return"number"!=typeof t?r:(t=~~t)>=e?e:t>=0||(t+=e)>=0?t:0}function N(t){return(t=~~Math.ceil(+t))<0?0:t}function L(t){return(Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)})(t)}function B(t){return L(t)||i.isBuffer(t)||t&&"object"==typeof t&&"number"==typeof t.length}function U(t){return t<16?"0"+t.toString(16):t.toString(16)}function $(t){for(var e=[],r=0;r<t.length;r++){var n=t.charCodeAt(r);if(n<=127)e.push(t.charCodeAt(r));else{var i=r;n>=55296&&n<=57343&&r++;for(var o=encodeURIComponent(t.slice(i,r+1)).substr(1).split("%"),s=0;s<o.length;s++)e.push(parseInt(o[s],16))}}return e}function z(t){for(var e=[],r=0;r<t.length;r++)e.push(255&t.charCodeAt(r));return e}function q(t){for(var e,r,n,i=[],o=0;o<t.length;o++)r=(e=t.charCodeAt(o))>>8,n=e%256,i.push(n),i.push(r);return i}function Y(t){return Q.toByteArray(t)}function W(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);i++)e[i+r]=t[i];return i}function V(t){try{return decodeURIComponent(t)}catch(t){return String.fromCharCode(65533)}}function H(t,e){K("number"==typeof t,"cannot write a non-number as a number"),K(t>=0,"specified a negative value for writing an unsigned value"),K(t<=e,"value is larger than maximum value for type"),K(Math.floor(t)===t,"value has a fractional component")}function G(t,e,r){K("number"==typeof t,"cannot write a non-number as a number"),K(t<=e,"value larger than maximum allowed value"),K(t>=r,"value smaller than minimum allowed value"),K(Math.floor(t)===t,"value has a fractional component")}function J(t,e,r){K("number"==typeof t,"cannot write a non-number as a number"),K(t<=e,"value larger than maximum allowed value"),K(t>=r,"value smaller than minimum allowed value")}function K(t,e){if(!t)throw new Error(e||"Failed assertion")}var Q=t("base64-js"),Z=t("ieee754");r.Buffer=i,r.SlowBuffer=i,r.INSPECT_MAX_BYTES=50,i.poolSize=8192,i._useTypedArrays=function(){try{var t=new ArrayBuffer(0),e=new Uint8Array(t);return e.foo=function(){return 42},42===e.foo()&&"function"==typeof e.subarray}catch(t){return!1}}(),i.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.isBuffer=function(t){return!(null==t||!t._isBuffer)},i.byteLength=function(t,e){var r;switch(t+="",e||"utf8"){case"hex":r=t.length/2;break;case"utf8":case"utf-8":r=$(t).length;break;case"ascii":case"binary":case"raw":r=t.length;break;case"base64":r=Y(t).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":r=2*t.length;break;default:throw new Error("Unknown encoding")}return r},i.concat=function(t,e){if(K(L(t),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."),0===t.length)return new i(0);if(1===t.length)return t[0];var r;if("number"!=typeof e)for(e=0,r=0;r<t.length;r++)e+=t[r].length;var n=new i(e),o=0;for(r=0;r<t.length;r++){var s=t[r];s.copy(n,o),o+=s.length}return n},i.prototype.write=function(t,e,r,n){if(isFinite(e))isFinite(r)||(n=r,r=void 0);else{var i=n;n=e,e=r,r=i}e=Number(e)||0;var o,s=this.length-e;switch(r?(r=Number(r))>s&&(r=s):r=s,n=String(n||"utf8").toLowerCase()){case"hex":o=h(this,t,e,r);break;case"utf8":case"utf-8":o=f(this,t,e,r);break;case"ascii":o=d(this,t,e,r);break;case"binary":o=p(this,t,e,r);break;case"base64":o=y(this,t,e,r);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":o=v(this,t,e,r);break;default:throw new Error("Unknown encoding")}return o},i.prototype.toString=function(t,e,r){var n,i=this;if(t=String(t||"utf8").toLowerCase(),e=Number(e)||0,(r=void 0!==r?Number(r):r=i.length)===e)return"";switch(t){case"hex":n=_(i,e,r);break;case"utf8":case"utf-8":n=g(i,e,r);break;case"ascii":n=b(i,e,r);break;case"binary":n=w(i,e,r);break;case"base64":n=m(i,e,r);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=S(i,e,r);break;default:throw new Error("Unknown encoding")}return n},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},i.prototype.copy=function(t,e,r,n){var o=this;if(r||(r=0),n||0===n||(n=this.length),e||(e=0),n!==r&&0!==t.length&&0!==o.length){K(n>=r,"sourceEnd < sourceStart"),K(e>=0&&e<t.length,"targetStart out of bounds"),K(r>=0&&r<o.length,"sourceStart out of bounds"),K(n>=0&&n<=o.length,"sourceEnd out of bounds"),n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var s=n-r;if(s<100||!i._useTypedArrays)for(var a=0;a<s;a++)t[a+e]=this[a+r];else t._set(this.subarray(r,r+s),e)}},i.prototype.slice=function(t,e){var r=this.length;if(t=M(t,r,0),e=M(e,r,r),i._useTypedArrays)return i._augment(this.subarray(t,e));for(var n=e-t,o=new i(n,void 0,!0),s=0;s<n;s++)o[s]=this[s+t];return o},i.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},i.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},i.prototype.readUInt8=function(t,e){if(e||(K(null!=t,"missing offset"),K(t<this.length,"Trying to read beyond buffer length")),!(t>=this.length))return this[t]},i.prototype.readUInt16LE=function(t,e){return E(this,t,!0,e)},i.prototype.readUInt16BE=function(t,e){return E(this,t,!1,e)},i.prototype.readUInt32LE=function(t,e){return x(this,t,!0,e)},i.prototype.readUInt32BE=function(t,e){return x(this,t,!1,e)},i.prototype.readInt8=function(t,e){if(e||(K(null!=t,"missing offset"),K(t<this.length,"Trying to read beyond buffer length")),!(t>=this.length))return 128&this[t]?-1*(255-this[t]+1):this[t]},i.prototype.readInt16LE=function(t,e){return O(this,t,!0,e)},i.prototype.readInt16BE=function(t,e){return O(this,t,!1,e)},i.prototype.readInt32LE=function(t,e){return C(this,t,!0,e)},i.prototype.readInt32BE=function(t,e){return C(this,t,!1,e)},i.prototype.readFloatLE=function(t,e){return A(this,t,!0,e)},i.prototype.readFloatBE=function(t,e){return A(this,t,!1,e)},i.prototype.readDoubleLE=function(t,e){return k(this,t,!0,e)},i.prototype.readDoubleBE=function(t,e){return k(this,t,!1,e)},i.prototype.writeUInt8=function(t,e,r){r||(K(null!=t,"missing value"),K(null!=e,"missing offset"),K(e<this.length,"trying to write beyond buffer length"),H(t,255)),e>=this.length||(this[e]=t)},i.prototype.writeUInt16LE=function(t,e,r){P(this,t,e,!0,r)},i.prototype.writeUInt16BE=function(t,e,r){P(this,t,e,!1,r)},i.prototype.writeUInt32LE=function(t,e,r){j(this,t,e,!0,r)},i.prototype.writeUInt32BE=function(t,e,r){j(this,t,e,!1,r)},i.prototype.writeInt8=function(t,e,r){r||(K(null!=t,"missing value"),K(null!=e,"missing offset"),K(e<this.length,"Trying to write beyond buffer length"),G(t,127,-128)),e>=this.length||(t>=0?this.writeUInt8(t,e,r):this.writeUInt8(255+t+1,e,r))},i.prototype.writeInt16LE=function(t,e,r){D(this,t,e,!0,r)},i.prototype.writeInt16BE=function(t,e,r){D(this,t,e,!1,r)},i.prototype.writeInt32LE=function(t,e,r){R(this,t,e,!0,r)},i.prototype.writeInt32BE=function(t,e,r){R(this,t,e,!1,r)},i.prototype.writeFloatLE=function(t,e,r){I(this,t,e,!0,r)},i.prototype.writeFloatBE=function(t,e,r){I(this,t,e,!1,r)},i.prototype.writeDoubleLE=function(t,e,r){T(this,t,e,!0,r)},i.prototype.writeDoubleBE=function(t,e,r){T(this,t,e,!1,r)},i.prototype.fill=function(t,e,r){if(t||(t=0),e||(e=0),r||(r=this.length),"string"==typeof t&&(t=t.charCodeAt(0)),K("number"==typeof t&&!isNaN(t),"value is not a number"),K(r>=e,"end < start"),r!==e&&0!==this.length){K(e>=0&&e<this.length,"start out of bounds"),K(r>=0&&r<=this.length,"end out of bounds");for(var n=e;n<r;n++)this[n]=t}},i.prototype.inspect=function(){for(var t=[],e=this.length,n=0;n<e;n++)if(t[n]=U(this[n]),n===r.INSPECT_MAX_BYTES){t[n+1]="...";break}return"<Buffer "+t.join(" ")+">"},i.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(i._useTypedArrays)return new i(this).buffer;for(var t=new Uint8Array(this.length),e=0,r=t.length;e<r;e+=1)t[e]=this[e];return t.buffer}throw new Error("Buffer.toArrayBuffer not supported in this browser")};var X=i.prototype;i._augment=function(t){return t._isBuffer=!0,t._get=t.get,t._set=t.set,t.get=X.get,t.set=X.set,t.write=X.write,t.toString=X.toString,t.toLocaleString=X.toString,t.toJSON=X.toJSON,t.copy=X.copy,t.slice=X.slice,t.readUInt8=X.readUInt8,t.readUInt16LE=X.readUInt16LE,t.readUInt16BE=X.readUInt16BE,t.readUInt32LE=X.readUInt32LE,t.readUInt32BE=X.readUInt32BE,t.readInt8=X.readInt8,t.readInt16LE=X.readInt16LE,t.readInt16BE=X.readInt16BE,t.readInt32LE=X.readInt32LE,t.readInt32BE=X.readInt32BE,t.readFloatLE=X.readFloatLE,t.readFloatBE=X.readFloatBE,t.readDoubleLE=X.readDoubleLE,t.readDoubleBE=X.readDoubleBE,t.writeUInt8=X.writeUInt8,t.writeUInt16LE=X.writeUInt16LE,t.writeUInt16BE=X.writeUInt16BE,t.writeUInt32LE=X.writeUInt32LE,t.writeUInt32BE=X.writeUInt32BE,t.writeInt8=X.writeInt8,t.writeInt16LE=X.writeInt16LE,t.writeInt16BE=X.writeInt16BE,t.writeInt32LE=X.writeInt32LE,t.writeInt32BE=X.writeInt32BE,t.writeFloatLE=X.writeFloatLE,t.writeFloatBE=X.writeFloatBE,t.writeDoubleLE=X.writeDoubleLE,t.writeDoubleBE=X.writeDoubleBE,t.fill=X.fill,t.inspect=X.inspect,t.toArrayBuffer=X.toArrayBuffer,t}}).call(this,t("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:11,lYpoI2:10}],4:[function(t,e,r){(function(r,n,i,o,s,a,u,c,l){function h(t,e){if(t.length%p!=0){var r=t.length+(p-t.length%p);t=i.concat([t,y],r)}for(var n=[],o=e?t.readInt32BE:t.readInt32LE,s=0;s<t.length;s+=p)n.push(o.call(t,s));return n}function f(t,e,r){for(var n=new i(e),o=r?n.writeInt32BE:n.writeInt32LE,s=0;s<t.length;s++)o.call(n,t[s],4*s,!0);return n}function d(t,e,r,n){return i.isBuffer(t)||(t=new i(t)),f(e(h(t,n),t.length*v),r,n)}i=t("buffer").Buffer;var p=4,y=new i(p);y.fill(0);var v=8;e.exports={hash:d}}).call(this,t("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:10}],5:[function(t,e,r){(function(e,n,i,o,s,a,u,c,l){function h(t,e,r){i.isBuffer(e)||(e=new i(e)),i.isBuffer(r)||(r=new i(r)),e.length>b?e=t(e):e.length<b&&(e=i.concat([e,w],b));for(var n=new i(b),o=new i(b),s=0;s<b;s++)n[s]=54^e[s],o[s]=92^e[s];var a=t(i.concat([n,r]));return t(i.concat([o,a]))}function f(t,e){var r=g[t=t||"sha1"],n=[];return r||d("algorithm:",t,"is not yet supported"),{update:function(t){return i.isBuffer(t)||(t=new i(t)),n.push(t),t.length,this},digest:function(t){var o=i.concat(n),s=e?h(r,e,o):r(o);return n=null,t?s.toString(t):s}}}function d(){var t=[].slice.call(arguments).join(" ");throw new Error([t,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}function p(t,e){for(var r in t)e(t[r],r)}i=t("buffer").Buffer;var y=t("./sha"),v=t("./sha256"),m=t("./rng"),g={sha1:y,sha256:v,md5:t("./md5")},b=64,w=new i(b);w.fill(0),r.createHash=function(t){return f(t)},r.createHmac=function(t,e){return f(t,e)},r.randomBytes=function(t,e){if(!e||!e.call)return new i(m(t));try{e.call(this,void 0,new i(m(t)))}catch(t){e(t)}},p(["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],(function(t){r[t]=function(){d("sorry,",t,"is not implemented yet")}}))}).call(this,t("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:10}],6:[function(t,e,r){(function(r,n,i,o,s,a,u,c,l){function h(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;for(var r=1732584193,n=-271733879,i=-1732584194,o=271733878,s=0;s<t.length;s+=16){var a=r,u=n,c=i,l=o;r=d(r,n,i,o,t[s+0],7,-680876936),o=d(o,r,n,i,t[s+1],12,-389564586),i=d(i,o,r,n,t[s+2],17,606105819),n=d(n,i,o,r,t[s+3],22,-1044525330),r=d(r,n,i,o,t[s+4],7,-176418897),o=d(o,r,n,i,t[s+5],12,1200080426),i=d(i,o,r,n,t[s+6],17,-1473231341),n=d(n,i,o,r,t[s+7],22,-45705983),r=d(r,n,i,o,t[s+8],7,1770035416),o=d(o,r,n,i,t[s+9],12,-1958414417),i=d(i,o,r,n,t[s+10],17,-42063),n=d(n,i,o,r,t[s+11],22,-1990404162),r=d(r,n,i,o,t[s+12],7,1804603682),o=d(o,r,n,i,t[s+13],12,-40341101),i=d(i,o,r,n,t[s+14],17,-1502002290),r=p(r,n=d(n,i,o,r,t[s+15],22,1236535329),i,o,t[s+1],5,-165796510),o=p(o,r,n,i,t[s+6],9,-1069501632),i=p(i,o,r,n,t[s+11],14,643717713),n=p(n,i,o,r,t[s+0],20,-373897302),r=p(r,n,i,o,t[s+5],5,-701558691),o=p(o,r,n,i,t[s+10],9,38016083),i=p(i,o,r,n,t[s+15],14,-660478335),n=p(n,i,o,r,t[s+4],20,-405537848),r=p(r,n,i,o,t[s+9],5,568446438),o=p(o,r,n,i,t[s+14],9,-1019803690),i=p(i,o,r,n,t[s+3],14,-187363961),n=p(n,i,o,r,t[s+8],20,1163531501),r=p(r,n,i,o,t[s+13],5,-1444681467),o=p(o,r,n,i,t[s+2],9,-51403784),i=p(i,o,r,n,t[s+7],14,1735328473),r=y(r,n=p(n,i,o,r,t[s+12],20,-1926607734),i,o,t[s+5],4,-378558),o=y(o,r,n,i,t[s+8],11,-2022574463),i=y(i,o,r,n,t[s+11],16,1839030562),n=y(n,i,o,r,t[s+14],23,-35309556),r=y(r,n,i,o,t[s+1],4,-1530992060),o=y(o,r,n,i,t[s+4],11,1272893353),i=y(i,o,r,n,t[s+7],16,-155497632),n=y(n,i,o,r,t[s+10],23,-1094730640),r=y(r,n,i,o,t[s+13],4,681279174),o=y(o,r,n,i,t[s+0],11,-358537222),i=y(i,o,r,n,t[s+3],16,-722521979),n=y(n,i,o,r,t[s+6],23,76029189),r=y(r,n,i,o,t[s+9],4,-640364487),o=y(o,r,n,i,t[s+12],11,-421815835),i=y(i,o,r,n,t[s+15],16,530742520),r=v(r,n=y(n,i,o,r,t[s+2],23,-995338651),i,o,t[s+0],6,-198630844),o=v(o,r,n,i,t[s+7],10,1126891415),i=v(i,o,r,n,t[s+14],15,-1416354905),n=v(n,i,o,r,t[s+5],21,-57434055),r=v(r,n,i,o,t[s+12],6,1700485571),o=v(o,r,n,i,t[s+3],10,-1894986606),i=v(i,o,r,n,t[s+10],15,-1051523),n=v(n,i,o,r,t[s+1],21,-2054922799),r=v(r,n,i,o,t[s+8],6,1873313359),o=v(o,r,n,i,t[s+15],10,-30611744),i=v(i,o,r,n,t[s+6],15,-1560198380),n=v(n,i,o,r,t[s+13],21,1309151649),r=v(r,n,i,o,t[s+4],6,-145523070),o=v(o,r,n,i,t[s+11],10,-1120210379),i=v(i,o,r,n,t[s+2],15,718787259),n=v(n,i,o,r,t[s+9],21,-343485551),r=m(r,a),n=m(n,u),i=m(i,c),o=m(o,l)}return Array(r,n,i,o)}function f(t,e,r,n,i,o){return m(g(m(m(e,t),m(n,o)),i),r)}function d(t,e,r,n,i,o,s){return f(e&r|~e&n,t,e,i,o,s)}function p(t,e,r,n,i,o,s){return f(e&n|r&~n,t,e,i,o,s)}function y(t,e,r,n,i,o,s){return f(e^r^n,t,e,i,o,s)}function v(t,e,r,n,i,o,s){return f(r^(e|~n),t,e,i,o,s)}function m(t,e){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}function g(t,e){return t<<e|t>>>32-e}var b=t("./helpers");e.exports=function(t){return b.hash(t,h,16)}}).call(this,t("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:10}],7:[function(t,e,r){(function(t,r,n,i,o,s,a,u,c){!function(){var t,r;t=function(t){for(var e,r=new Array(t),n=0;n<t;n++)0==(3&n)&&(e=4294967296*Math.random()),r[n]=e>>>((3&n)<<3)&255;return r},this.crypto&&crypto.getRandomValues&&(r=function(t){var e=new Uint8Array(t);return crypto.getRandomValues(e),e}),e.exports=r||t}()}).call(this,t("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:10}],8:[function(t,e,r){(function(r,n,i,o,s,a,u,c,l){function h(t,e){t[e>>5]|=128<<24-e%32,t[15+(e+64>>9<<4)]=e;for(var r=Array(80),n=1732584193,i=-271733879,o=-1732584194,s=271733878,a=-1009589776,u=0;u<t.length;u+=16){for(var c=n,l=i,h=o,v=s,m=a,g=0;g<80;g++){r[g]=g<16?t[u+g]:y(r[g-3]^r[g-8]^r[g-14]^r[g-16],1);var b=p(p(y(n,5),f(g,i,o,s)),p(p(a,r[g]),d(g)));a=s,s=o,o=y(i,30),i=n,n=b}n=p(n,c),i=p(i,l),o=p(o,h),s=p(s,v),a=p(a,m)}return Array(n,i,o,s,a)}function f(t,e,r,n){return t<20?e&r|~e&n:t<40?e^r^n:t<60?e&r|e&n|r&n:e^r^n}function d(t){return t<20?1518500249:t<40?1859775393:t<60?-1894007588:-899497514}function p(t,e){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}function y(t,e){return t<<e|t>>>32-e}var v=t("./helpers");e.exports=function(t){return v.hash(t,h,20,!0)}}).call(this,t("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:10}],9:[function(t,e,r){(function(r,n,i,o,s,a,u,c,l){var h=t("./helpers"),f=function(t,e){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r},d=function(t,e){return t>>>e|t<<32-e},p=function(t,e){return t>>>e},y=function(t,e,r){return t&e^~t&r},v=function(t,e,r){return t&e^t&r^e&r},m=function(t){return d(t,2)^d(t,13)^d(t,22)},g=function(t){return d(t,6)^d(t,11)^d(t,25)},b=function(t){return d(t,7)^d(t,18)^p(t,3)},w=function(t){return d(t,17)^d(t,19)^p(t,10)},_=function(t,e){var r,n,i,o,s,a,u,c,l,h,d=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),p=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),_=new Array(64);t[e>>5]|=128<<24-e%32,t[15+(e+64>>9<<4)]=e;for(var S=0;S<t.length;S+=16){r=p[0],n=p[1],i=p[2],o=p[3],s=p[4],a=p[5],u=p[6],c=p[7];for(var E=0;E<64;E++)_[E]=E<16?t[E+S]:f(f(f(w(_[E-2]),_[E-7]),b(_[E-15])),_[E-16]),l=f(f(f(f(c,g(s)),y(s,a,u)),d[E]),_[E]),h=f(m(r),v(r,n,i)),c=u,u=a,a=s,s=f(o,l),o=i,i=n,n=r,r=f(l,h);p[0]=f(r,p[0]),p[1]=f(n,p[1]),p[2]=f(i,p[2]),p[3]=f(o,p[3]),p[4]=f(s,p[4]),p[5]=f(a,p[5]),p[6]=f(u,p[6]),p[7]=f(c,p[7])}return p};e.exports=function(t){return h.hash(t,_,32,!0)}}).call(this,t("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:10}],10:[function(t,e,r){(function(t,r,n,i,o,s,a,u,c){function l(){}(t=e.exports={}).nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(e){var r=[];return window.addEventListener("message",(function(t){var e=t.source;(e===window||null===e)&&"process-tick"===t.data&&(t.stopPropagation(),r.length>0)&&r.shift()()}),!0),function(t){r.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),t.title="browser",t.browser=!0,t.env={},t.argv=[],t.on=l,t.addListener=l,t.once=l,t.off=l,t.removeListener=l,t.removeAllListeners=l,t.emit=l,t.binding=function(t){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(t){throw new Error("process.chdir is not supported")}}).call(this,t("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:10}],11:[function(t,e,r){(function(t,e,n,i,o,s,a,u,c){r.read=function(t,e,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,c=u>>1,l=-7,h=r?i-1:0,f=r?-1:1,d=t[e+h];for(h+=f,o=d&(1<<-l)-1,d>>=-l,l+=a;l>0;o=256*o+t[e+h],h+=f,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=256*s+t[e+h],h+=f,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,n),o-=c}return(d?-1:1)*s*Math.pow(2,o-n)},r.write=function(t,e,r,n,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,h=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,p=n?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(s++,u/=2),s+h>=l?(a=0,s=l):s+h>=1?(a=(e*u-1)*Math.pow(2,i),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[r+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[r+d]=255&s,d+=p,s/=256,c-=8);t[r+d-p]|=128*y}}).call(this,t("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/ieee754/index.js","/node_modules/ieee754")},{buffer:3,lYpoI2:10}]},{},[1])(1)})),i.register("deQOo",(function(t,e){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();var o=i("jG5WI"),s=i("l64E9").getIDBError,a=i("6S58j"),u=i("2zZP1"),c=i("39e9e"),l=i("2h5Wi"),h=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._db=e,this._name=r,this._indexes=new Set}return n(t,[{key:"_isIndexed",value:function(t){return this._indexes.has(t)||"_id"===t}},{key:"find",value:function(t,e){var r=new a(this,"readonly");return r.filter(t),e&&r.project(e),r}},{key:"findOne",value:function(t,e,r){"function"==typeof e&&(r=e,e=null);var n=o.defer();return this.find(t,e).limit(1).toArray((function(t,e){t?n.reject(t):n.resolve(e[0])})),n.promise.nodeify(r),n.promise}},{key:"aggregate",value:function(t){return u(this,t)}},{key:"_validate",value:function(t){for(var e in t){if("$"===e[0])throw Error("field name cannot start with '$'");var n=t[e];if(Array.isArray(n)){var i=!0,o=!1,s=void 0;try{for(var a,u=n[Symbol.iterator]();!(i=(a=u.next()).done);i=!0){var c=a.value;this._validate(c)}}catch(t){o=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(o)throw s}}}else"object"===(void 0===n?"undefined":r(n))&&this._validate(n)}}},{key:"insert",value:function(t,e){var r=this;Array.isArray(t)||(t=[t]);var n=o.defer();return this._db._getConn((function(e,i){var o=void 0,a=r._name;try{o=i.transaction([a],"readwrite")}catch(t){return n.reject(t)}o.oncomplete=function(){return n.resolve()},o.onerror=function(t){return n.reject(s(t))};var u=o.objectStore(a),c=0;!function e(){var i=t[c];try{r._validate(i)}catch(t){return n.reject(t)}u.add(i).onsuccess=function(){++c<t.length&&e()}}()})),n.promise.nodeify(e),n.promise}},{key:"_modify",value:function(t,e,r){var n=o.defer(),i=new a(this,"readwrite");return i.filter(e),t(i,(function(t){t?n.reject(t):n.resolve()})),n.promise.nodeify(r),n.promise}},{key:"update",value:function(t,e,r){return this._modify((function(t,r){return c(t,e,r)}),t,r)}},{key:"remove",value:function(t,e){return this._modify(l,t,e)}},{key:"name",get:function(){return this._name}}]),t}();t.exports=h})),i.register("6S58j",(function(t,e){"use strict";var r=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();var n=i("gh2nv"),o=i("jG5WI"),s=i("14JGR"),a=i("cWstc"),u=i("kAlnE"),c=i("9QGAR"),l=i("iAv54"),h=i("eiw6X"),f=i("ePFfG"),d=i("a85tr"),p=function(t){function e(t,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n._col=t,n._read_pref=r,n._pipeline=[],n._next=n._init,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"_forEach",value:function(t,e){var r=this;this._next((function(n,i){i?(t(i),r.emit("data",i),r._forEach(t,e)):(r.emit("end"),e(n))}))}},{key:"forEach",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},e=arguments[1],r=o.defer();return this._forEach(t,(function(t){t?r.reject(t):r.resolve()})),r.promise.nodeify(e),r.promise}},{key:"_toArray",value:function(t){var e=[];this._forEach((function(t){e.push(t)}),(function(r){return t(r,e)}))}},{key:"toArray",value:function(t){var e=o.defer();return this._toArray((function(t,r){t?e.reject(t):e.resolve(r)})),e.promise.nodeify(t),e.promise}},{key:"_assertUnopened",value:function(){if(this._opened)throw Error("cursor has already been opened")}},{key:"hint",value:function(t){if(this._assertUnopened(),!this._col._isIndexed(t))throw Error("index '"+t+"' does not exist");return this._hint=t,this}},{key:"_addStage",value:function(t,e){return this._assertUnopened(),this._pipeline.push([t,e]),this}},{key:"filter",value:function(t){return this._addStage(a,t)}},{key:"limit",value:function(t){return this._addStage(d,t)}},{key:"skip",value:function(t){return this._addStage(f,t)}},{key:"project",value:function(t){return this._addStage(u,t)}},{key:"group",value:function(t){return this._addStage(c,t)}},{key:"unwind",value:function(t){return this._addStage(l,t)}},{key:"sort",value:function(t){return this._addStage(h,t)}},{key:"_init",value:function(t){this._opened=!0,this._next=s(this),this._next(t)}}]),e}(n);t.exports=p})),i.register("14JGR",(function(t,e){"use strict";var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw o}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=i("4Lqvx"),o=i("l64E9"),s=o.hashify,a=o.getIDBError,u=i("cWstc"),c=i("eiw6X"),l=i("khc0D"),h=l.build,f=l.Conjunction,d=l.Disjunction,p=l.Exists,y=function(t){return t.openCursor()},v=function(t){var e=t.pipeline,i=[],o=[],s=0,a=!0,l=!1,h=void 0;try{for(var d,p=e[Symbol.iterator]();!(a=(d=p.next()).done);a=!0){var y=r(d.value,2),v=y[0],m=y[1];if(v===c)o.push(m);else{if(v!==u)break;i.push(m)}s++}}catch(t){l=!0,h=t}finally{try{!a&&p.return&&p.return()}finally{if(l)throw h}}e.splice(0,s),t.pred=function(t){return t.length>1?new f(t):t[0]}(i),o.length&&(t.sort_spec=o.reduce(n,{}))},m=function(t){var e=t.col,r=t.pred;t.clauses=function(t,e){if(!e)return[];var r=[],n=[],i=!0,o=!1,s=void 0;try{for(var a,u=e.getClauses()[Symbol.iterator]();!(i=(a=u.next()).done);i=!0){var c=a.value;t._isIndexed(c.path.literal)&&(c instanceof p?n.push(c):r.push(c))}}catch(t){o=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(o)throw s}}return r.length?r:n}(e,r)},g=function(t){var e=void 0,r=void 0,n=function(t){var e,r,n,i=t.pred,o=t.clauses,s=t.pipeline,a=void 0;if(o.length){var c=o[0];if(a=function(t){return function(t,e){var r=e.idb_key_range||null,n=e.idb_direction||"next",i=e.path.literal;return("_id"===i?t:t.index(i)).openCursor(r,n)}(t,c)},!i||c===i)return a;r=(e=c).parent,n=e.index,r.args.splice(n,1)}else if(a=y,!i)return a;return s.unshift([u,i]),a}(t),i=function(t){r.onsuccess=function(r){e=r.target.result,t()},r.onerror=function(e){return t(a(e))}},o=function(t){i(t),e.continue()},s=function(u){!function(t,e){var r=t.col,n=t.read_pref;r._db._getConn((function(t,i){if(t)return e(t);var o=r._name;try{var s=i.transaction([o],n);s.onerror=function(t){return e(a(t))},e(null,s.objectStore(o))}catch(t){e(t)}}))}(t,(function(t,a){if(t)return u(t);r=n(a),i((function(t){e&&(s=o),u(t)}))}))};return function(t){return s((function(r){return t(r,e)}))}},b=function(t,e){var n=t.pipeline,i=!0,o=!1,s=void 0;try{for(var a,u=n[Symbol.iterator]();!(i=(a=u.next()).done);i=!0){var c=r(a.value,2);e=(0,c[0])(e,c[1])}}catch(t){o=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(o)throw s}}return e},w=function(t){for(var e=[],r=t.pred.args,n=r.length-1;n>=0;n--){var i={col:t.col,read_pref:t.read_pref,pred:r[n],pipeline:[]};m(i);var o=_(i);e.push(b(i,o))}var a=new Set,u=function(){return e.pop()},l=u(),h=function(t){(l=u())?f(t):t()},f=function t(e){l((function(r,n,i){r?e(r):n?!function(t){var e=s(t._id);if(!a.has(e))return a.add(e)}(n)?t(e):e(null,n,i):h(e)}))},d=t.sort_spec;return d&&t.pipeline.push([c,d]),f},_=function(t){var e=g(t);return function(t){e((function(e,r){r?t(null,r.value,r):t(e)}))}};t.exports=function(t){var e=void 0;try{e=function(t){var e=[],n=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var c=r(s.value,2),l=c[0],f=c[1];if(l===u){var d=h(f);if(!1===d)return;if(!d)continue;f=d}e.push([l,f])}}catch(t){i=!0,o=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw o}}return e}(t._pipeline)}catch(t){return function(e){return e(t)}}if(!e)return function(t){return t()};var n={col:t._col,read_pref:t._read_pref,hint:t._hint,pipeline:e};v(n);var i=void 0;return n.pred instanceof d?i=w(n):(m(n),function(t){if(t.hint){var e=t.clauses,r=t.hint,n=[],i=!0,o=!1,s=void 0;try{for(var a,u=e[Symbol.iterator]();!(i=(a=u.next()).done);i=!0){var c=a.value;c.path.literal===r&&n.push(c)}}catch(t){o=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(o)throw s}}n.length||(n=[{path:{literal:r}}]),t.clauses=n}}(n),function(t){if(t.sort_spec){var e=t.clauses,r=t.sort_spec,n=t.pipeline,i=[],o=!0,s=!1,a=void 0;try{for(var u,l=e[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var h=u.value,f=h.path.literal;if(r.hasOwnProperty(f)){var d=r[f];h.idb_direction=d>0?"next":"prev",i.push(h)}}}catch(t){s=!0,a=t}finally{try{!o&&l.return&&l.return()}finally{if(s)throw a}}i.length?t.clauses=i:n.unshift([c,r])}}(n),i=_(n)),b(n,i)}})),i.register("cWstc",(function(t,e){"use strict";var r=i("45dAS");t.exports=function(t,e){return function(n){!function i(){t((function(t,o,s){o?e.run(new r(o))?n(null,o,s):i():n(t)}))}()}}})),i.register("45dAS",(function(t,e){"use strict";var r=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();var n=i("6ES6Y"),o=i("l64E9").get,s=i("hctUd"),a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._doc=e,this.get=n(this.get)}return r(t,[{key:"get",value:function(t){var e=s;return o(this._doc,t.pieces,(function(t,r){e=t[r]})),e}},{key:"ensure",value:function(t){var e=!0,r=!1,n=void 0;try{for(var i,o=t[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;if(this.get(a)===s)return!1}}catch(t){r=!0,n=t}finally{try{!e&&o.return&&o.return()}finally{if(r)throw n}}return!0}}]),t}();t.exports=a})),i.register("hctUd",(function(t,e){"use strict";t.exports=Symbol("missing")})),i.register("eiw6X",(function(t,e){"use strict";var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw o}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=i("l64E9"),o=n.toPathPieces,s=n.isObject,a=n.equal,u=function(t,e,r,n){for(var i=0;i<r.length-1;i++){var o=r[i];if(t=t[o],e=e[o],s(t)){if(s(e))continue}else if(!s(e))return null;return n}var u=r[i];if(t.hasOwnProperty(u)){if(e.hasOwnProperty(u))return t=t[u],e=e[u],a(t,e)?0:(t<e?1:-1)*n}else if(!e.hasOwnProperty(u))return null;return n};t.exports=function(t,e){var n=[];for(var i in e)n.push([o(i),e[i]]);var s=function(t,e){var i=!0,o=!1,s=void 0;try{for(var a,c=n[Symbol.iterator]();!(i=(a=c.next()).done);i=!0){var l=r(a.value,2),h=l[0],f=l[1],d=u(t,e,h,f);if(d>0||d<0)return d}}catch(t){o=!0,s=t}finally{try{!i&&c.return&&c.return()}finally{if(o)throw s}}return-f},a=[],c=function(t){return t(null,a.pop())},l=function(e){!function r(){t((function(t,n){if(!n)return function(t){if(t)return e(t);a=a.sort(s),(l=c)(e)}(t);a.push(n),r()}))}()};return function(t){return l(t)}}})),i.register("khc0D",(function(e,r){var n,o,s,a;t(e.exports,"build",(()=>n),(t=>n=t)),t(e.exports,"Conjunction",(()=>o),(t=>o=t)),t(e.exports,"Disjunction",(()=>s),(t=>s=t)),t(e.exports,"Exists",(()=>a),(t=>a=t));var u=function t(e,r,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,r);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,r,n)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(n):void 0},c=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function l(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var p=i("l64E9"),y=p.isObject,v=p.equal,m=p.unknownOp,g=i("hctUd"),b=i("hk9BM"),w=i("45dAS"),_=function t(e){if("number"==typeof e)return!isNaN(e);if("string"==typeof e)return!0;if("boolean"==typeof e)return!0;if(!e)return!1;if(e.constructor===Object)return!1;if(Array.isArray(e)){var r=!0,n=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){if(!t(o.value))return!1}}catch(t){n=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(n)throw i}}return!0}return e instanceof Date&&!isNaN(e.valueOf())},S=function(){function t(){d(this,t)}return c(t,[{key:"getClauses",value:function(){return this.is_index_matchable?[this]:[]}}]),t}(),E=function(t){function e(t){d(this,e);var r=h(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.args=t,r}return f(e,t),e}(S),x=function(t){function e(){return d(this,e),h(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return f(e,t),c(e,[{key:"getClauses",value:function(){for(var t=[],e=0;e<this.args.length;e++){var r=this.args[e];r instanceof E?t.push.apply(t,l(r.getClauses())):r.is_index_matchable&&(r.parent=this,r.index=e,t.push(r))}return t}},{key:"run",value:function(t){var e=!0,r=!1,n=void 0;try{for(var i,o=this.args[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){if(!i.value.run(t))return!1}}catch(t){r=!0,n=t}finally{try{!e&&o.return&&o.return()}finally{if(r)throw n}}return!0}}]),e}(E),O=function(t){function e(){return d(this,e),h(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return f(e,t),c(e,[{key:"getClauses",value:function(){return[]}},{key:"run",value:function(t){var e=!0,r=!1,n=void 0;try{for(var i,o=this.args[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){if(i.value.run(t))return!0}}catch(t){r=!0,n=t}finally{try{!e&&o.return&&o.return()}finally{if(r)throw n}}return!1}}]),e}(E),C=function(t){function e(){return d(this,e),h(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return f(e,t),c(e,[{key:"getClauses",value:function(){return[]}},{key:"run",value:function(t){return!u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"run",this).call(this,t)}}]),e}(x),A=function(t){function e(t,r){d(this,e);var n=h(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.path=t,n.bool=r,n}return f(e,t),c(e,[{key:"run",value:function(t){return t.get(this.path)!==g===this.bool}},{key:"is_index_matchable",get:function(){return!!this.bool}}]),e}(S),k=function(t){function e(t,r){d(this,e);var n=h(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.path=t,n.value=r,n}return f(e,t),c(e,[{key:"run",value:function(t){var e=t.get(this.path);return e!==g&&v(e,this.value)}},{key:"is_index_matchable",get:function(){return _(this.value)}},{key:"idb_key_range",get:function(){return IDBKeyRange.only(this.value)}}]),e}(S),P=function(t){function e(){return d(this,e),h(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return f(e,t),c(e,[{key:"run",value:function(t){return!u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"run",this).call(this,t)}},{key:"is_index_matchable",get:function(){return!1}}]),e}(k),j=function(t){function e(t,r,n){d(this,e);var i=h(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.path=t,i.fns=r,i.values=n,i}return f(e,t),c(e,[{key:"run",value:function(t){var e=t.get(this.path);if(e===g||null==e)return!1;for(var r=this.fns,n=this.values,i=0;i<r.length;i++)if(!r[i](e,n[i]))return!1;return!0}},{key:"is_index_matchable",get:function(){return!0}}]),e}(S),D=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(t){function r(t,n){return d(this,r),h(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,t,e,n))}return f(r,t),r}(j)},R=function(t,e){return t>e},I=function(t,e){return t>=e},T=function(t,e){return t<e},F=function(t,e){return t<=e},M=function(t){function e(){return d(this,e),h(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return f(e,t),c(e,[{key:"idb_key_range",get:function(){var t;return(t=IDBKeyRange).lowerBound.apply(t,l(this.values).concat([!0]))}}]),e}(D(R)),N=function(t){function e(){return d(this,e),h(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return f(e,t),c(e,[{key:"idb_key_range",get:function(){var t;return(t=IDBKeyRange).lowerBound.apply(t,l(this.values))}}]),e}(D(I)),L=function(t){function e(){return d(this,e),h(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return f(e,t),c(e,[{key:"idb_key_range",get:function(){var t;return(t=IDBKeyRange).upperBound.apply(t,l(this.values).concat([!0]))}}]),e}(D(T)),B=function(t){function e(){return d(this,e),h(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return f(e,t),c(e,[{key:"idb_key_range",get:function(){var t;return(t=IDBKeyRange).upperBound.apply(t,l(this.values))}}]),e}(D(F)),U=function(t){function e(){return d(this,e),h(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return f(e,t),c(e,[{key:"idb_key_range",get:function(){var t;return(t=IDBKeyRange).bound.apply(t,l(this.values).concat([!0,!0]))}}]),e}(D(R,T)),$=function(t){function e(){return d(this,e),h(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return f(e,t),c(e,[{key:"idb_key_range",get:function(){var t;return(t=IDBKeyRange).bound.apply(t,l(this.values).concat([!1,!0]))}}]),e}(D(I,T)),z=function(t){function e(){return d(this,e),h(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return f(e,t),c(e,[{key:"idb_key_range",get:function(){var t;return(t=IDBKeyRange).bound.apply(t,l(this.values).concat([!0,!1]))}}]),e}(D(R,F)),q=function(t){function e(){return d(this,e),h(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return f(e,t),c(e,[{key:"idb_key_range",get:function(){var t;return(t=IDBKeyRange).bound.apply(t,l(this.values))}}]),e}(D(I,F)),Y=function(t){function e(t,r){d(this,e);var n=h(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.path=t,n.op=r,n}return f(e,t),c(e,[{key:"run",value:function(t){var e=t.get(this.path);if(!e||!e[Symbol.iterator])return!1;var r=this.op,n=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var u=s.value;if(y(u)&&r.run(new w(u)))return!0}}catch(t){i=!0,o=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw o}}return!1}},{key:"is_index_matchable",get:function(){return!1}}]),e}(S),W=function(t){function e(t,r){d(this,e);var n=h(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.path=t,n.expr=r,n}return f(e,t),c(e,[{key:"run",value:function(t){var e=t.get(this.path);return e!==g&&this.expr.test(e)}},{key:"is_index_matchable",get:function(){return!1}}]),e}(S),V=function(t,e){var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var u=s.value,c=K(u);c&&r.push(c)}}catch(t){i=!0,o=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw o}}return r.length&&t.push(new C(r)),!0},H={$and:function(t,e){var r=!0,n=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var a=o.value,u=K(a);if(!1===u)return!1;u&&(u.constructor===x?t.push.apply(t,l(u.args)):t.push(u))}}catch(t){n=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(n)throw i}}return!0},$or:function(t,e){var r=[],n=void 0,i=!0,o=!1,s=void 0;try{for(var a,u=e[Symbol.iterator]();!(i=(a=u.next()).done);i=!0){var c=a.value,h=K(c);h?h.constructor===O?r.push.apply(r,l(h.args)):r.push(h):!1===h&&(n=!0)}}catch(t){o=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(o)throw s}}if(r.length>1)t.push(new O(r));else if(r.length)t.push(r[0]);else if(n)return!1;return!0},$not:V,$nor:V},G=[[U,"$gt","$lt"],[$,"$gte","$lt"],[z,"$gt","$lte"],[q,"$gte","$lte"],[M,"$gt"],[N,"$gte"],[L,"$lt"],[B,"$lte"]],J=function(t,e,r){var n=function(){return t.push(new k(e,r)),!0};if(null==r||r.constructor!==Object)return n();var i=new Set(Object.keys(r));if(i.has("$exists")&&!r.$exists)return t.push(new A(e,!1)),!0;var o=[];if(i.has("$eq")&&(o.push(new k(e,r.$eq)),i.delete("$eq")),i.has("$ne")&&(o.push(new P(e,r.$ne)),i.delete("$ne")),!function(t,e,r,n){var i,o=function(i,o){var s=[],a=!0,u=!1,c=void 0;try{for(var l,h=o[Symbol.iterator]();!(a=(l=h.next()).done);a=!0){var f=l.value;if(!n.has(f))return;var d=r[f];if(!_(d))return!1;s.push(d)}}catch(t){u=!0,c=t}finally{try{!a&&h.return&&h.return()}finally{if(u)throw c}}return t.push(new i(e,s)),!0},s=!0,a=!1,u=void 0;try{for(var c,l=G[Symbol.iterator]();!(s=(c=l.next()).done);s=!0){var h=(i=c.value,Array.isArray(i)?i:Array.from(i)),f=o(h[0],h.slice(1));if(!1===f)return;if(f){n.delete("$gt"),n.delete("$gte"),n.delete("$lt"),n.delete("$lte");break}}}catch(t){a=!0,u=t}finally{try{!s&&l.return&&l.return()}finally{if(a)throw u}}return!0}(o,e,r,i))return!1;if(i.has("$in")){var s=[],a=!0,u=!1,c=void 0;try{for(var l,h=r.$in[Symbol.iterator]();!(a=(l=h.next()).done);a=!0){var f=l.value;s.push(new k(e,f))}}catch(t){u=!0,c=t}finally{try{!a&&h.return&&h.return()}finally{if(u)throw c}}s.length>1?o.push(new O(s)):s.length&&o.push(s[0]),i.delete("$in")}if(i.has("$nin")){var d=!0,p=!1,y=void 0;try{for(var v,g=r.$nin[Symbol.iterator]();!(d=(v=g.next()).done);d=!0){var b=v.value;o.push(new P(e,b))}}catch(t){p=!0,y=t}finally{try{!d&&g.return&&g.return()}finally{if(p)throw y}}i.delete("$nin")}if(i.has("$elemMatch")){var w=K(r.$elemMatch);w&&o.push(new Y(e,w)),i.delete("$elemMatch")}if(i.has("$regex")){var S=new RegExp(r.$regex,r.$options);o.push(new W(e,S)),i.delete("$regex"),i.delete("$options")}r.$exists&&!o.length&&(o.push(new A(e,!0)),i.delete("$exists"));var E=!0,x=!1,C=void 0;try{for(var j,D=i[Symbol.iterator]();!(E=(j=D.next()).done);E=!0){var R=j.value;"$"===R[0]&&m(R)}}catch(t){x=!0,C=t}finally{try{!E&&D.return&&D.return()}finally{if(x)throw C}}return o.length?(t.push.apply(t,o),!0):n()},K=function(t){var e=[];for(var r in t){var n=t[r],i=void 0;if("$"!==r[0])i=J(e,new b(r),n);else{Array.isArray(n)||(n=[n]);var o=H[r];o||m(r),i=o(e,n)}if(!i)return i}if(e.length)return 1===e.length?e[0]:new x(e)};n=K,o=x,s=O,a=A})),i.register("hk9BM",(function(t,e){"use strict";var r=i("l64E9").toPathPieces;t.exports=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pieces=r(e),this.literal=e}})),i.register("kAlnE",(function(t,e){"use strict";var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw o}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=i("l64E9"),o=n.toPathPieces,s=n.set,a=n.remove2,u=n.copy,c=i("KnYBU"),l=i("45dAS"),h=function(t){var e=c(t),r=e.ast,n=e.paths;if(!e.has_refs){var i=r.run();return function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return s.apply(void 0,r.concat([i]))}}return function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),o=1;o<e;o++)i[o-1]=arguments[o];var a=new l(t);a.ensure(n)&&s.apply(void 0,i.concat([r.run(a)]))}};t.exports=function(t,e){var n=function(t){return!!e[t]},i=!0;e.hasOwnProperty("_id")&&(i=n("_id"),delete e._id);var s=[],c=[],l=!0,f=function(t){if(n(t)!==l)throw Error("cannot mix inclusions and exclusions")},d=function(t){l=n(t),d=f};for(var p in e){var y=e[p],v=o(p);"boolean"==typeof y||1===y||0===y?(d(p),s.push(v)):c.push([v,h(y)])}var m=[];if(c.length&&m.push((function(t,e){return function(t,e,n){var i=!0,o=!1,s=void 0;try{for(var a,u=n[Symbol.iterator]();!(i=(a=u.next()).done);i=!0){var c=r(a.value,2),l=c[0];(0,c[1])(t,e,l)}}catch(t){o=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(o)throw s}}return e}(t,e,c)})),s.length){l===i&&s.push(["_id"]);var g=l?u:a;m.push((function(t){return g(t,s)}))}else{var b=void 0;b=i?function(t,e){t.hasOwnProperty("_id")&&(e._id=t._id)}:function(t,e){delete e._id},m.push((function(t,e){return b(t,e),e}))}return function(e){t((function(t,r){if(!r)return e(t);var n=r,i=!0,o=!1,s=void 0;try{for(var a,u=m[Symbol.iterator]();!(i=(a=u.next()).done);i=!0){n=(0,a.value)(r,n)}}catch(t){o=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(o)throw s}}e(null,n)}))}}})),i.register("KnYBU",(function(t,e){"use strict";var r=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=i("l64E9").unknownOp,u=i("hctUd"),c=i("hk9BM"),l=function(){function t(e){s(this,t),this.value=e}return r(t,[{key:"run",value:function(){return this.value}},{key:"ResultType",get:function(){return this.constructor}}],[{key:"any",value:function(e){return"number"==typeof e?new h(e):"string"==typeof e?new f(e):Array.isArray(e)?new d(e):e instanceof Date?new p(e):new t(e)}},{key:"literal",value:function(e){return new y(t.any(e))}}]),t}(),h=function(t){function e(){return s(this,e),n(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),r(e,null,[{key:"isType",value:function(t){return"number"==typeof t}}]),e}(l),f=function(t){function e(){return s(this,e),n(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),r(e,null,[{key:"isType",value:function(t){return"string"==typeof t}}]),e}(l),d=function(t){function e(){return s(this,e),n(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),r(e,null,[{key:"isType",value:function(t){return Array.isArray(t)}}]),e}(l),p=function(t){function e(){return s(this,e),n(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),r(e,null,[{key:"isType",value:function(t){return t instanceof Date}}]),e}(l),y=function(t){function e(){return s(this,e),n(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),r(e,[{key:"run",value:function(){return this.value.run()}},{key:"ResultType",get:function(){return this.value.ResultType}}]),e}(l),v=function(){function t(e){s(this,t),this.path=e}return r(t,[{key:"run",value:function(t){var e=t.get(this.path);return e===u?null:e}}]),t}(),m=function(t){function e(){return s(this,e),n(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),r(e,[{key:"run",value:function(t){var e={},r=this.value;for(var n in r)e[n]=r[n].run(t);return e}}]),e}(l),g=function(t){function e(t){s(this,e);var r=n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.fn=t,r}return o(e,t),r(e,[{key:"run",value:function(t){var e=this.args,r=this.fn;return e.map((function(e){return e.run(t)})).reduce(r)}},{key:"length",get:function(){return 1/0}}]),e}(function(){function t(){s(this,t),this.args=[]}return r(t,[{key:"add",value:function(t){this.args.push(t)}},{key:"alt",get:function(){return new l(null)}}]),t}()),b=function(t){function e(){return s(this,e),n(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),r(e,[{key:"run",value:function(t){return this.fn(this.args[0].run(t))}},{key:"length",get:function(){return 1}}]),e}(g),w=function(t,e){return function(t){function r(){return s(this,r),n(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e))}return o(r,t),r}(t)},_=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=function(t){function e(){return s(this,e),n(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),e}(t);return i.prototype.InputType=e,i.prototype.ResultType=r,i},S=function(t){function e(){return s(this,e),n(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),e}(_(g,h)),E=function(t){return w(S,t)},x=function(t){function e(){return s(this,e),n(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),e}(E((function(t,e){return t+e}))),O=function(t){function e(){return s(this,e),n(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),e}(E((function(t,e){return t-e}))),C=function(t){function e(){return s(this,e),n(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),e}(E((function(t,e){return t*e}))),A=function(t){function e(){return s(this,e),n(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),e}(E((function(t,e){return t/e}))),k=function(t){function e(){return s(this,e),n(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),e}(E((function(t,e){return t%e}))),P=function(t){function e(){return s(this,e),n(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),r(e,[{key:"run",value:function(t){return this.fn.apply(this,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(this.args.map((function(e){return e.run(t)}))))}},{key:"length",get:function(){return this.fn.length}}]),e}(_(g,h)),j=function(t){return w(P,t)},D=function(t){function e(){return s(this,e),n(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),e}(j(Math.abs)),R=function(t){function e(){return s(this,e),n(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),e}(j(Math.ceil)),I=function(t){function e(){return s(this,e),n(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),e}(j(Math.floor)),T=function(t){function e(){return s(this,e),n(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),e}(j(Math.log)),F=function(t){function e(){return s(this,e),n(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),e}(j(Math.log10)),M=function(t){function e(){return s(this,e),n(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),e}(j(Math.pow)),N=function(t){function e(){return s(this,e),n(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),e}(j(Math.sqrt)),L=function(t){function e(){return s(this,e),n(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),e}(j(Math.trunc)),B=function(t){function e(){return s(this,e),n(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),e}(_(g,f)),U=function(t){function e(){return s(this,e),n(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),e}(w(B,(function(t,e){return t+e}))),$=function(t){function e(){return s(this,e),n(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),r(e,[{key:"alt",get:function(){return new f("")}}]),e}(_(b,f)),z=function(t){function e(){return s(this,e),n(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),e}(w($,(function(t){return t.toLowerCase()}))),q=function(t){function e(){return s(this,e),n(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),e}(w($,(function(t){return t.toUpperCase()}))),Y=function(t){function e(){return s(this,e),n(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),e}(_(g,d)),W=function(t){function e(){return s(this,e),n(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),e}(w(Y,(function(t,e){return t.concat(e)}))),V=function(t){function e(){return s(this,e),n(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),e}(_(b,p,h)),H=function(t){return w(V,t)},G=function(t){function e(){return s(this,e),n(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),e}(H((function(t){return t.getDate()}))),J=function(t){function e(){return s(this,e),n(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),e}(H((function(t){return t.getUTCFullYear()}))),K=function(t){function e(){return s(this,e),n(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),e}(H((function(t){return t.getUTCMonth()+1}))),Q=function(t){function e(){return s(this,e),n(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),e}(H((function(t){return t.getUTCHours()}))),Z=function(t){function e(){return s(this,e),n(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),e}(H((function(t){return t.getUTCMinutes()}))),X=function(t){function e(){return s(this,e),n(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),e}(H((function(t){return t.getUTCSeconds()}))),tt=function(t){function e(){return s(this,e),n(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),e}(H((function(t){return t.getUTCMilliseconds()}))),et=function(){function t(e,r,n){s(this,t);var i=n.InputType,o=n.alt;this.result_types=new Set([n.ResultType,o.ResultType]),this.stack=e,this.isType=i.isType,this.args=r,this.op=n,this.alt_value=o.value}return r(t,[{key:"run",value:function(t){var e=this.stack,r=this.isType,n=this.op,i=[],o=!0,s=!1,a=void 0;try{for(var u,c=this.args[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var l=u.value.run(t);if(!r(l))return this.alt_value;i.push(l)}}catch(t){s=!0,a=t}finally{try{!o&&c.return&&c.return()}finally{if(s)throw a}}for(var h=i.length-1;h>=0;h--)e.push(i[h]);return n.run(t)}}]),t}(),rt=function(){function t(e){s(this,t),this.stack=e}return r(t,[{key:"run",value:function(){return this.stack.pop()}}]),t}(),nt={$add:x,$subtract:O,$multiply:C,$divide:A,$mod:k,$abs:D,$ceil:R,$floor:I,$ln:T,$log10:F,$pow:M,$sqrt:N,$trunc:L,$concat:U,$toLower:z,$toUpper:q,$concatArrays:W,$dayOfMonth:G,$year:J,$month:K,$hour:Q,$minute:Z,$second:X,$millisecond:tt},it=function(t,e,r){var n=nt[e];n||a(e),Array.isArray(r)||(r=[r]);for(var i=new n,o=[],s=[],u=[],c=0;c<r.length&&c<i.length;c++){var l=ot(s,r[c]);if(l.ResultType){if(l.ResultType!==i.InputType)return i.alt;i.add(l)}else{if(l instanceof et){if(!l.result_types.has(i.InputType))return i.alt;if(1===l.result_types.size){i.add(l);continue}}o.push(l),i.add(new rt(u))}}return s.length?(t.push.apply(t,s),o.length?new et(u,o,i):i):new i.ResultType(i.run())},ot=function(t,e){if("string"==typeof e&&"$"===e[0]){var r=new c(e.substring(1));return t.push(r),new v(r)}return null==e||e.constructor!==Object?l.any(e):function(t,e){var r=new Set,n=new Set;for(var i in e)("$"===i[0]?r:n).add(i);if(r.size>1)throw Error("objects cannot have more than one operator");if(r.size){var o=!0,s=!1,a=void 0;try{for(var u,c=n[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var h=u.value;throw Error("unexpected field '"+h+"'")}}catch(t){s=!0,a=t}finally{try{!o&&c.return&&c.return()}finally{if(s)throw a}}var f=!0,d=!1,p=void 0;try{for(var y,v=r[Symbol.iterator]();!(f=(y=v.next()).done);f=!0){var g=y.value;return"$literal"===g?l.literal(e[g]):it(t,g,e[g])}}catch(t){d=!0,p=t}finally{try{!f&&v.return&&v.return()}finally{if(d)throw p}}}var b=[],w={};for(var _ in e)w[_]=ot(b,e[_]);var S=new m(w);return b.length?(t.push.apply(t,b),S):new l(S.run())}(t,e)};t.exports=function(t){var e=[];return{ast:ot(e,t),paths:e,has_refs:!!e.length}}})),i.register("9QGAR",(function(t,e){"use strict";var r=function t(e,r,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,r);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,r,n)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(n):void 0},n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var u=i("6ES6Y"),c=i("l64E9"),l=c.unknownOp,h=c.hashify,f=i("KnYBU"),d=i("45dAS"),p=function(){function t(){a(this,t)}return n(t,[{key:"getOpValueWithRefs",value:function(t,e,r){var n=t.ast,i=t.fields;r(n.run(i))}},{key:"value",get:function(){return this._value}}],[{key:"getNoRefsSteps",value:function(t){return t.in_iter}},{key:"getOpValue",value:function(t,e){e(t.ast.run())}}]),t}(),y=function(t){function e(){a(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._value=0,t}return s(e,t),n(e,[{key:"getOpValueWithRefs",value:function(t,n,i){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getOpValueWithRefs",this).call(this,t,n,(function(t){e._verify(t,i)}))}},{key:"add",value:function(t){this._value+=t}}],[{key:"_verify",value:function(t,e){"number"==typeof t&&e(t)}},{key:"getOpValue",value:function(t,n){r(e.__proto__||Object.getPrototypeOf(e),"getOpValue",this).call(this,t,(function(t){return e._verify(t,n)}))}}]),e}(p),v=function(t){function e(){a(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._count=0,t}return s(e,t),n(e,[{key:"add",value:function(t){this._count++,r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"add",this).call(this,t)}},{key:"value",get:function(){return this._value/this._count||0}}]),e}(y),m=function(t){function e(t){a(this,e);var r=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r._value=null,r._fn=t,r._add=r._add1,r}return s(e,t),n(e,[{key:"_add1",value:function(t){this._value=t,this._add=this._add2}},{key:"_add2",value:function(t){this._fn(t,this._value)&&(this._value=t)}},{key:"add",value:function(t){null!=t&&this._add(t)}}],[{key:"getNoRefsSteps",value:function(t){return t.in_end}}]),e}(p),g=function(t){function e(){return a(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,(function(t,e){return t<e})))}return s(e,t),e}(m),b=function(t){function e(){return a(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,(function(t,e){return t>e})))}return s(e,t),e}(m),w=function(t){function e(){a(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._value=[],t}return s(e,t),n(e,[{key:"add",value:function(t){this._value.push(t)}}]),e}(p),_=function(t){function e(){a(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._hashes={},t}return s(e,t),n(e,[{key:"add",value:function(t){this._hashes[h(t)]=t}},{key:"value",get:function(){var t=[];for(var e in this._hashes)t.push(this._hashes[e]);return t}}],[{key:"getNoRefsSteps",value:function(t){return t.in_end}}]),e}(p),S=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var i=!0,o=!1,s=void 0;try{for(var a,u=t[Symbol.iterator]();!(i=(a=u.next()).done);i=!0){var c=a.value;c.apply(void 0,r)}}catch(t){o=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(o)throw s}}},E=function(t,e){var r=!0,n=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var a=o.value;S(t,a)}}catch(t){n=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(n)throw i}}},x=function(t,e,r,n){return function(i){!function o(){t((function(t,s){if(!s)return function(t){t||E(e,r),i(t,r)}(t);n(s),o()}))}()}},O=function(t,e,r){if(e.has_refs)return function(t,e,r){var n=r.in_start,i=r.in_iter,o=r.in_end,s=[],a=u((function(t,e){var r={_id:e};return s.push(r),S(n,r),r}),{length:1}),c=e.ast,l=function(t){return c.run(new d(t))},f=void 0;return f=i.length?function(t){var e=l(t),r=a(h(e),e);S(i,r,t)}:function(t){var e=l(t);a(h(e),e)},x(t,o,s,f)}(t,e,r);var n=r.in_start,i=r.in_iter,o=r.in_end,s=[],a=function(){var t={_id:e.ast.run()};return S(n,t),s.push(t),t};if(i.length){var c=u((function(){return a()}));return x(t,o,s,(function(t){S(i,c(),t)}))}return function(e){t((function(t,r){r&&(a(),E(o,s)),e(t,s)}))}},C={$sum:y,$avg:v,$min:g,$max:b,$push:w,$addToSet:_},A=function(t,e,r){var n=t.in_start,i=t.in_iter,o=t.in_end,s=Object.keys(r);if(s.length>1)throw Error("fields must have only one operator");var a=s[0],u=C[a];if(!u)throw"$"===a[0]&&l(a),Error("unexpected field '"+a+"'");var c=f(r[a]);n.push((function(t){t[e]=new u(c)})),c.has_refs?i.push((function(t,r){var n=new d(r);if(n.ensure(c.paths)){var i=t[e],o=Object.assign({fields:n},c);i.getOpValueWithRefs(o,r,(function(t){return i.add(t)}))}})):u.getOpValue(c,(function(r){u.getNoRefsSteps(t).push((function(t){t[e].add(r)}))})),o.push((function(t){t[e]=t[e].value}))};t.exports=function(t,e){if(!e.hasOwnProperty("_id"))throw Error("the '_id' field is missing");var r=f(e._id),n=Object.assign({},e);delete n._id;var i={in_start:[],in_iter:[],in_end:[]};for(var o in n)A(i,o,n[o]);var s=O(t,r,i),a=function(t){s((function(e,r){e?t(e):(a=function(t){return t(null,r.pop())})(t)}))};return function(t){return a(t)}}})),i.register("iAv54",(function(t,e){"use strict";function r(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var n=i("l64E9"),o=n.toPathPieces,s=n.get;t.exports=function(t,e){var n=o(e.substring(1)),i=[],a=function(t){return t(null,i.pop())},u=function(e){t((function(t,o){t?e(t):o?function(t,e){var o=i.length;if(s(t,n,(function(t,e){var n=t[e];if(n&&n[Symbol.iterator]){var o=!0,s=!1,a=void 0;try{for(var u,c=n[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var l=u.value;i.push(r({},e,l))}}catch(t){s=!0,a=t}finally{try{!o&&c.return&&c.return()}finally{if(s)throw a}}}})),o===i.length)return u(e);a(e)}(o,e):(u=a)(e)}))};return function(t){return u(t)}}})),i.register("ePFfG",(function(t,e){"use strict";t.exports=function(t,e){var r=0;return function n(i){t((function(t,o){o?++r>e?i(null,o):n(i):i(t)}))}}})),i.register("a85tr",(function(t,e){"use strict";t.exports=function(t,e){var r=0;return function(n){r++<e?t(n):n()}}})),i.register("2zZP1",(function(t,e){"use strict";var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw o}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=i("l64E9").unknownOp,o=i("6S58j"),s={$match:function(t,e){return t.filter(e)},$project:function(t,e){return t.project(e)},$group:function(t,e){return t.group(e)},$unwind:function(t,e){return t.unwind(e)},$sort:function(t,e){return t.sort(e)},$skip:function(t,e){return t.skip(e)},$limit:function(t,e){return t.limit(e)}},a=function(t){var e=Object.keys(t);if(e.length>1)throw Error("stages must be passed only one operator");var r=e[0],i=s[r];return i||n(r),[i,t[r]]};t.exports=function(t,e){var n=new o(t,"readonly"),i=!0,s=!1,u=void 0;try{for(var c,l=e[Symbol.iterator]();!(i=(c=l.next()).done);i=!0){var h=c.value,f=a(h),d=r(f,2);(0,d[0])(n,d[1])}}catch(t){s=!0,u=t}finally{try{!i&&l.return&&l.return()}finally{if(s)throw u}}return n}})),i.register("39e9e",(function(t,e){"use strict";var r=i("l64E9"),n=r.toPathPieces,o=r.get,s=r.set,a=r.modify,u=r.remove1,c=r.rename,l=r.equal,h=r.unknownOp,f=r.getIDBError,d={$set:function(t,e){return function(r){s(r,t,e)}},$unset:function(t){return function(e){return u(e,t)}},$rename:function(t,e){return function(r){c(r,t,e)}}},p=function(t,e,r){return function(n){a(n,t,e,r)}},y=function(t){return function(e,r){return p(e,(function(e,n){var i=e[n];"number"==typeof i&&(e[n]=t(r,i))}),(function(t,e){return t[e]=0}))}};d.$inc=y((function(t,e){return t+e})),d.$mul=y((function(t,e){return t*e}));var v=function(t){return function(e,r){return p(e,(function(e,n){t(r,e[n])&&(e[n]=r)}),(function(t,e){return t[e]=r}))}};d.$min=v((function(t,e){return t<e})),d.$max=v((function(t,e){return t>e})),d.$push=function(t,e){return p(t,(function(t,r){var n=t[r];Array.isArray(n)&&n.push(e)}),(function(t,r){return t[r]=[e]}))},d.$pop=function(t,e){var r=void 0;return r=e<1?function(t){return t.shift()}:function(t){return t.pop()},function(e){o(e,t,(function(t,e){var n=t[e];Array.isArray(n)&&r(n)}))}},d.$pullAll=function(t,e){return function(r){o(r,t,(function(t,r){var n=t[r];if(Array.isArray(n)){var i=[],o=function(t){var r=!0,n=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var a=o.value;if(l(t,a))return!0}}catch(t){n=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(n)throw i}}},s=!0,a=!1,u=void 0;try{for(var c,h=n[Symbol.iterator]();!(s=(c=h.next()).done);s=!0){var f=c.value;o(f)||i.push(f)}}catch(t){a=!0,u=t}finally{try{!s&&h.return&&h.return()}finally{if(a)throw u}}t[r]=i}}))}},d.$pull=function(t,e){return d.$pullAll(t,[e])},d.$addToSet=function(t,e){return function(r){o(r,t,(function(t,r){var n=t[r];if(Array.isArray(n)){var i=!0,o=!1,s=void 0;try{for(var a,u=n[Symbol.iterator]();!(i=(a=u.next()).done);i=!0){var c=a.value;if(l(c,e))return}}catch(t){o=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(o)throw s}}n.push(e)}}))}};var m=function(t,e,r){if("$"!==e[0])return t.push(d.$set(n(e),r));var i=d[e];for(var o in i||h(e),r)t.push(i(n(o),r[o]))};t.exports=function(t,e,r){var n=[];for(var i in e)m(n,i,e[i]);if(!n.length)return r(null);!function e(){t._next((function(t,i,o){if(!i)return r(t);var s=!0,a=!1,u=void 0;try{for(var c,l=n[Symbol.iterator]();!(s=(c=l.next()).done);s=!0){(0,c.value)(i)}}catch(t){a=!0,u=t}finally{try{!s&&l.return&&l.return()}finally{if(a)throw u}}var h=o.update(i);h.onsuccess=e,h.onerror=function(t){return r(f(t))}}))}()}})),i.register("2h5Wi",(function(t,e){"use strict";var r=i("l64E9").getIDBError;t.exports=function(t,e){!function n(){t._next((function(t,i,o){if(!i)return e(t);var s=o.delete();s.onsuccess=n,s.onerror=function(t){return e(r(t))}}))}()}}));var o,s={},a={};a=i("fOb60");var u=i("gh2nv");const c=i("23wL6")("dataparty.comms.rest");var l={},h=i("6ymgl"),f=i("b28Wo");function d(t,e,r,n){Object.defineProperty(t,e,{get:r,set:n,enumerable:!0,configurable:!0})}var p="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:{},y={},v={},m=p.parcelRequireb67a;null==m&&((m=function(t){if(t in y)return y[t].exports;if(t in v){var e=v[t];delete v[t];var r={id:t,exports:{}};return y[t]=r,e.call(r.exports,r,r.exports),r.exports}var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(t,e){v[t]=e},p.parcelRequireb67a=m),m.register("38ctZ",(function(t,e){d(t.exports,"createKey",(()=>a)),d(t.exports,"encryptData",(()=>u)),d(t.exports,"decryptData",(()=>c)),d(t.exports,"signData",(()=>f)),d(t.exports,"verifyData",(()=>p)),d(t.exports,"extractPublicKeys",(()=>y));var r=m("8z9Yp"),n=m("64VuC");const i=m("1V0LT")("dataparty-crypto.Routines"),o=r.box.nonceLength+r.sign.publicKeyLength,s=o+r.box.publicKeyLength,a=()=>{const t=r.box.keyPair(),e=r.sign.keyPair();return{private:{box:n.encode(t.secretKey),sign:n.encode(e.secretKey)},public:{box:n.encode(t.publicKey),sign:n.encode(e.publicKey)},type:"ecdsa"}},u=async function(t,e,a){const u=h.Buffer.from(JSON.stringify({from:t.toJSON(!0),data:a}));i(`encrypting ${u.length} bytes from \n    [${t.key.public.box}, ${t.key.public.sign}] \n    with [${e.box}, ${e.sign}]`);const c=(0,r.randomBytes)(r.box.nonceLength),l=t.key.private,f=n.decode(l.sign),d=(0,r.sign)(u,f),p=n.decode(e.box),y=n.decode(l.box),v=(0,r.box)(d,c,p,y),m=new Uint8Array(s+v.length),g=n.decode(t.key.public.sign),b=n.decode(t.key.public.box);m.set(c),m.set(g,r.box.nonceLength),m.set(b,o),m.set(v,s);const w=(0,r.hash)(m);i("Message hash: "+n.encode(w));const _=(0,r.sign)(w,f);return{enc:n.encode(m),sig:n.encode(_)}},c=async function(t,{enc:e,sig:a}){let u="";const c=t.key.private,l=n.decode(c.box),f=n.decode(e),d=n.decode(a);if(u="EXTRACT EMBEDED DATA",f.length<=s)throw i(`ERROR ${u}: data is tampered`),new Error("data is tampered");const p=f.slice(0,r.box.nonceLength),y=f.slice(r.box.nonceLength,o),v=f.slice(o,s),m=f.slice(s,f.length);u="HASH SIGN OPEN";const g=r.sign.open(d,y);if(null===g){throw i(`ERROR ${u}: Cannot open ${a}. \n    Their public sign key - ${y} `),new Error("signed message hash verification failed")}u="FULLMSG HASH VERIFY";const b=(0,r.hash)(f);if(!(0,r.verify)(b,g)){const t=`ERROR ${u}: \n      our\t\t - ${n.encode(b)}\n      their\t\t - ${n.encode(g)}\n    `;throw i(t),new Error("message hash verification failed")}u="SIGNEDMSG BOX OPEN";const w=r.box.open(m,p,v,l);if(null===w){const t=`ERROR ${u}: Cannot open the box.\n    Their public box key - ${n.encode(v)}`;throw i(t),new Error("signed data decryption failed")}u="EXTRACT PAYLOAD";const _=r.sign.open(w,y);if(null===_){throw i(`ERROR ${u}: Cannot open ${_}. \n    Their public sign key - ${y} `),new Error("payload signature verification failed")}const{data:S,from:E}=JSON.parse(h.Buffer.from(_).toString());return{data:S,from:E}},l=(t,e)=>{const r=Date.now(),n=t.toMini();return{timestamp:r,sender:n,payload:h.Buffer.from(JSON.stringify({sender:n,data:e}))}},f=async function(t,e){const{timestamp:o,sender:s,payload:a}=l(t,e);i(`signing ${a.length} bytes as ${t.key.public}`);const u=(0,r.hash)(a);i("data hash: "+n.encode(u));const c=n.decode(t.key.private.sign),h=r.sign.detached(u,c);return{timestamp:o,sender:s,value:n.encode(h)}},p=async function(t,e,o){const{payload:s}=l(t,o),a=n.decode(e.value),u=(0,r.hash)(s);i(`VERIFY - payloadHash: ${n.encode(u)}`),i(`VERIFY - theirSignature: ${e.value}`);const c=n.decode(t.key.public.sign);return r.sign.detached.verify(u,a,c)};function y(t){const e=n.decode(t),i=e.slice(r.box.nonceLength,o),a=e.slice(o,s);return{box:n.encode(a),sign:n.encode(i)}}})),m.register("8z9Yp",(function(t,e){!function(t){"use strict";var e=function(t){var e,r=new Float64Array(16);if(t)for(e=0;e<t.length;e++)r[e]=t[e];return r},r=function(){throw new Error("no PRNG")},n=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var o=e(),s=e([1]),a=e([56129,1]),u=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),c=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),l=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),h=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),f=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function d(t,e,r,n){t[e]=r>>24&255,t[e+1]=r>>16&255,t[e+2]=r>>8&255,t[e+3]=255&r,t[e+4]=n>>24&255,t[e+5]=n>>16&255,t[e+6]=n>>8&255,t[e+7]=255&n}function p(t,e,r,n,i){var o,s=0;for(o=0;o<i;o++)s|=t[e+o]^r[n+o];return(1&s-1>>>8)-1}function y(t,e,r,n){return p(t,e,r,n,16)}function v(t,e,r,n){return p(t,e,r,n,32)}function g(t,e,r,n){!function(t,e,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,u=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,c=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,l=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,h=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,f=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,d=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,p=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,y=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,v=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,m=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,g=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,b=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,w=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,_=o,S=s,E=a,x=u,O=c,C=l,A=h,k=f,P=d,j=p,D=y,R=v,I=m,T=g,F=b,M=w,N=0;N<20;N+=2)_^=(i=(I^=(i=(P^=(i=(O^=(i=_+I|0)<<7|i>>>25)+_|0)<<9|i>>>23)+O|0)<<13|i>>>19)+P|0)<<18|i>>>14,C^=(i=(S^=(i=(T^=(i=(j^=(i=C+S|0)<<7|i>>>25)+C|0)<<9|i>>>23)+j|0)<<13|i>>>19)+T|0)<<18|i>>>14,D^=(i=(A^=(i=(E^=(i=(F^=(i=D+A|0)<<7|i>>>25)+D|0)<<9|i>>>23)+F|0)<<13|i>>>19)+E|0)<<18|i>>>14,M^=(i=(R^=(i=(k^=(i=(x^=(i=M+R|0)<<7|i>>>25)+M|0)<<9|i>>>23)+x|0)<<13|i>>>19)+k|0)<<18|i>>>14,_^=(i=(x^=(i=(E^=(i=(S^=(i=_+x|0)<<7|i>>>25)+_|0)<<9|i>>>23)+S|0)<<13|i>>>19)+E|0)<<18|i>>>14,C^=(i=(O^=(i=(k^=(i=(A^=(i=C+O|0)<<7|i>>>25)+C|0)<<9|i>>>23)+A|0)<<13|i>>>19)+k|0)<<18|i>>>14,D^=(i=(j^=(i=(P^=(i=(R^=(i=D+j|0)<<7|i>>>25)+D|0)<<9|i>>>23)+R|0)<<13|i>>>19)+P|0)<<18|i>>>14,M^=(i=(F^=(i=(T^=(i=(I^=(i=M+F|0)<<7|i>>>25)+M|0)<<9|i>>>23)+I|0)<<13|i>>>19)+T|0)<<18|i>>>14;_=_+o|0,S=S+s|0,E=E+a|0,x=x+u|0,O=O+c|0,C=C+l|0,A=A+h|0,k=k+f|0,P=P+d|0,j=j+p|0,D=D+y|0,R=R+v|0,I=I+m|0,T=T+g|0,F=F+b|0,M=M+w|0,t[0]=_>>>0&255,t[1]=_>>>8&255,t[2]=_>>>16&255,t[3]=_>>>24&255,t[4]=S>>>0&255,t[5]=S>>>8&255,t[6]=S>>>16&255,t[7]=S>>>24&255,t[8]=E>>>0&255,t[9]=E>>>8&255,t[10]=E>>>16&255,t[11]=E>>>24&255,t[12]=x>>>0&255,t[13]=x>>>8&255,t[14]=x>>>16&255,t[15]=x>>>24&255,t[16]=O>>>0&255,t[17]=O>>>8&255,t[18]=O>>>16&255,t[19]=O>>>24&255,t[20]=C>>>0&255,t[21]=C>>>8&255,t[22]=C>>>16&255,t[23]=C>>>24&255,t[24]=A>>>0&255,t[25]=A>>>8&255,t[26]=A>>>16&255,t[27]=A>>>24&255,t[28]=k>>>0&255,t[29]=k>>>8&255,t[30]=k>>>16&255,t[31]=k>>>24&255,t[32]=P>>>0&255,t[33]=P>>>8&255,t[34]=P>>>16&255,t[35]=P>>>24&255,t[36]=j>>>0&255,t[37]=j>>>8&255,t[38]=j>>>16&255,t[39]=j>>>24&255,t[40]=D>>>0&255,t[41]=D>>>8&255,t[42]=D>>>16&255,t[43]=D>>>24&255,t[44]=R>>>0&255,t[45]=R>>>8&255,t[46]=R>>>16&255,t[47]=R>>>24&255,t[48]=I>>>0&255,t[49]=I>>>8&255,t[50]=I>>>16&255,t[51]=I>>>24&255,t[52]=T>>>0&255,t[53]=T>>>8&255,t[54]=T>>>16&255,t[55]=T>>>24&255,t[56]=F>>>0&255,t[57]=F>>>8&255,t[58]=F>>>16&255,t[59]=F>>>24&255,t[60]=M>>>0&255,t[61]=M>>>8&255,t[62]=M>>>16&255,t[63]=M>>>24&255}(t,e,r,n)}function b(t,e,r,n){!function(t,e,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,u=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,c=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,l=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,h=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,f=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,d=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,p=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,y=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,v=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,m=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,g=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,b=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,w=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,_=0;_<20;_+=2)o^=(i=(m^=(i=(d^=(i=(c^=(i=o+m|0)<<7|i>>>25)+o|0)<<9|i>>>23)+c|0)<<13|i>>>19)+d|0)<<18|i>>>14,l^=(i=(s^=(i=(g^=(i=(p^=(i=l+s|0)<<7|i>>>25)+l|0)<<9|i>>>23)+p|0)<<13|i>>>19)+g|0)<<18|i>>>14,y^=(i=(h^=(i=(a^=(i=(b^=(i=y+h|0)<<7|i>>>25)+y|0)<<9|i>>>23)+b|0)<<13|i>>>19)+a|0)<<18|i>>>14,w^=(i=(v^=(i=(f^=(i=(u^=(i=w+v|0)<<7|i>>>25)+w|0)<<9|i>>>23)+u|0)<<13|i>>>19)+f|0)<<18|i>>>14,o^=(i=(u^=(i=(a^=(i=(s^=(i=o+u|0)<<7|i>>>25)+o|0)<<9|i>>>23)+s|0)<<13|i>>>19)+a|0)<<18|i>>>14,l^=(i=(c^=(i=(f^=(i=(h^=(i=l+c|0)<<7|i>>>25)+l|0)<<9|i>>>23)+h|0)<<13|i>>>19)+f|0)<<18|i>>>14,y^=(i=(p^=(i=(d^=(i=(v^=(i=y+p|0)<<7|i>>>25)+y|0)<<9|i>>>23)+v|0)<<13|i>>>19)+d|0)<<18|i>>>14,w^=(i=(b^=(i=(g^=(i=(m^=(i=w+b|0)<<7|i>>>25)+w|0)<<9|i>>>23)+m|0)<<13|i>>>19)+g|0)<<18|i>>>14;t[0]=o>>>0&255,t[1]=o>>>8&255,t[2]=o>>>16&255,t[3]=o>>>24&255,t[4]=l>>>0&255,t[5]=l>>>8&255,t[6]=l>>>16&255,t[7]=l>>>24&255,t[8]=y>>>0&255,t[9]=y>>>8&255,t[10]=y>>>16&255,t[11]=y>>>24&255,t[12]=w>>>0&255,t[13]=w>>>8&255,t[14]=w>>>16&255,t[15]=w>>>24&255,t[16]=h>>>0&255,t[17]=h>>>8&255,t[18]=h>>>16&255,t[19]=h>>>24&255,t[20]=f>>>0&255,t[21]=f>>>8&255,t[22]=f>>>16&255,t[23]=f>>>24&255,t[24]=d>>>0&255,t[25]=d>>>8&255,t[26]=d>>>16&255,t[27]=d>>>24&255,t[28]=p>>>0&255,t[29]=p>>>8&255,t[30]=p>>>16&255,t[31]=p>>>24&255}(t,e,r,n)}var w=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function _(t,e,r,n,i,o,s){var a,u,c=new Uint8Array(16),l=new Uint8Array(64);for(u=0;u<16;u++)c[u]=0;for(u=0;u<8;u++)c[u]=o[u];for(;i>=64;){for(g(l,c,s,w),u=0;u<64;u++)t[e+u]=r[n+u]^l[u];for(a=1,u=8;u<16;u++)a=a+(255&c[u])|0,c[u]=255&a,a>>>=8;i-=64,e+=64,n+=64}if(i>0)for(g(l,c,s,w),u=0;u<i;u++)t[e+u]=r[n+u]^l[u];return 0}function S(t,e,r,n,i){var o,s,a=new Uint8Array(16),u=new Uint8Array(64);for(s=0;s<16;s++)a[s]=0;for(s=0;s<8;s++)a[s]=n[s];for(;r>=64;){for(g(u,a,i,w),s=0;s<64;s++)t[e+s]=u[s];for(o=1,s=8;s<16;s++)o=o+(255&a[s])|0,a[s]=255&o,o>>>=8;r-=64,e+=64}if(r>0)for(g(u,a,i,w),s=0;s<r;s++)t[e+s]=u[s];return 0}function E(t,e,r,n,i){var o=new Uint8Array(32);b(o,n,i,w);for(var s=new Uint8Array(8),a=0;a<8;a++)s[a]=n[a+16];return S(t,e,r,s,o)}function x(t,e,r,n,i,o,s){var a=new Uint8Array(32);b(a,o,s,w);for(var u=new Uint8Array(8),c=0;c<8;c++)u[c]=o[c+16];return _(t,e,r,n,i,u,a)}var O=function(t){var e,r,n,i,o,s,a,u;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,e=255&t[0]|(255&t[1])<<8,this.r[0]=8191&e,r=255&t[2]|(255&t[3])<<8,this.r[1]=8191&(e>>>13|r<<3),n=255&t[4]|(255&t[5])<<8,this.r[2]=7939&(r>>>10|n<<6),i=255&t[6]|(255&t[7])<<8,this.r[3]=8191&(n>>>7|i<<9),o=255&t[8]|(255&t[9])<<8,this.r[4]=255&(i>>>4|o<<12),this.r[5]=o>>>1&8190,s=255&t[10]|(255&t[11])<<8,this.r[6]=8191&(o>>>14|s<<2),a=255&t[12]|(255&t[13])<<8,this.r[7]=8065&(s>>>11|a<<5),u=255&t[14]|(255&t[15])<<8,this.r[8]=8191&(a>>>8|u<<8),this.r[9]=u>>>5&127,this.pad[0]=255&t[16]|(255&t[17])<<8,this.pad[1]=255&t[18]|(255&t[19])<<8,this.pad[2]=255&t[20]|(255&t[21])<<8,this.pad[3]=255&t[22]|(255&t[23])<<8,this.pad[4]=255&t[24]|(255&t[25])<<8,this.pad[5]=255&t[26]|(255&t[27])<<8,this.pad[6]=255&t[28]|(255&t[29])<<8,this.pad[7]=255&t[30]|(255&t[31])<<8};function C(t,e,r,n,i,o){var s=new O(o);return s.update(r,n,i),s.finish(t,e),0}function A(t,e,r,n,i,o){var s=new Uint8Array(16);return C(s,0,r,n,i,o),y(t,e,s,0)}function k(t,e,r,n,i){var o;if(r<32)return-1;for(x(t,0,e,0,r,n,i),C(t,16,t,32,r-32,t),o=0;o<16;o++)t[o]=0;return 0}function P(t,e,r,n,i){var o,s=new Uint8Array(32);if(r<32)return-1;if(E(s,0,32,n,i),0!==A(e,16,e,32,r-32,s))return-1;for(x(t,0,e,0,r,n,i),o=0;o<32;o++)t[o]=0;return 0}function j(t,e){var r;for(r=0;r<16;r++)t[r]=0|e[r]}function D(t){var e,r,n=1;for(e=0;e<16;e++)r=t[e]+n+65535,n=Math.floor(r/65536),t[e]=r-65536*n;t[0]+=n-1+37*(n-1)}function R(t,e,r){for(var n,i=~(r-1),o=0;o<16;o++)n=i&(t[o]^e[o]),t[o]^=n,e[o]^=n}function I(t,r){var n,i,o,s=e(),a=e();for(n=0;n<16;n++)a[n]=r[n];for(D(a),D(a),D(a),i=0;i<2;i++){for(s[0]=a[0]-65517,n=1;n<15;n++)s[n]=a[n]-65535-(s[n-1]>>16&1),s[n-1]&=65535;s[15]=a[15]-32767-(s[14]>>16&1),o=s[15]>>16&1,s[14]&=65535,R(a,s,1-o)}for(n=0;n<16;n++)t[2*n]=255&a[n],t[2*n+1]=a[n]>>8}function T(t,e){var r=new Uint8Array(32),n=new Uint8Array(32);return I(r,t),I(n,e),v(r,0,n,0)}function F(t){var e=new Uint8Array(32);return I(e,t),1&e[0]}function M(t,e){var r;for(r=0;r<16;r++)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}function N(t,e,r){for(var n=0;n<16;n++)t[n]=e[n]+r[n]}function L(t,e,r){for(var n=0;n<16;n++)t[n]=e[n]-r[n]}function B(t,e,r){var n,i,o=0,s=0,a=0,u=0,c=0,l=0,h=0,f=0,d=0,p=0,y=0,v=0,m=0,g=0,b=0,w=0,_=0,S=0,E=0,x=0,O=0,C=0,A=0,k=0,P=0,j=0,D=0,R=0,I=0,T=0,F=0,M=r[0],N=r[1],L=r[2],B=r[3],U=r[4],$=r[5],z=r[6],q=r[7],Y=r[8],W=r[9],V=r[10],H=r[11],G=r[12],J=r[13],K=r[14],Q=r[15];o+=(n=e[0])*M,s+=n*N,a+=n*L,u+=n*B,c+=n*U,l+=n*$,h+=n*z,f+=n*q,d+=n*Y,p+=n*W,y+=n*V,v+=n*H,m+=n*G,g+=n*J,b+=n*K,w+=n*Q,s+=(n=e[1])*M,a+=n*N,u+=n*L,c+=n*B,l+=n*U,h+=n*$,f+=n*z,d+=n*q,p+=n*Y,y+=n*W,v+=n*V,m+=n*H,g+=n*G,b+=n*J,w+=n*K,_+=n*Q,a+=(n=e[2])*M,u+=n*N,c+=n*L,l+=n*B,h+=n*U,f+=n*$,d+=n*z,p+=n*q,y+=n*Y,v+=n*W,m+=n*V,g+=n*H,b+=n*G,w+=n*J,_+=n*K,S+=n*Q,u+=(n=e[3])*M,c+=n*N,l+=n*L,h+=n*B,f+=n*U,d+=n*$,p+=n*z,y+=n*q,v+=n*Y,m+=n*W,g+=n*V,b+=n*H,w+=n*G,_+=n*J,S+=n*K,E+=n*Q,c+=(n=e[4])*M,l+=n*N,h+=n*L,f+=n*B,d+=n*U,p+=n*$,y+=n*z,v+=n*q,m+=n*Y,g+=n*W,b+=n*V,w+=n*H,_+=n*G,S+=n*J,E+=n*K,x+=n*Q,l+=(n=e[5])*M,h+=n*N,f+=n*L,d+=n*B,p+=n*U,y+=n*$,v+=n*z,m+=n*q,g+=n*Y,b+=n*W,w+=n*V,_+=n*H,S+=n*G,E+=n*J,x+=n*K,O+=n*Q,h+=(n=e[6])*M,f+=n*N,d+=n*L,p+=n*B,y+=n*U,v+=n*$,m+=n*z,g+=n*q,b+=n*Y,w+=n*W,_+=n*V,S+=n*H,E+=n*G,x+=n*J,O+=n*K,C+=n*Q,f+=(n=e[7])*M,d+=n*N,p+=n*L,y+=n*B,v+=n*U,m+=n*$,g+=n*z,b+=n*q,w+=n*Y,_+=n*W,S+=n*V,E+=n*H,x+=n*G,O+=n*J,C+=n*K,A+=n*Q,d+=(n=e[8])*M,p+=n*N,y+=n*L,v+=n*B,m+=n*U,g+=n*$,b+=n*z,w+=n*q,_+=n*Y,S+=n*W,E+=n*V,x+=n*H,O+=n*G,C+=n*J,A+=n*K,k+=n*Q,p+=(n=e[9])*M,y+=n*N,v+=n*L,m+=n*B,g+=n*U,b+=n*$,w+=n*z,_+=n*q,S+=n*Y,E+=n*W,x+=n*V,O+=n*H,C+=n*G,A+=n*J,k+=n*K,P+=n*Q,y+=(n=e[10])*M,v+=n*N,m+=n*L,g+=n*B,b+=n*U,w+=n*$,_+=n*z,S+=n*q,E+=n*Y,x+=n*W,O+=n*V,C+=n*H,A+=n*G,k+=n*J,P+=n*K,j+=n*Q,v+=(n=e[11])*M,m+=n*N,g+=n*L,b+=n*B,w+=n*U,_+=n*$,S+=n*z,E+=n*q,x+=n*Y,O+=n*W,C+=n*V,A+=n*H,k+=n*G,P+=n*J,j+=n*K,D+=n*Q,m+=(n=e[12])*M,g+=n*N,b+=n*L,w+=n*B,_+=n*U,S+=n*$,E+=n*z,x+=n*q,O+=n*Y,C+=n*W,A+=n*V,k+=n*H,P+=n*G,j+=n*J,D+=n*K,R+=n*Q,g+=(n=e[13])*M,b+=n*N,w+=n*L,_+=n*B,S+=n*U,E+=n*$,x+=n*z,O+=n*q,C+=n*Y,A+=n*W,k+=n*V,P+=n*H,j+=n*G,D+=n*J,R+=n*K,I+=n*Q,b+=(n=e[14])*M,w+=n*N,_+=n*L,S+=n*B,E+=n*U,x+=n*$,O+=n*z,C+=n*q,A+=n*Y,k+=n*W,P+=n*V,j+=n*H,D+=n*G,R+=n*J,I+=n*K,T+=n*Q,w+=(n=e[15])*M,s+=38*(S+=n*L),a+=38*(E+=n*B),u+=38*(x+=n*U),c+=38*(O+=n*$),l+=38*(C+=n*z),h+=38*(A+=n*q),f+=38*(k+=n*Y),d+=38*(P+=n*W),p+=38*(j+=n*V),y+=38*(D+=n*H),v+=38*(R+=n*G),m+=38*(I+=n*J),g+=38*(T+=n*K),b+=38*(F+=n*Q),o=(n=(o+=38*(_+=n*N))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),o=(n=(o+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),o+=i-1+37*(i-1),t[0]=o,t[1]=s,t[2]=a,t[3]=u,t[4]=c,t[5]=l,t[6]=h,t[7]=f,t[8]=d,t[9]=p,t[10]=y,t[11]=v,t[12]=m,t[13]=g,t[14]=b,t[15]=w}function U(t,e){B(t,e,e)}function $(t,r){var n,i=e();for(n=0;n<16;n++)i[n]=r[n];for(n=253;n>=0;n--)U(i,i),2!==n&&4!==n&&B(i,i,r);for(n=0;n<16;n++)t[n]=i[n]}function z(t,r){var n,i=e();for(n=0;n<16;n++)i[n]=r[n];for(n=250;n>=0;n--)U(i,i),1!==n&&B(i,i,r);for(n=0;n<16;n++)t[n]=i[n]}function q(t,r,n){var i,o,s=new Uint8Array(32),u=new Float64Array(80),c=e(),l=e(),h=e(),f=e(),d=e(),p=e();for(o=0;o<31;o++)s[o]=r[o];for(s[31]=127&r[31]|64,s[0]&=248,M(u,n),o=0;o<16;o++)l[o]=u[o],f[o]=c[o]=h[o]=0;for(c[0]=f[0]=1,o=254;o>=0;--o)R(c,l,i=s[o>>>3]>>>(7&o)&1),R(h,f,i),N(d,c,h),L(c,c,h),N(h,l,f),L(l,l,f),U(f,d),U(p,c),B(c,h,c),B(h,l,d),N(d,c,h),L(c,c,h),U(l,c),L(h,f,p),B(c,h,a),N(c,c,f),B(h,h,c),B(c,f,p),B(f,l,u),U(l,d),R(c,l,i),R(h,f,i);for(o=0;o<16;o++)u[o+16]=c[o],u[o+32]=h[o],u[o+48]=l[o],u[o+64]=f[o];var y=u.subarray(32),v=u.subarray(16);return $(y,y),B(v,v,y),I(t,v),0}function Y(t,e){return q(t,e,i)}function W(t,e){return r(e,32),Y(t,e)}function V(t,e,r){var i=new Uint8Array(32);return q(i,r,e),b(t,n,i,w)}O.prototype.blocks=function(t,e,r){for(var n,i,o,s,a,u,c,l,h,f,d,p,y,v,m,g,b,w,_,S=this.fin?0:2048,E=this.h[0],x=this.h[1],O=this.h[2],C=this.h[3],A=this.h[4],k=this.h[5],P=this.h[6],j=this.h[7],D=this.h[8],R=this.h[9],I=this.r[0],T=this.r[1],F=this.r[2],M=this.r[3],N=this.r[4],L=this.r[5],B=this.r[6],U=this.r[7],$=this.r[8],z=this.r[9];r>=16;)f=h=0,f+=(E+=8191&(n=255&t[e+0]|(255&t[e+1])<<8))*I,f+=(x+=8191&(n>>>13|(i=255&t[e+2]|(255&t[e+3])<<8)<<3))*(5*z),f+=(O+=8191&(i>>>10|(o=255&t[e+4]|(255&t[e+5])<<8)<<6))*(5*$),f+=(C+=8191&(o>>>7|(s=255&t[e+6]|(255&t[e+7])<<8)<<9))*(5*U),h=(f+=(A+=8191&(s>>>4|(a=255&t[e+8]|(255&t[e+9])<<8)<<12))*(5*B))>>>13,f&=8191,f+=(k+=a>>>1&8191)*(5*L),f+=(P+=8191&(a>>>14|(u=255&t[e+10]|(255&t[e+11])<<8)<<2))*(5*N),f+=(j+=8191&(u>>>11|(c=255&t[e+12]|(255&t[e+13])<<8)<<5))*(5*M),f+=(D+=8191&(c>>>8|(l=255&t[e+14]|(255&t[e+15])<<8)<<8))*(5*F),d=h+=(f+=(R+=l>>>5|S)*(5*T))>>>13,d+=E*T,d+=x*I,d+=O*(5*z),d+=C*(5*$),h=(d+=A*(5*U))>>>13,d&=8191,d+=k*(5*B),d+=P*(5*L),d+=j*(5*N),d+=D*(5*M),h+=(d+=R*(5*F))>>>13,d&=8191,p=h,p+=E*F,p+=x*T,p+=O*I,p+=C*(5*z),h=(p+=A*(5*$))>>>13,p&=8191,p+=k*(5*U),p+=P*(5*B),p+=j*(5*L),p+=D*(5*N),y=h+=(p+=R*(5*M))>>>13,y+=E*M,y+=x*F,y+=O*T,y+=C*I,h=(y+=A*(5*z))>>>13,y&=8191,y+=k*(5*$),y+=P*(5*U),y+=j*(5*B),y+=D*(5*L),v=h+=(y+=R*(5*N))>>>13,v+=E*N,v+=x*M,v+=O*F,v+=C*T,h=(v+=A*I)>>>13,v&=8191,v+=k*(5*z),v+=P*(5*$),v+=j*(5*U),v+=D*(5*B),m=h+=(v+=R*(5*L))>>>13,m+=E*L,m+=x*N,m+=O*M,m+=C*F,h=(m+=A*T)>>>13,m&=8191,m+=k*I,m+=P*(5*z),m+=j*(5*$),m+=D*(5*U),g=h+=(m+=R*(5*B))>>>13,g+=E*B,g+=x*L,g+=O*N,g+=C*M,h=(g+=A*F)>>>13,g&=8191,g+=k*T,g+=P*I,g+=j*(5*z),g+=D*(5*$),b=h+=(g+=R*(5*U))>>>13,b+=E*U,b+=x*B,b+=O*L,b+=C*N,h=(b+=A*M)>>>13,b&=8191,b+=k*F,b+=P*T,b+=j*I,b+=D*(5*z),w=h+=(b+=R*(5*$))>>>13,w+=E*$,w+=x*U,w+=O*B,w+=C*L,h=(w+=A*N)>>>13,w&=8191,w+=k*M,w+=P*F,w+=j*T,w+=D*I,_=h+=(w+=R*(5*z))>>>13,_+=E*z,_+=x*$,_+=O*U,_+=C*B,h=(_+=A*L)>>>13,_&=8191,_+=k*N,_+=P*M,_+=j*F,_+=D*T,E=f=8191&(h=(h=((h+=(_+=R*I)>>>13)<<2)+h|0)+(f&=8191)|0),x=d+=h>>>=13,O=p&=8191,C=y&=8191,A=v&=8191,k=m&=8191,P=g&=8191,j=b&=8191,D=w&=8191,R=_&=8191,e+=16,r-=16;this.h[0]=E,this.h[1]=x,this.h[2]=O,this.h[3]=C,this.h[4]=A,this.h[5]=k,this.h[6]=P,this.h[7]=j,this.h[8]=D,this.h[9]=R},O.prototype.finish=function(t,e){var r,n,i,o,s=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=r,r=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,s[0]=this.h[0]+5,r=s[0]>>>13,s[0]&=8191,o=1;o<10;o++)s[o]=this.h[o]+r,r=s[o]>>>13,s[o]&=8191;for(s[9]-=8192,n=(1^r)-1,o=0;o<10;o++)s[o]&=n;for(n=~n,o=0;o<10;o++)this.h[o]=this.h[o]&n|s[o];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,o=1;o<8;o++)i=(this.h[o]+this.pad[o]|0)+(i>>>16)|0,this.h[o]=65535&i;t[e+0]=this.h[0]>>>0&255,t[e+1]=this.h[0]>>>8&255,t[e+2]=this.h[1]>>>0&255,t[e+3]=this.h[1]>>>8&255,t[e+4]=this.h[2]>>>0&255,t[e+5]=this.h[2]>>>8&255,t[e+6]=this.h[3]>>>0&255,t[e+7]=this.h[3]>>>8&255,t[e+8]=this.h[4]>>>0&255,t[e+9]=this.h[4]>>>8&255,t[e+10]=this.h[5]>>>0&255,t[e+11]=this.h[5]>>>8&255,t[e+12]=this.h[6]>>>0&255,t[e+13]=this.h[6]>>>8&255,t[e+14]=this.h[7]>>>0&255,t[e+15]=this.h[7]>>>8&255},O.prototype.update=function(t,e,r){var n,i;if(this.leftover){for((i=16-this.leftover)>r&&(i=r),n=0;n<i;n++)this.buffer[this.leftover+n]=t[e+n];if(r-=i,e+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(i=r-r%16,this.blocks(t,e,i),e+=i,r-=i),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=t[e+n];this.leftover+=r}};var H=k,G=P;var J=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function K(t,e,r,n){for(var i,o,s,a,u,c,l,h,f,d,p,y,v,m,g,b,w,_,S,E,x,O,C,A,k,P,j=new Int32Array(16),D=new Int32Array(16),R=t[0],I=t[1],T=t[2],F=t[3],M=t[4],N=t[5],L=t[6],B=t[7],U=e[0],$=e[1],z=e[2],q=e[3],Y=e[4],W=e[5],V=e[6],H=e[7],G=0;n>=128;){for(S=0;S<16;S++)E=8*S+G,j[S]=r[E+0]<<24|r[E+1]<<16|r[E+2]<<8|r[E+3],D[S]=r[E+4]<<24|r[E+5]<<16|r[E+6]<<8|r[E+7];for(S=0;S<80;S++)if(i=R,o=I,s=T,a=F,u=M,c=N,l=L,B,f=U,d=$,p=z,y=q,v=Y,m=W,g=V,H,C=65535&(O=H),A=O>>>16,k=65535&(x=B),P=x>>>16,C+=65535&(O=(Y>>>14|M<<18)^(Y>>>18|M<<14)^(M>>>9|Y<<23)),A+=O>>>16,k+=65535&(x=(M>>>14|Y<<18)^(M>>>18|Y<<14)^(Y>>>9|M<<23)),P+=x>>>16,C+=65535&(O=Y&W^~Y&V),A+=O>>>16,k+=65535&(x=M&N^~M&L),P+=x>>>16,C+=65535&(O=J[2*S+1]),A+=O>>>16,k+=65535&(x=J[2*S]),P+=x>>>16,x=j[S%16],A+=(O=D[S%16])>>>16,k+=65535&x,P+=x>>>16,k+=(A+=(C+=65535&O)>>>16)>>>16,C=65535&(O=_=65535&C|A<<16),A=O>>>16,k=65535&(x=w=65535&k|(P+=k>>>16)<<16),P=x>>>16,C+=65535&(O=(U>>>28|R<<4)^(R>>>2|U<<30)^(R>>>7|U<<25)),A+=O>>>16,k+=65535&(x=(R>>>28|U<<4)^(U>>>2|R<<30)^(U>>>7|R<<25)),P+=x>>>16,A+=(O=U&$^U&z^$&z)>>>16,k+=65535&(x=R&I^R&T^I&T),P+=x>>>16,h=65535&(k+=(A+=(C+=65535&O)>>>16)>>>16)|(P+=k>>>16)<<16,b=65535&C|A<<16,C=65535&(O=y),A=O>>>16,k=65535&(x=a),P=x>>>16,A+=(O=_)>>>16,k+=65535&(x=w),P+=x>>>16,I=i,T=o,F=s,M=a=65535&(k+=(A+=(C+=65535&O)>>>16)>>>16)|(P+=k>>>16)<<16,N=u,L=c,B=l,R=h,$=f,z=d,q=p,Y=y=65535&C|A<<16,W=v,V=m,H=g,U=b,S%16==15)for(E=0;E<16;E++)x=j[E],C=65535&(O=D[E]),A=O>>>16,k=65535&x,P=x>>>16,x=j[(E+9)%16],C+=65535&(O=D[(E+9)%16]),A+=O>>>16,k+=65535&x,P+=x>>>16,w=j[(E+1)%16],C+=65535&(O=((_=D[(E+1)%16])>>>1|w<<31)^(_>>>8|w<<24)^(_>>>7|w<<25)),A+=O>>>16,k+=65535&(x=(w>>>1|_<<31)^(w>>>8|_<<24)^w>>>7),P+=x>>>16,w=j[(E+14)%16],A+=(O=((_=D[(E+14)%16])>>>19|w<<13)^(w>>>29|_<<3)^(_>>>6|w<<26))>>>16,k+=65535&(x=(w>>>19|_<<13)^(_>>>29|w<<3)^w>>>6),P+=x>>>16,P+=(k+=(A+=(C+=65535&O)>>>16)>>>16)>>>16,j[E]=65535&k|P<<16,D[E]=65535&C|A<<16;C=65535&(O=U),A=O>>>16,k=65535&(x=R),P=x>>>16,x=t[0],A+=(O=e[0])>>>16,k+=65535&x,P+=x>>>16,P+=(k+=(A+=(C+=65535&O)>>>16)>>>16)>>>16,t[0]=R=65535&k|P<<16,e[0]=U=65535&C|A<<16,C=65535&(O=$),A=O>>>16,k=65535&(x=I),P=x>>>16,x=t[1],A+=(O=e[1])>>>16,k+=65535&x,P+=x>>>16,P+=(k+=(A+=(C+=65535&O)>>>16)>>>16)>>>16,t[1]=I=65535&k|P<<16,e[1]=$=65535&C|A<<16,C=65535&(O=z),A=O>>>16,k=65535&(x=T),P=x>>>16,x=t[2],A+=(O=e[2])>>>16,k+=65535&x,P+=x>>>16,P+=(k+=(A+=(C+=65535&O)>>>16)>>>16)>>>16,t[2]=T=65535&k|P<<16,e[2]=z=65535&C|A<<16,C=65535&(O=q),A=O>>>16,k=65535&(x=F),P=x>>>16,x=t[3],A+=(O=e[3])>>>16,k+=65535&x,P+=x>>>16,P+=(k+=(A+=(C+=65535&O)>>>16)>>>16)>>>16,t[3]=F=65535&k|P<<16,e[3]=q=65535&C|A<<16,C=65535&(O=Y),A=O>>>16,k=65535&(x=M),P=x>>>16,x=t[4],A+=(O=e[4])>>>16,k+=65535&x,P+=x>>>16,P+=(k+=(A+=(C+=65535&O)>>>16)>>>16)>>>16,t[4]=M=65535&k|P<<16,e[4]=Y=65535&C|A<<16,C=65535&(O=W),A=O>>>16,k=65535&(x=N),P=x>>>16,x=t[5],A+=(O=e[5])>>>16,k+=65535&x,P+=x>>>16,P+=(k+=(A+=(C+=65535&O)>>>16)>>>16)>>>16,t[5]=N=65535&k|P<<16,e[5]=W=65535&C|A<<16,C=65535&(O=V),A=O>>>16,k=65535&(x=L),P=x>>>16,x=t[6],A+=(O=e[6])>>>16,k+=65535&x,P+=x>>>16,P+=(k+=(A+=(C+=65535&O)>>>16)>>>16)>>>16,t[6]=L=65535&k|P<<16,e[6]=V=65535&C|A<<16,C=65535&(O=H),A=O>>>16,k=65535&(x=B),P=x>>>16,x=t[7],A+=(O=e[7])>>>16,k+=65535&x,P+=x>>>16,P+=(k+=(A+=(C+=65535&O)>>>16)>>>16)>>>16,t[7]=B=65535&k|P<<16,e[7]=H=65535&C|A<<16,G+=128,n-=128}return n}function Q(t,e,r){var n,i=new Int32Array(8),o=new Int32Array(8),s=new Uint8Array(256),a=r;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,K(i,o,e,r),r%=128,n=0;n<r;n++)s[n]=e[a-r+n];for(s[r]=128,s[(r=256-128*(r<112?1:0))-9]=0,d(s,r-8,a/536870912|0,a<<3),K(i,o,s,r),n=0;n<8;n++)d(t,8*n,i[n],o[n]);return 0}function Z(t,r){var n=e(),i=e(),o=e(),s=e(),a=e(),u=e(),l=e(),h=e(),f=e();L(n,t[1],t[0]),L(f,r[1],r[0]),B(n,n,f),N(i,t[0],t[1]),N(f,r[0],r[1]),B(i,i,f),B(o,t[3],r[3]),B(o,o,c),B(s,t[2],r[2]),N(s,s,s),L(a,i,n),L(u,s,o),N(l,s,o),N(h,i,n),B(t[0],a,u),B(t[1],h,l),B(t[2],l,u),B(t[3],a,h)}function X(t,e,r){var n;for(n=0;n<4;n++)R(t[n],e[n],r)}function tt(t,r){var n=e(),i=e(),o=e();$(o,r[2]),B(n,r[0],o),B(i,r[1],o),I(t,i),t[31]^=F(n)<<7}function et(t,e,r){var n,i;for(j(t[0],o),j(t[1],s),j(t[2],s),j(t[3],o),i=255;i>=0;--i)X(t,e,n=r[i/8|0]>>(7&i)&1),Z(e,t),Z(t,t),X(t,e,n)}function rt(t,r){var n=[e(),e(),e(),e()];j(n[0],l),j(n[1],h),j(n[2],s),B(n[3],l,h),et(t,n,r)}function nt(t,n,i){var o,s=new Uint8Array(64),a=[e(),e(),e(),e()];for(i||r(n,32),Q(s,n,32),s[0]&=248,s[31]&=127,s[31]|=64,rt(a,s),tt(t,a),o=0;o<32;o++)n[o+32]=t[o];return 0}var it=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ot(t,e){var r,n,i,o;for(n=63;n>=32;--n){for(r=0,i=n-32,o=n-12;i<o;++i)e[i]+=r-16*e[n]*it[i-(n-32)],r=Math.floor((e[i]+128)/256),e[i]-=256*r;e[i]+=r,e[n]=0}for(r=0,i=0;i<32;i++)e[i]+=r-(e[31]>>4)*it[i],r=e[i]>>8,e[i]&=255;for(i=0;i<32;i++)e[i]-=r*it[i];for(n=0;n<32;n++)e[n+1]+=e[n]>>8,t[n]=255&e[n]}function st(t){var e,r=new Float64Array(64);for(e=0;e<64;e++)r[e]=t[e];for(e=0;e<64;e++)t[e]=0;ot(t,r)}function at(t,r,n,i){var o,s,a=new Uint8Array(64),u=new Uint8Array(64),c=new Uint8Array(64),l=new Float64Array(64),h=[e(),e(),e(),e()];Q(a,i,32),a[0]&=248,a[31]&=127,a[31]|=64;var f=n+64;for(o=0;o<n;o++)t[64+o]=r[o];for(o=0;o<32;o++)t[32+o]=a[32+o];for(Q(c,t.subarray(32),n+32),st(c),rt(h,c),tt(t,h),o=32;o<64;o++)t[o]=i[o];for(Q(u,t,n+64),st(u),o=0;o<64;o++)l[o]=0;for(o=0;o<32;o++)l[o]=c[o];for(o=0;o<32;o++)for(s=0;s<32;s++)l[o+s]+=u[o]*a[s];return ot(t.subarray(32),l),f}function ut(t,r,n,i){var a,c=new Uint8Array(32),l=new Uint8Array(64),h=[e(),e(),e(),e()],d=[e(),e(),e(),e()];if(n<64)return-1;if(function(t,r){var n=e(),i=e(),a=e(),c=e(),l=e(),h=e(),d=e();return j(t[2],s),M(t[1],r),U(a,t[1]),B(c,a,u),L(a,a,t[2]),N(c,t[2],c),U(l,c),U(h,l),B(d,h,l),B(n,d,a),B(n,n,c),z(n,n),B(n,n,a),B(n,n,c),B(n,n,c),B(t[0],n,c),U(i,t[0]),B(i,i,c),T(i,a)&&B(t[0],t[0],f),U(i,t[0]),B(i,i,c),T(i,a)?-1:(F(t[0])===r[31]>>7&&L(t[0],o,t[0]),B(t[3],t[0],t[1]),0)}(d,i))return-1;for(a=0;a<n;a++)t[a]=r[a];for(a=0;a<32;a++)t[a+32]=i[a];if(Q(l,t,n),st(l),et(h,d,l),rt(d,r.subarray(32)),Z(h,d),tt(c,h),n-=64,v(r,0,c,0)){for(a=0;a<n;a++)t[a]=0;return-1}for(a=0;a<n;a++)t[a]=r[a+64];return n}var ct=16,lt=64,ht=32,ft=64;function dt(t,e){if(32!==t.length)throw new Error("bad key size");if(24!==e.length)throw new Error("bad nonce size")}function pt(){for(var t=0;t<arguments.length;t++)if(!(arguments[t]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function yt(t){for(var e=0;e<t.length;e++)t[e]=0}t.lowlevel={crypto_core_hsalsa20:b,crypto_stream_xor:x,crypto_stream:E,crypto_stream_salsa20_xor:_,crypto_stream_salsa20:S,crypto_onetimeauth:C,crypto_onetimeauth_verify:A,crypto_verify_16:y,crypto_verify_32:v,crypto_secretbox:k,crypto_secretbox_open:P,crypto_scalarmult:q,crypto_scalarmult_base:Y,crypto_box_beforenm:V,crypto_box_afternm:H,crypto_box:function(t,e,r,n,i,o){var s=new Uint8Array(32);return V(s,i,o),H(t,e,r,n,s)},crypto_box_open:function(t,e,r,n,i,o){var s=new Uint8Array(32);return V(s,i,o),G(t,e,r,n,s)},crypto_box_keypair:W,crypto_hash:Q,crypto_sign:at,crypto_sign_keypair:nt,crypto_sign_open:ut,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:ct,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:lt,crypto_sign_PUBLICKEYBYTES:ht,crypto_sign_SECRETKEYBYTES:ft,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:e,D:u,L:it,pack25519:I,unpack25519:M,M:B,A:N,S:U,Z:L,pow2523:z,add:Z,set25519:j,modL:ot,scalarmult:et,scalarbase:rt},t.randomBytes=function(t){var e=new Uint8Array(t);return r(e,t),e},t.secretbox=function(t,e,r){pt(t,e,r),dt(r,e);for(var n=new Uint8Array(32+t.length),i=new Uint8Array(n.length),o=0;o<t.length;o++)n[o+32]=t[o];return k(i,n,n.length,e,r),i.subarray(ct)},t.secretbox.open=function(t,e,r){pt(t,e,r),dt(r,e);for(var n=new Uint8Array(ct+t.length),i=new Uint8Array(n.length),o=0;o<t.length;o++)n[o+ct]=t[o];return n.length<32||0!==P(i,n,n.length,e,r)?null:i.subarray(32)},t.secretbox.keyLength=32,t.secretbox.nonceLength=24,t.secretbox.overheadLength=ct,t.scalarMult=function(t,e){if(pt(t,e),32!==t.length)throw new Error("bad n size");if(32!==e.length)throw new Error("bad p size");var r=new Uint8Array(32);return q(r,t,e),r},t.scalarMult.base=function(t){if(pt(t),32!==t.length)throw new Error("bad n size");var e=new Uint8Array(32);return Y(e,t),e},t.scalarMult.scalarLength=32,t.scalarMult.groupElementLength=32,t.box=function(e,r,n,i){var o=t.box.before(n,i);return t.secretbox(e,r,o)},t.box.before=function(t,e){pt(t,e),function(t,e){if(32!==t.length)throw new Error("bad public key size");if(32!==e.length)throw new Error("bad secret key size")}(t,e);var r=new Uint8Array(32);return V(r,t,e),r},t.box.after=t.secretbox,t.box.open=function(e,r,n,i){var o=t.box.before(n,i);return t.secretbox.open(e,r,o)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var t=new Uint8Array(32),e=new Uint8Array(32);return W(t,e),{publicKey:t,secretKey:e}},t.box.keyPair.fromSecretKey=function(t){if(pt(t),32!==t.length)throw new Error("bad secret key size");var e=new Uint8Array(32);return Y(e,t),{publicKey:e,secretKey:new Uint8Array(t)}},t.box.publicKeyLength=32,t.box.secretKeyLength=32,t.box.sharedKeyLength=32,t.box.nonceLength=24,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(t,e){if(pt(t,e),e.length!==ft)throw new Error("bad secret key size");var r=new Uint8Array(lt+t.length);return at(r,t,t.length,e),r},t.sign.open=function(t,e){if(pt(t,e),e.length!==ht)throw new Error("bad public key size");var r=new Uint8Array(t.length),n=ut(r,t,t.length,e);if(n<0)return null;for(var i=new Uint8Array(n),o=0;o<i.length;o++)i[o]=r[o];return i},t.sign.detached=function(e,r){for(var n=t.sign(e,r),i=new Uint8Array(lt),o=0;o<i.length;o++)i[o]=n[o];return i},t.sign.detached.verify=function(t,e,r){if(pt(t,e,r),e.length!==lt)throw new Error("bad signature size");if(r.length!==ht)throw new Error("bad public key size");var n,i=new Uint8Array(lt+t.length),o=new Uint8Array(lt+t.length);for(n=0;n<lt;n++)i[n]=e[n];for(n=0;n<t.length;n++)i[n+lt]=t[n];return ut(o,i,i.length,r)>=0},t.sign.keyPair=function(){var t=new Uint8Array(ht),e=new Uint8Array(ft);return nt(t,e),{publicKey:t,secretKey:e}},t.sign.keyPair.fromSecretKey=function(t){if(pt(t),t.length!==ft)throw new Error("bad secret key size");for(var e=new Uint8Array(ht),r=0;r<e.length;r++)e[r]=t[32+r];return{publicKey:e,secretKey:new Uint8Array(t)}},t.sign.keyPair.fromSeed=function(t){if(pt(t),32!==t.length)throw new Error("bad seed size");for(var e=new Uint8Array(ht),r=new Uint8Array(ft),n=0;n<32;n++)r[n]=t[n];return nt(e,r,!0),{publicKey:e,secretKey:r}},t.sign.publicKeyLength=ht,t.sign.secretKeyLength=ft,t.sign.seedLength=32,t.sign.signatureLength=lt,t.hash=function(t){pt(t);var e=new Uint8Array(64);return Q(e,t,t.length),e},t.hash.hashLength=64,t.verify=function(t,e){return pt(t,e),0!==t.length&&0!==e.length&&(t.length===e.length&&0===p(t,0,e,0,t.length))},t.setPRNG=function(t){r=t},function(){var e="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(e&&e.getRandomValues){t.setPRNG((function(t,r){var n,i=new Uint8Array(r);for(n=0;n<r;n+=65536)e.getRandomValues(i.subarray(n,n+Math.min(r-n,65536)));for(n=0;n<r;n++)t[n]=i[n];yt(i)}))}else(e=m("cY7r0"))&&e.randomBytes&&t.setPRNG((function(t,r){var n,i=e.randomBytes(r);for(n=0;n<r;n++)t[n]=i[n];yt(i)}))}()}(t.exports?t.exports:self.nacl=self.nacl||{})})),m.register("cY7r0",(function(t,e){})),m.register("64VuC",(function(t,e){"use strict";var r,n=t.exports&&t.exports.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(t.exports,"__esModule",{value:!0});var i=256,o=function(){function t(t){void 0===t&&(t="="),this._paddingCharacter=t}return t.prototype.encodedLength=function(t){return this._paddingCharacter?(t+2)/3*4|0:(8*t+5)/6|0},t.prototype.encode=function(t){for(var e="",r=0;r<t.length-2;r+=3){var n=t[r]<<16|t[r+1]<<8|t[r+2];e+=this._encodeByte(n>>>18&63),e+=this._encodeByte(n>>>12&63),e+=this._encodeByte(n>>>6&63),e+=this._encodeByte(n>>>0&63)}var i=t.length-r;if(i>0){n=t[r]<<16|(2===i?t[r+1]<<8:0);e+=this._encodeByte(n>>>18&63),e+=this._encodeByte(n>>>12&63),e+=2===i?this._encodeByte(n>>>6&63):this._paddingCharacter||"",e+=this._paddingCharacter||""}return e},t.prototype.maxDecodedLength=function(t){return this._paddingCharacter?t/4*3|0:(6*t+7)/8|0},t.prototype.decodedLength=function(t){return this.maxDecodedLength(t.length-this._getPaddingLength(t))},t.prototype.decode=function(t){if(0===t.length)return new Uint8Array(0);for(var e=this._getPaddingLength(t),r=t.length-e,n=new Uint8Array(this.maxDecodedLength(r)),o=0,s=0,a=0,u=0,c=0,l=0,h=0;s<r-4;s+=4)u=this._decodeChar(t.charCodeAt(s+0)),c=this._decodeChar(t.charCodeAt(s+1)),l=this._decodeChar(t.charCodeAt(s+2)),h=this._decodeChar(t.charCodeAt(s+3)),n[o++]=u<<2|c>>>4,n[o++]=c<<4|l>>>2,n[o++]=l<<6|h,a|=u&i,a|=c&i,a|=l&i,a|=h&i;if(s<r-1&&(u=this._decodeChar(t.charCodeAt(s)),c=this._decodeChar(t.charCodeAt(s+1)),n[o++]=u<<2|c>>>4,a|=u&i,a|=c&i),s<r-2&&(l=this._decodeChar(t.charCodeAt(s+2)),n[o++]=c<<4|l>>>2,a|=l&i),s<r-3&&(h=this._decodeChar(t.charCodeAt(s+3)),n[o++]=l<<6|h,a|=h&i),0!==a)throw new Error("Base64Coder: incorrect characters for decoding");return n},t.prototype._encodeByte=function(t){var e=t;return e+=65,e+=25-t>>>8&6,e+=51-t>>>8&-75,e+=61-t>>>8&-15,e+=62-t>>>8&3,String.fromCharCode(e)},t.prototype._decodeChar=function(t){var e=i;return e+=(42-t&t-44)>>>8&-256+t-43+62,e+=(46-t&t-48)>>>8&-256+t-47+63,e+=(47-t&t-58)>>>8&-256+t-48+52,e+=(64-t&t-91)>>>8&-256+t-65+0,e+=(96-t&t-123)>>>8&-256+t-97+26},t.prototype._getPaddingLength=function(t){var e=0;if(this._paddingCharacter){for(var r=t.length-1;r>=0&&t[r]===this._paddingCharacter;r--)e++;if(t.length<4||e>2)throw new Error("Base64Coder: incorrect padding")}return e},t}();t.exports.Coder=o;var s=new o;t.exports.encode=function(t){return s.encode(t)},t.exports.decode=function(t){return s.decode(t)};var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._encodeByte=function(t){var e=t;return e+=65,e+=25-t>>>8&6,e+=51-t>>>8&-75,e+=61-t>>>8&-13,e+=62-t>>>8&49,String.fromCharCode(e)},e.prototype._decodeChar=function(t){var e=i;return e+=(44-t&t-46)>>>8&-256+t-45+62,e+=(94-t&t-96)>>>8&-256+t-95+63,e+=(47-t&t-58)>>>8&-256+t-48+52,e+=(64-t&t-91)>>>8&-256+t-65+0,e+=(96-t&t-123)>>>8&-256+t-97+26},e}(o);t.exports.URLSafeCoder=a;var u=new a;t.exports.encodeURLSafe=function(t){return u.encode(t)},t.exports.decodeURLSafe=function(t){return u.decode(t)},t.exports.encodedLength=function(t){return s.encodedLength(t)},t.exports.maxDecodedLength=function(t){return s.maxDecodedLength(t)},t.exports.decodedLength=function(t){return s.decodedLength(t)}})),m.register("1V0LT",(function(t,e){t.exports.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;e.splice(1,0,r,"color: inherit");let n=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(t=>{"%%"!==t&&(n++,"%c"===t&&(i=n))})),e.splice(i,0,r)},t.exports.save=function(e){try{e?t.exports.storage.setItem("debug",e):t.exports.storage.removeItem("debug")}catch(t){}},t.exports.load=function(){let e;try{e=t.exports.storage.getItem("debug")}catch(t){}!e&&void 0!==f&&"env"in f&&(e=void 0);return e},t.exports.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.exports.storage=function(){try{return localStorage}catch(t){}}(),t.exports.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.exports.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.exports.log=console.debug||console.log||(()=>{}),t.exports=m("fGhWV")(t.exports);const{formatters:r}=t.exports;r.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}})),m.register("fGhWV",(function(t,e){t.exports=function(t){function e(t){let n,i,o,s=null;function a(...t){if(!a.enabled)return;const r=a,i=Number(new Date),o=i-(n||i);r.diff=o,r.prev=n,r.curr=i,n=i,t[0]=e.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");let s=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,((n,i)=>{if("%%"===n)return"%";s++;const o=e.formatters[i];if("function"==typeof o){const e=t[s];n=o.call(r,e),t.splice(s,1),s--}return n})),e.formatArgs.call(r,t);(r.log||e.log).apply(r,t)}return a.namespace=t,a.useColors=e.useColors(),a.color=e.selectColor(t),a.extend=r,a.destroy=e.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(i!==e.namespaces&&(i=e.namespaces,o=e.enabled(t)),o),set:t=>{s=t}}),"function"==typeof e.init&&e.init(a),a}function r(t,r){const n=e(this.namespace+(void 0===r?":":r)+t);return n.log=this.log,n}function n(t){return t.toString().substring(2,t.toString().length-2).replace(/\.\*\?$/,"*")}return e.debug=e,e.default=e,e.coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){const t=[...e.names.map(n),...e.skips.map(n).map((t=>"-"+t))].join(",");return e.enable(""),t},e.enable=function(t){let r;e.save(t),e.namespaces=t,e.names=[],e.skips=[];const n=("string"==typeof t?t:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(t=n[r].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.slice(1)+"$")):e.names.push(new RegExp("^"+t+"$")))},e.enabled=function(t){if("*"===t[t.length-1])return!0;let r,n;for(r=0,n=e.skips.length;r<n;r++)if(e.skips[r].test(t))return!1;for(r=0,n=e.names.length;r<n;r++)if(e.names[r].test(t))return!0;return!1},e.humanize=m("cmsFz"),e.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach((r=>{e[r]=t[r]})),e.names=[],e.skips=[],e.formatters={},e.selectColor=function(t){let r=0;for(let e=0;e<t.length;e++)r=(r<<5)-r+t.charCodeAt(e),r|=0;return e.colors[Math.abs(r)%e.colors.length]},e.enable(e.load()),e}})),m.register("cmsFz",(function(t,e){var r=1e3,n=6e4,i=36e5,o=864e5,s=6048e5,a=315576e5;function u(t,e,r,n){var i=e>=1.5*r;return Math.round(t/r)+" "+n+(i?"s":"")}t.exports=function(t,e){e=e||{};var c,l,h=typeof t;if("string"===h&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!e)return;var u=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return u*a;case"weeks":case"week":case"w":return u*s;case"days":case"day":case"d":return u*o;case"hours":case"hour":case"hrs":case"hr":case"h":return u*i;case"minutes":case"minute":case"mins":case"min":case"m":return u*n;case"seconds":case"second":case"secs":case"sec":case"s":return u*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return u;default:return}}(t);if("number"===h&&isFinite(t))return e.long?(c=t,(l=Math.abs(c))>=o?u(c,l,o,"day"):l>=i?u(c,l,i,"hour"):l>=n?u(c,l,n,"minute"):l>=r?u(c,l,r,"second"):c+" ms"):function(t){var e=Math.abs(t);return e>=o?Math.round(t/o)+"d":e>=i?Math.round(t/i)+"h":e>=n?Math.round(t/n)+"m":e>=r?Math.round(t/r)+"s":t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}})),m.register("2NOQZ",(function(t,e){d(t.exports,"default",(()=>n));var r=m("38ctZ");class n{constructor(t){this.enc=t.enc,this.sig=t.sig,//! String when this.enc set, or object when this.msg set
this.msg=t.msg}get sender(){return this.from.key}async sign(t){if(!this.msg)throw new Error("plaintext not available");if(this.enc)throw new Error("encypted messages already have signatures");return this.sig=await(0,r.signData)(t,this.msg),!0}async verify(t){return(0,r.verifyData)(t,this.sig,this.msg)}async decrypt(t){if(!this.enc)throw new Error("ciphertext not available");if(!this.sig)throw new Error("signature not available");const{data:e,from:n}=await(0,r.decryptData)(t,this);return this.msg=e,this.from=n,this.msg}async encrypt(t,e){const n=await(0,r.encryptData)(t,e.public,this.msg);return this.enc=n.enc,this.sig=n.sig,this.msg=null,n}}})),m.register("hs8ST",(function(t,e){d(t.exports,"default",(()=>i));var r=m("2NOQZ"),n=m("38ctZ");class i{constructor(t={}){this.id=t.id||"",this.key=t&&t.key?t.key:(0,n.createKey)()}async encrypt(t,e){const n=new r.default({msg:t});return await n.encrypt(this,e.key),n}async decrypt(t){const e=new r.default(t);return await e.decrypt(this),e}async sign(t){const e=new r.default({msg:t});return await e.sign(this),e}async verify(t){return t.verify(this)}toJSON(t){return{id:this.id,key:{type:this.key.type,public:this.key.public,private:t?this.key.private:void 0}}}toMini(){return{id:this.id,public:this.key.public,type:this.key.type}}toString(){return JSON.stringify(this.toJSON())}static fromString(t){const e=JSON.parse(t);return new i(e)}}})),l={Routines:m("38ctZ"),Message:m("2NOQZ").default,Identity:m("hs8ST").default};var g;g=class extends Error{constructor(t){super(t),this.name="AuthError"}};class b extends u{constructor({remoteIdentity:t,config:e,party:r}){super(),this.uri=void 0,this.wsUri=void 0,this.cfgPrefix="rest",this.uriPrefix="",this.config=e,this.sessionId=void 0,this.remoteIdentity=t,this.websocketComm=void 0,this.party=r,this.authed=void 0}hasSession(){return!!this.sessionId}async stop(){this.websocketComm&&this.websocketComm.connected&&(c("cleaning up websocket"),this.websocketComm.close())}async start(){if(await this.loadCloud(),await this.party.loadIdentity(),await this.party.loadActor(),await this.loadSession(),!this.authed){if(this.party.hasActor()&&this.party.hasIdentity())return this.hasSession()?(c("RECOVERING SESSION"),this.authRecover().catch(this.allocateSession.bind(this))):(c("ALLOCATING SESSION"),this.allocateSession());throw new Error("client needs to be enrolled")}}async loadSession(){const t=this.cfgPrefix+".rest-session",e=this.config.read(t);e&&(this.sessionId=e.id,await this.storeSession(),c("loaded rest session",this.sessionId))}async loadCloud(){this.uri=this.config.read("cloud.uri"),this.wsUri=this.config.read("cloud.wsUri"),this.uri&&"/"!==this.uri[this.uri.length-1]&&(this.uri=this.uri+"/")}clearSession(){}storeSession(){const t=this.cfgPrefix+".rest-session";this.config.write(t,{id:this.sessionId})}async call(t,e,{expectClearTextReply:r=!1,sendClearTextRequest:n=!1,useSessions:i=!0}={}){if(this.uri||await this.loadCloud(),!this.party.hasIdentity())throw new Error("identity required");await this.getServiceIdentity();const o=this.uri+this.uriPrefix+t;let s,a=null;(e||this.useSessions)&&(a={data:e},i&&(a.session=this.sessionId),n||(a=await this.party.encrypt(a,this.remoteIdentity))),c("call",o," req - ",JSON.stringify(a));try{s=await b.HttpPost(o,a)}catch(t){throw c("rest",o," call fail ->",t.message),new Error("RestCommsError")}const u=await this.party.decrypt(s,this.remoteIdentity,r);return c("call",o," res - ",JSON.stringify(u,null,2)),u}async syncActors(){const t=await this.call("actor-info");return c("syncActors - got info",JSON.stringify(t,null,2)),this.populateActors(t.actor.actors)}async populateActors(t){const e=[];for(const r of t){c("looking up actor",r);const t=this.party.find().type(r.type).id(r.id).exec().then((t=>{if(1===t.length)return c("found actor",t[0]),t[0];c("failed to read actor",r,t)}));e.push(t),c("found actor",r,t)}return Promise.all(e).then((t=>(this.party.actors=t,this)))}async getServiceIdentity(){if(!this.remoteIdentity){this.uri||await this.loadCloud();const t=await b.HttpGet(this.uri+`${this.uriPrefix}identity`);c("server identity - ",t),this.remoteIdentity=new l.Identity(t)}return this.remoteIdentity}async authorized(){return await new Promise(((t,e)=>{if(this.authed)return t();this.once("open",t),this.once("close",e)})),this}async redeemInvite(t){return this.call("claim-user-invite",{short_code:t})}authGitHub(t){return this.uri||this.loadCloud(),this.party.loadIdentity().then((()=>this.call("oauth-github",{code:t}))).then((t=>(c(t),this.sessionId=t.session,this.authed=!0,this.storeSession(),this.emit("open"),this.populateActors(t.actor.actors.slice(0,2)).then((()=>{this.storeSession(),this.emit("open")})))))}async authRecover(){if(c("AUTH RECOVER"),await this.party.loadActor(),await this.loadSession(),!(this.party.actor&&this.party.actor.id&&this.party.actor.type&&this.sessionId))throw this.authed=!1,c("session data missing, cannot recover session"),this.emit("close"),new Error("session data missing");c("syncing actors");try{await this.syncActors(),this.authed=!0,this.emit("open")}catch(t){throw c("auth error",t),this.authed=!1,this.emit("close"),new g("auth error")}}async allocateSession(){if(c("ALLOCATE SESSION"),this.party.loadActor(),!this.party.actor||!this.party.actor.id||!this.party.actor.type)throw this.authed=!1,this.emit("close"),c("actor data missing, cannot allocate session"),new Error("actor data missing, cannot allocate session");c("actor",this.party.actor);try{const t=await this.call("rest-session",{actor:{id:this.party.actor.id,type:this.party.actor.type}});this.sessionId=t.session,this.authed=!0,this.storeSession(),await this.syncActors(),this.emit("open")}catch(t){throw c("auth error",t),this.authed=!1,this.emit("close"),new g("auth error")}}static async HttpRequest(t,e,r){c(`${t} - ${e}`);return(await a({method:t,url:e,data:r,headers:{"Content-Type":"application/json"},timeout:3e4})).data}static async HttpGet(t){return b.HttpRequest("GET",t)}static async HttpPost(t,e){return b.HttpRequest("POST",t,e)}}s=b;var w;const _=i("23wL6")("dataparty.comms.socketcomms");u=i("gh2nv");var S=l.Message,E=l.Routines,x={};i("23wL6")("dataparty.op.auth-op");var O={};const C=i("23wL6")("dataparty.op.socket-op");u=i("gh2nv");O=class extends u{constructor(t,e,r){super(),this.op=t,this.id=this.op+":"+r.opId,this.data=e,this.socket=r,this._thenPromise=void 0,this._thenResolve=void 0,this._thenReject=void 0,this.socket.on(this.id,this.handleOpEvent.bind(this))}run(){if(this._thenPromise)return this._thenPromise;const t=Object.assign({},{op:this.op,id:this.id,session:this.socket.session},this.data);return C("sending op "+this.id),this._thenPromise=new Promise(((e,r)=>{this.socket.send(t).then((()=>{this._thenResolve=e,this._thenReject=r})).catch((t=>{this._thenPromise=void 0,this._thenResolve=void 0,this._thenReject=void 0,r(t)}))})),this._thenPromise}handleOpEvent(t){if(C("handleOpEvent()"),C(t),null!=this._thenResolve){if("status"!=t.op)return void C("not a status message");C(t.state.indexOf("Finished")),-1!=t.state.indexOf("Finished")?"Finished_Success"==t.state?(C("success"),this.emit("success",t),this._thenResolve(t),this._thenPromise=void 0,this._thenResolve=void 0,this._thenReject=void 0):(C("failure"),this.emit("failure",t),this._thenReject(t),this._thenPromise=void 0,this._thenResolve=void 0,this._thenReject=void 0):(C("status update"),this.emit("status",t))}}};x=class extends O{constructor(t){super("auth",{},t)}};var A={};const k=i("23wL6")("dataparty.comms.ros-shim");var P={},j=P.ROSLIB||{REVISION:"1.3.0"},D=i("8wVEU");D(j,i("bRQKM")),D(j,i("eYAa2")),D(j,i("cFx3N")),D(j,i("3EONg")),D(j,i("iiuw2")),P=j;class R extends P.Ros{constructor(t){super(),this.socket=t,this.socket.once("close",(()=>{k("roshim close"),this.emit("close"),this.isConnected=!1})),this.socket.on("message",this.handleMessage.bind(this)),k("roshim"),this.isConnected=!0,this.emit("connection",{})}connect(){k("roshim - connect")}handleMessage(t){"publish"===t.op?(k("publish op"),this.emit(t.topic,t.msg)):"status"===t.op&&(t.id?this.emit("status:"+t.id,t):this.emit("status",t))}}A=R;w=class extends u{constructor({session:t,uri:e,party:r,remoteIdentity:n,discoverRemoteIdentity:i}){super(),this.uri=e,this.session=t,this.remoteIdentity=n,this.discoverRemoteIdentity=i,this.party=r,this.connected=!1,this.authed=void 0,this._opId=Math.round(65536*Math.random()),this.socket=void 0,this._ros=void 0}get opId(){return this._opId++}authorized(){return new Promise(((t,e)=>{if(this.authed)return t();this.once("open",t),this.once("close",e)})).then((()=>this))}close(){_("Client closing connection"),this.socket.close()}onclose(){this.authed=!1,this.connected=!1,_("Server closed connection"),this.emit("close")}onopen(){this.authed=!1,this.connected=!0,_("socket open!"),new x(this).run().then((t=>{_(t),_("authed"),this.emit("open"),this.authed=!0})).catch((t=>{this.authed=!1,_("auth error",t),this.emit("close")}))}decrypt(t,e){const r=JSON.parse(t.data);return new Promise(((t,n)=>{if(r.enc&&r.sig){let n=new S(r);return t(n.decrypt(this.party._identity).then((t=>{const r=E.extractPublicKeys(n.enc);return _("sender",e,"\tdiscover",this.discoverRemoteIdentity),this.discoverRemoteIdentity&&!e&&(_("discovered remote identity",r),this.remoteIdentity={key:{public:r}},e=this.remoteIdentity),_(`senderPub - ${r}`),r.box!=e.key.public.box||r.sign!=e.key.public.sign?Promise.reject("TRUST - reply is not from expected remote"):(_("decrypted data"),t)})))}n(Promise.reject("TRUST - reply is not encrypted"))}))}onmessage(t){_("onmessage",t);let e=this;this.decrypt(t,this.remoteIdentity).then((t=>{_("decrypted msg = ",t),_(t.id),"publish"!=t.op?(_("emit id"),e.emit(t.id,t)):(_("emit message"),e.emit("message",t))}))}send(t){_("send - ",t);return new S({msg:t}).encrypt(this.party._identity,this.remoteIdentity.key).then(JSON.stringify).then(this.socket.send.bind(this.socket))}get ros(){return this._ros||(this._ros=new A(this),this._ros.connect()),this._ros}};var I;const T=i("23wL6")("dataparty.comms.peercomms");I=class extends w{constructor({remoteIdentity:t,discoverRemoteIdentity:e,host:r,party:n,socket:i,...o}){super({remoteIdentity:t,discoverRemoteIdentity:e,party:n,...o}),this.socket=i||null,this.host=r,this.party=n,this.oncall=null,this._host_auth_timeout=null,this.pending_calls=0}async handleClientCall(t){let e=null;const r=await this.decrypt({data:t},this.remoteIdentity);T("handleHostCall",r),this.authed?"peer-call"==r.op&&(T("peer-call"),"api-v2-peer-bouncer"==r.endpoint&&(this.pending_calls++,T("ask->",r.data),this.send({op:"status",id:r.id,state:"Finished_Success",...await this.party.handleCall(r.data)}),this.pending_calls--)):"auth"==r.op&&(T("allowing client"),e={op:"status",id:r.id,level:"Info",state:"Finished_Success"},clearTimeout(this._host_auth_timeout),this._host_auth_timeout=null,this.authed=!0,this.emit("open"),this.send(e))}async handleClientConnection(){T("handleHostConnection"),this._host_auth_timeout=setTimeout(this.handleAuthTimeout.bind(this),3e3)}async handleAuthTimeout(){clearTimeout(this._host_auth_timeout),this._host_auth_timeout=null,this.authed||(T("handleAuthTimeout - timed out"),this.authed=!1,await this.stop())}async handleMessage(t){T("handleMessage",t.toString()),this.onmessage({data:t})}async call(t,e){if(this.host)throw new Error("host-not-allowed-call");if(!this.authed)throw new Error("not authed");if(!this.party.hasIdentity())throw new Error("identity required");let r=new O("peer-call",{endpoint:t,data:e},this);return T("running peer-call endpoint =",t,e),await r.run()}async start(){T("start"),this.socketInit&&await this.socketInit(),this.socket.on("close",this.onclose.bind(this)),this.host?(T("host mode comms"),this.socket.on("connect",this.handleClientConnection.bind(this)),this.socket.on("data",this.handleClientCall.bind(this))):(T("client mode comms"),this.socket.on("connect",this.onopen.bind(this)),this.socket.on("data",this.handleMessage.bind(this))),this.socketStart&&await this.socketStart()}async stop(){this.close()}close(){T("closing connection"),this.socket.destroy()}};var F;const M=i("23wL6")("dataparty.comms.websocket");var N;N=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")};u=i("gh2nv");class L extends u{constructor(t){super(),this.conn=t,this.conn.onmessage=t=>{this.emit("data",t.data)},this.conn.onopen=()=>{M("shim open"),this.emit("connect")},this.conn.onclose=()=>{this.emit("close")},this.conn.onerror=t=>{this.emit("error",t)},this.conn.readyState==N.OPEN&&setTimeout((()=>{this.emit("connect")}),1),M("connection shim",this.conn.readyState)}close(){this.conn.close()}destroy(){this.conn.terminate()}send(t){this.conn.send(t)}}F=class extends I{constructor({uri:t,connection:e,remoteIdentity:r,host:n,party:i,...o}){if(super({remoteIdentity:r,host:n,party:i,...o}),this.uri=t,this.connection=e,this.host&&!this.connection)throw new Error("existing connection expected");if(!this.host&&!this.uri&&!this.connection)throw new Error("uri or existing connection expected")}async socketInit(){M("init"),this.host||this.connection||(M("opening client connection to",this.uri),this.connection=new N(this.uri)),this.socket=new L(this.connection)}};var B;const U=i("23wL6")("dataparty.comms.websocket-op");u=i("gh2nv");B=class extends u{constructor(t,e,r){super(),this.op=t,this.id=this.op+":"+r.opId++,this.data=e,this.socket=r,this._thenPromise=void 0,this._thenResolve=void 0,this._thenReject=void 0,this.socket.on(this.id,this.handleOpEvent.bind(this))}run(){return this._thenPromise||(this._thenPromise=new Promise(((t,e)=>{this.socket.encrypt(this).then(JSON.stringify).then((r=>(U("stringed content"),U("sending op "+this.id),this._thenResolve=t,this._thenReject=e,r))).then(this.socket.socket.send.bind(this.socket.socket)).catch((t=>{this._thenPromise=void 0,this._thenResolve=void 0,this._thenReject=void 0,e(t)}))}))),this._thenPromise}handleOpEvent(t){U("handleOpEvent()"),U(t),null!=this._thenResolve&&(U(t.state.indexOf("Finished")),-1!=t.state.indexOf("Finished")?"Finished_Success"==t.state?(U("success"),this.emit("success",t),this._thenResolve(t),this._thenPromise=void 0,this._thenResolve=void 0,this._thenReject=void 0):(U("failure"),this.emit("failure",t),this._thenReject(t),this._thenPromise=void 0,this._thenResolve=void 0,this._thenReject=void 0):(U("status update"),this.emit("status",t)))}};var $,z=(h=i("6ymgl")).Buffer,q=0;class Y{constructor(t){this.created=Date.now(),this.lastChanged=Date.now(),this.data=t.msg?z.from(JSON.stringify(t.msg)):void 0,this.packetCount=t.packetCount||(t.msg?Math.ceil(this.data.length/16):void 0),this.commandSeq=t.commandSeq||q++,this.mtu=t.mtu||20,this.dataMap={},this.rxComplete=!1}get text(){return new TextDecoder("utf-8").decode(this.data)}static fromPacket(t){const e=t[0],r=t[2],n=new Y({packetCount:r,commandSeq:e});return n.parsePacket(t),n}static parseHeader(t){return{seq:t[0],idx:t[1],pktCount:t[2],flags:t[3]>>5&15,dataLen:31&t[3]}}parsePacket(t){const e=t[0],r=t[1],n=t[2],i=(t[3],31&t[3]);console.log("parsing",e,r,"of",n,"with",i,"bytes"),this.packetCount||(this.packetCount=n,this.commandSeq=e),this.data||(this.data=new Uint8Array(this.packetCount*(this.mtu-4)));const o=r*(this.mtu-4);for(let e=0;e<i;e++)this.data[o+e]=t[4+e];this.dataMap[r]=!0;let s=!0;for(let t=0;t<this.packetCount;t++)if(!this.dataMap[t]){s=!1;break}if(r==this.packetCount-1){console.log(this.data),console.log(typeof this.data);const t=this.data.length-(this.mtu-4-i);this.data=this.data.slice(0,t)}return this.lastChanged=Date.now(),this.rxComplete=s,s}getPacket(t){if(t>-1&&t<this.packetCount){const e=z.alloc(20);e.fill(0);const r=t*(this.mtu-4),n=Math.min(r+(this.mtu-4)-1,this.data.length-1)-r+1;if(e[0]=this.commandSeq,e[1]=t,e[2]=this.packetCount,e[3]=31&n,n>this.mtu-4)throw new Error("Buffer bounds error data length="+n);for(let t=0;t<n;t++){const n=this.data[t+r];e[4+t]=n}return e}}}$=Y;var W;const V=i("23wL6")("dataparty.comms.ble-op");u=i("gh2nv");W=class extends u{constructor(t,e){super(),this.request=t,this.response=void 0,this.ble=e,this.bleRequest=void 0,this.bleResponse=void 0,this.timeout=!1,this.startTime=Date.now(),this.endTime=void 0,this.lastActivity=Date.now()}async run(){return this.bleRequest||(this.bleRequest=await this.ble.send(this.request),this.startTime=Date.now(),this.lastActivity=Date.now()),this.ble.on("message:"+this.bleRequest.commandSeq,this.onMessage.bind(this)),new Promise(((t,e)=>{this.once("done",(()=>{t(this.response)}))}))}onMessage(t){V("onMessage"),t.seq===this.bleRequest.seq?(V("onMessage - done"),this.bleResponse=t,this.response=JSON.parse(t.text),this.endTime=Date.now(),this.lastActivity=Date.now(),this.emit("done",this),V(this)):V("onMessage - seq mismatch")}};var H;const G=i("23wL6")("dataparty.comms.loopback-comms");var J;const K=i("23wL6")("dataparty.comms.loopback-socket");u=i("gh2nv");J=class extends u{constructor(t){super(),this.channel=t,this.ready_local=!1,this.ready_remote=!1,this.ready=!1,this.closed=!0,this.channel.on("connected",this.onconnected.bind(this)),this.channel.on("data",this.ondata.bind(this)),this.channel.on("close",this.onclose.bind(this))}start(){K("start"),this.channel.post("connected",!0),this.ready_local=!0,this.checkConnected()}checkConnected(){this.ready_local&&this.ready_remote&&!this.ready?(this.ready=!0,this.closed=!1,this.emit("connect",!0),K("checkConnected - connected")):this.ready||this.channel.post("connected",!0)}onconnected(){K("onconnected"),this.ready_remote||(this.ready_remote=!0,this.checkConnected())}onclose(){K("onclose"),this.ready&&!this.closed&&(this.ready=!1,this.closed=!0,this.ready_remote=!1,this.ready_local=!1,this.emit("close"))}ondata(t){K("ondata"),this.ready&&!this.closed&&this.emit("data",t)}send(t){K("send"),this.ready&&!this.closed&&this.channel.post("data",t)}destroy(){this.close(),delete this.channel}close(){K("close"),this.ready&&!this.closed&&(this.ready=!1,this.ready_local=!1,this.ready_remote=!1,this.closed=!0,this.channel.post("close",!0))}};H=class extends I{constructor({remoteIdentity:t,host:e,party:r,channel:n}){super({remoteIdentity:t,host:e,party:r}),this.channel=n}async socketInit(){G("init"),this.socket=new J(this.channel)}async socketStart(){G("start"),this.socket.start()}};var Q;const Z=i("23wL6")("dataparty.comms.rtcsocketcomms");var X,tt={},et=(h=i("6ymgl")).Buffer,rt=i("9McT6")("simple-peer");X=function(){if("undefined"==typeof globalThis)return null;var t={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return t.RTCPeerConnection?t:null};var nt={},it=(f=i("b28Wo"),65536);var ot={},st=(h=i("6ymgl")).Buffer;function at(t,e){for(var r in t)e[r]=t[r]}function ut(t,e,r){return st(t,e,r)}st.from&&st.alloc&&st.allocUnsafe&&st.allocUnsafeSlow?ot=h:(at(h,ot),ot.Buffer=ut),at(st,ut),ut.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return st(t,e,r)},ut.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=st(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},ut.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return st(t)},ut.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return h.SlowBuffer(t)};var ct=ot.Buffer,lt=e.crypto||e.msCrypto;nt=lt&&lt.getRandomValues?function(t,e){if(t>4294967295)throw new RangeError("requested too many random bytes");var r=ct.allocUnsafe(t);if(t>0)if(t>it)for(var n=0;n<t;n+=it)lt.getRandomValues(r.slice(n,n+it));else lt.getRandomValues(r);return"function"==typeof e?f.nextTick((function(){e(null,r)})):r}:function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")};var ht=i("cjZpE"),ft={};
/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let dt;ft="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"!=typeof window?window:e):t=>(dt||(dt=Promise.resolve())).then(t).catch((t=>setTimeout((()=>{throw t}),0)));var pt=65536;function yt(t){return t.replace(/a=ice-options:trickle\s\n/g,"")}function vt(t,e){return"string"==typeof t&&(t=new Error(t)),t.error instanceof Error&&(t=t.error),t.code=e,t}class mt extends ht.Duplex{constructor(t){if(super(t=Object.assign({allowHalfOpen:!1},t)),this._id=nt(4).toString("hex").slice(0,7),this._debug("new peer %o",t),this.channelName=t.initiator?t.channelName||nt(20).toString("hex"):null,this.initiator=t.initiator||!1,this.channelConfig=t.channelConfig||mt.channelConfig,this.negotiated=this.channelConfig.negotiated,this.config=Object.assign({},mt.config,t.config),this.offerOptions=t.offerOptions||{},this.answerOptions=t.answerOptions||{},this.sdpTransform=t.sdpTransform||(t=>t),this.streams=t.streams||(t.stream?[t.stream]:[]),this.trickle=void 0===t.trickle||t.trickle,this.allowHalfTrickle=void 0!==t.allowHalfTrickle&&t.allowHalfTrickle,this.iceCompleteTimeout=t.iceCompleteTimeout||5e3,this.destroyed=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=t.wrtc&&"object"==typeof t.wrtc?t.wrtc:X(),!this._wrtc)throw"undefined"==typeof window?vt("No WebRTC support: Specify `opts.wrtc` option in this environment","ERR_WEBRTC_SUPPORT"):vt("No WebRTC support: Not a supported browser","ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!this.negotiated&&!this.initiator,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._firstStable=!0,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(t){return void ft((()=>this.destroy(vt(t,"ERR_PC_CONSTRUCTOR"))))}this._isReactNativeWebrtc="number"==typeof this._pc._peerConnectionId,this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=t=>{this._onIceCandidate(t)},this.initiator||this.negotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=t=>{this._setupData(t)},this.streams&&this.streams.forEach((t=>{this.addStream(t)})),this._pc.ontrack=t=>{this._onTrack(t)},this.initiator&&this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&"open"===this._channel.readyState}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(t){if(this.destroyed)throw vt("cannot signal after peer is destroyed","ERR_SIGNALING");if("string"==typeof t)try{t=JSON.parse(t)}catch(e){t={}}this._debug("signal()"),t.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),t.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(t.transceiverRequest.kind,t.transceiverRequest.init)),t.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(t.candidate):this._pendingCandidates.push(t.candidate)),t.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(t)).then((()=>{this.destroyed||(this._pendingCandidates.forEach((t=>{this._addIceCandidate(t)})),this._pendingCandidates=[],"offer"===this._pc.remoteDescription.type&&this._createAnswer())})).catch((t=>{this.destroy(vt(t,"ERR_SET_REMOTE_DESCRIPTION"))})),t.sdp||t.candidate||t.renegotiate||t.transceiverRequest||this.destroy(vt("signal() called with invalid signal data","ERR_SIGNALING"))}_addIceCandidate(t){var e=new this._wrtc.RTCIceCandidate(t);this._pc.addIceCandidate(e).catch((t=>{var r;!e.address||e.address.endsWith(".local")?(r="Ignoring unsupported ICE candidate.",console.warn(r)):this.destroy(vt(t,"ERR_ADD_ICE_CANDIDATE"))}))}send(t){this._channel.send(t)}addTransceiver(t,e){if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(t,e),this._needsNegotiation()}catch(t){this.destroy(vt(t,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{transceiverRequest:{kind:t,init:e}})}addStream(t){this._debug("addStream()"),t.getTracks().forEach((e=>{this.addTrack(e,t)}))}addTrack(t,e){this._debug("addTrack()");var r=this._senderMap.get(t)||new Map,n=r.get(e);if(n)throw n.removed?vt("Track has been removed. You should enable/disable tracks that you want to re-add.","ERR_SENDER_REMOVED"):vt("Track has already been added to that stream.","ERR_SENDER_ALREADY_ADDED");n=this._pc.addTrack(t,e),r.set(e,n),this._senderMap.set(t,r),this._needsNegotiation()}replaceTrack(t,e,r){this._debug("replaceTrack()");var n=this._senderMap.get(t),i=n?n.get(r):null;if(!i)throw vt("Cannot replace track that was never added.","ERR_TRACK_NOT_ADDED");e&&this._senderMap.set(e,n),null!=i.replaceTrack?i.replaceTrack(e):this.destroy(vt("replaceTrack is not supported in this browser","ERR_UNSUPPORTED_REPLACETRACK"))}removeTrack(t,e){this._debug("removeSender()");var r=this._senderMap.get(t),n=r?r.get(e):null;if(!n)throw vt("Cannot remove track that was never added.","ERR_TRACK_NOT_ADDED");try{n.removed=!0,this._pc.removeTrack(n)}catch(t){"NS_ERROR_UNEXPECTED"===t.name?this._sendersAwaitingStable.push(n):this.destroy(vt(t,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(t){this._debug("removeSenders()"),t.getTracks().forEach((e=>{this.removeTrack(e,t)}))}_needsNegotiation(){this._debug("_needsNegotiation"),this._batchedNegotiation||(this._batchedNegotiation=!0,ft((()=>{this._batchedNegotiation=!1,this._debug("starting batched negotiation"),this.negotiate()})))}negotiate(){this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout((()=>{this._createOffer()}),0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{renegotiate:!0})),this._isNegotiating=!0}destroy(t){this._destroy(t,(()=>{}))}_destroy(t,e){if(!this.destroyed){if(this._debug("destroy (error: %s)",t&&(t.message||t)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this.destroyed=!0,this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch(t){}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch(t){}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,t&&this.emit("error",t),this.emit("close"),e()}}_setupData(t){if(!t.channel)return this.destroy(vt("Data channel event is missing `channel` property","ERR_DATA_CHANNEL"));this._channel=t.channel,this._channel.binaryType="arraybuffer","number"==typeof this._channel.bufferedAmountLowThreshold&&(this._channel.bufferedAmountLowThreshold=pt),this.channelName=this._channel.label,this._channel.onmessage=t=>{this._onChannelMessage(t)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=t=>{this.destroy(vt(t,"ERR_DATA_CHANNEL"))};var e=!1;this._closingInterval=setInterval((()=>{this._channel&&"closing"===this._channel.readyState?(e&&this._onChannelClose(),e=!0):e=!1}),5e3)}_read(){}_write(t,e,r){if(this.destroyed)return r(vt("cannot write after peer is destroyed","ERR_DATA_CHANNEL"));if(this._connected){try{this.send(t)}catch(t){return this.destroy(vt(t,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>pt?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=r):r(null)}else this._debug("write before connect"),this._chunk=t,this._cb=r}_onFinish(){if(this.destroyed)return;const t=()=>{setTimeout((()=>this.destroy()),1e3)};this._connected?t():this.once("connect",t)}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout((()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))}),this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then((t=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(t.sdp=yt(t.sdp)),t.sdp=this.sdpTransform(t.sdp);const e=()=>{if(!this.destroyed){var e=this._pc.localDescription||t;this._debug("signal"),this.emit("signal",{type:e.type,sdp:e.sdp})}};this._pc.setLocalDescription(t).then((()=>{this._debug("createOffer success"),this.destroyed||(this.trickle||this._iceComplete?e():this.once("_iceComplete",e))})).catch((t=>{this.destroy(vt(t,"ERR_SET_LOCAL_DESCRIPTION"))}))})).catch((t=>{this.destroy(vt(t,"ERR_CREATE_OFFER"))}))}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach((t=>{t.mid||!t.sender.track||t.requested||(t.requested=!0,this.addTransceiver(t.sender.track.kind))}))}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then((t=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(t.sdp=yt(t.sdp)),t.sdp=this.sdpTransform(t.sdp);const e=()=>{if(!this.destroyed){var e=this._pc.localDescription||t;this._debug("signal"),this.emit("signal",{type:e.type,sdp:e.sdp}),this.initiator||this._requestMissingTransceivers()}};this._pc.setLocalDescription(t).then((()=>{this.destroyed||(this.trickle||this._iceComplete?e():this.once("_iceComplete",e))})).catch((t=>{this.destroy(vt(t,"ERR_SET_LOCAL_DESCRIPTION"))}))})).catch((t=>{this.destroy(vt(t,"ERR_CREATE_ANSWER"))}))}_onConnectionStateChange(){this.destroyed||"failed"===this._pc.connectionState&&this.destroy(vt("Connection failed.","ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(!this.destroyed){var t=this._pc.iceConnectionState,e=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",t,e),this.emit("iceStateChange",t,e),"connected"!==t&&"completed"!==t||(this._pcReady=!0,this._maybeReady()),"failed"===t&&this.destroy(vt("Ice connection failed.","ERR_ICE_CONNECTION_FAILURE")),"closed"===t&&this.destroy(vt("Ice connection closed.","ERR_ICE_CONNECTION_CLOSED"))}}getStats(t){const e=t=>("[object Array]"===Object.prototype.toString.call(t.values)&&t.values.forEach((e=>{Object.assign(t,e)})),t);0===this._pc.getStats.length||this._isReactNativeWebrtc?this._pc.getStats().then((r=>{var n=[];r.forEach((t=>{n.push(e(t))})),t(null,n)}),(e=>t(e))):this._pc.getStats.length>0?this._pc.getStats((r=>{if(!this.destroyed){var n=[];r.result().forEach((t=>{var r={};t.names().forEach((e=>{r[e]=t.stat(e)})),r.id=t.id,r.type=t.type,r.timestamp=t.timestamp,n.push(e(r))})),t(null,n)}}),(e=>t(e))):t(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const t=()=>{this.destroyed||this.getStats(((e,r)=>{if(this.destroyed)return;e&&(r=[]);var n={},i={},o={},s=!1;r.forEach((t=>{"remotecandidate"!==t.type&&"remote-candidate"!==t.type||(n[t.id]=t),"localcandidate"!==t.type&&"local-candidate"!==t.type||(i[t.id]=t),"candidatepair"!==t.type&&"candidate-pair"!==t.type||(o[t.id]=t)}));const a=t=>{s=!0;var e=i[t.localCandidateId];e&&(e.ip||e.address)?(this.localAddress=e.ip||e.address,this.localPort=Number(e.port)):e&&e.ipAddress?(this.localAddress=e.ipAddress,this.localPort=Number(e.portNumber)):"string"==typeof t.googLocalAddress&&(e=t.googLocalAddress.split(":"),this.localAddress=e[0],this.localPort=Number(e[1])),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");var r=n[t.remoteCandidateId];r&&(r.ip||r.address)?(this.remoteAddress=r.ip||r.address,this.remotePort=Number(r.port)):r&&r.ipAddress?(this.remoteAddress=r.ipAddress,this.remotePort=Number(r.portNumber)):"string"==typeof t.googRemoteAddress&&(r=t.googRemoteAddress.split(":"),this.remoteAddress=r[0],this.remotePort=Number(r[1])),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(r.forEach((t=>{"transport"===t.type&&t.selectedCandidatePairId&&a(o[t.selectedCandidatePairId]),("googCandidatePair"===t.type&&"true"===t.googActiveConnection||("candidatepair"===t.type||"candidate-pair"===t.type)&&t.selected)&&a(t)})),s||Object.keys(o).length&&!Object.keys(i).length){if(this._connecting=!1,this._connected=!0,this._chunk){try{this.send(this._chunk)}catch(t){return this.destroy(vt(t,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');var u=this._cb;this._cb=null,u(null)}"number"!=typeof this._channel.bufferedAmountLowThreshold&&(this._interval=setInterval((()=>this._onInterval()),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")}else setTimeout(t,100)}))};t()}_onInterval(){!this._cb||!this._channel||this._channel.bufferedAmount>pt||this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||("stable"!==this._pc.signalingState||this._firstStable||(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach((t=>{this._pc.removeTrack(t),this._queuedNegotiation=!0})),this._sendersAwaitingStable=[],this._queuedNegotiation&&(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()),this._debug("negotiate"),this.emit("negotiate")),this._firstStable=!1,this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(t){this.destroyed||(t.candidate&&this.trickle?this.emit("signal",{candidate:{candidate:t.candidate.candidate,sdpMLineIndex:t.candidate.sdpMLineIndex,sdpMid:t.candidate.sdpMid}}):t.candidate||this._iceComplete||(this._iceComplete=!0,this.emit("_iceComplete")),t.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(t){if(!this.destroyed){var e=t.data;e instanceof ArrayBuffer&&(e=et.from(e)),this.push(e)}}_onChannelBufferedAmountLow(){if(!this.destroyed&&this._cb){this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);var t=this._cb;this._cb=null,t(null)}}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(t){this.destroyed||t.streams.forEach((e=>{this._debug("on track"),this.emit("track",t.track,e),this._remoteTracks.push({track:t.track,stream:e}),this._remoteStreams.some((t=>t.id===e.id))||(this._remoteStreams.push(e),ft((()=>{this.emit("stream",e)})))}))}_debug(){var t=[].slice.call(arguments);t[0]="["+this._id+"] "+t[0],rt.apply(null,t)}}mt.WEBRTC_SUPPORT=!!X(),mt.config={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:global.stun.twilio.com:3478?transport=udp"}],sdpSemantics:"unified-plan"},mt.channelConfig={},tt=mt;Q=class extends I{constructor({remoteIdentity:t,host:e,party:r,wrtc:n,trickle:i=!1,...o}){super({remoteIdentity:t,host:e,party:r,...o}),this.rtcSettings={wrtc:n,trickle:i,initiator:e}}async socketInit(){Z("init"),this.socket=new tt(this.rtcSettings)}};u=i("gh2nv");class gt{constructor(t){this.events=new u,this.peer=t}post(t,e){this.events.emit(t,e)}on(t,e){this.peer.events.on(t,e)}}o={RestComms:s,SocketComms:w,PeerComms:I,LoopbackComms:H,LoopbackChannel:class{constructor(){this.peer1=new gt,this.peer2=new gt(this.peer1),this.peer1.peer=this.peer2}},RTCSocketComms:Q,WebsocketComms:F,SocketOp:w,WebsocketOp:B,BLEMessage:$,BLEOp:W,AuthOp:x,AuthError:g};var bt,wt;const _t=i("23wL6")("dataparty.iparty");var St;const Et=i("23wL6")("dataparty.query");var xt,Ot={},Ct={},At={},kt={};xt=function(){this.__data__=[],this.size=0};var Pt,jt={},Dt={};Dt=function(t,e){return t===e||t!=t&&e!=e},jt=function(t,e){for(var r=t.length;r--;)if(Dt(t[r][0],e))return r;return-1};var Rt=Array.prototype.splice;Pt=function(t){var e=this.__data__,r=jt(e,t);return!(r<0)&&(r==e.length-1?e.pop():Rt.call(e,r,1),--this.size,!0)};var It;It=function(t){var e=this.__data__,r=jt(e,t);return r<0?void 0:e[r][1]};var Tt;Tt=function(t){return jt(this.__data__,t)>-1};var Ft;function Mt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ft=function(t,e){var r=this.__data__,n=jt(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},Mt.prototype.clear=xt,Mt.prototype.delete=Pt,Mt.prototype.get=It,Mt.prototype.has=Tt,Mt.prototype.set=Ft,kt=Mt;var Nt;Nt=function(){this.__data__=new kt,this.size=0};var Lt;Lt=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r};var Bt;Bt=function(t){return this.__data__.get(t)};var Ut;Ut=function(t){return this.__data__.has(t)};var $t,zt,qt={},Yt={},Wt={},Vt={},Ht={};zt=(me=i("fDUPz")).Symbol;var Gt={},Jt=Object.prototype,Kt=Jt.hasOwnProperty,Qt=Jt.toString,Zt=zt?zt.toStringTag:void 0;Gt=function(t){var e=Kt.call(t,Zt),r=t[Zt];try{t[Zt]=void 0;var n=!0}catch(t){}var i=Qt.call(t);return n&&(e?t[Zt]=r:delete t[Zt]),i};var Xt={},te=Object.prototype.toString;Xt=function(t){return te.call(t)};var ee=zt?zt.toStringTag:void 0;Ht=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":ee&&ee in Object(t)?Gt(t):Xt(t)};var re={};re=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)};Vt=function(t){if(!re(t))return!1;var e=Ht(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e};var ne,ie,oe={},se=(me=i("fDUPz"))["__core-js_shared__"],ae=(ie=/[^.]+$/.exec((ne=se)&&ne.keys&&ne.keys.IE_PROTO||""))?"Symbol(src)_1."+ie:"";oe=function(t){return!!ae&&ae in t};var ue={},ce=Function.prototype.toString;ue=function(t){if(null!=t){try{return ce.call(t)}catch(t){}try{return t+""}catch(t){}}return""};var le=/^\[object .+?Constructor\]$/,he=Function.prototype,fe=Object.prototype,de=he.toString,pe=fe.hasOwnProperty,ye=RegExp("^"+de.call(pe).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");Wt=function(t){return!(!re(t)||oe(t))&&(Vt(t)?ye:le).test(ue(t))};var ve={};ve=function(t,e){return null==t?void 0:t[e]},Yt=function(t,e){var r=ve(t,e);return Wt(r)?r:void 0};var me=i("fDUPz"),ge=Yt(me,"Map");qt=ge;var be,we,_e={},Se={},Ee={},xe=Yt(Object,"create");Ee=xe,we=function(){this.__data__=Ee?Ee(null):{},this.size=0};var Oe;Oe=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e};var Ce,Ae=Object.prototype.hasOwnProperty;Ce=function(t){var e=this.__data__;if(Ee){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return Ae.call(e,t)?e[t]:void 0};var ke,Pe=Object.prototype.hasOwnProperty;ke=function(t){var e=this.__data__;return Ee?void 0!==e[t]:Pe.call(e,t)};var je;function De(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}je=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Ee&&void 0===e?"__lodash_hash_undefined__":e,this},De.prototype.clear=we,De.prototype.delete=Oe,De.prototype.get=Ce,De.prototype.has=ke,De.prototype.set=je,Se=De,be=function(){this.size=0,this.__data__={hash:new Se,map:new(qt||kt),string:new Se}};var Re,Ie={},Te={};Te=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t},Ie=function(t,e){var r=t.__data__;return Te(e)?r["string"==typeof e?"string":"hash"]:r.map},Re=function(t){var e=Ie(this,t).delete(t);return this.size-=e?1:0,e};var Fe;Fe=function(t){return Ie(this,t).get(t)};var Me;Me=function(t){return Ie(this,t).has(t)};var Ne;function Le(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ne=function(t,e){var r=Ie(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},Le.prototype.clear=be,Le.prototype.delete=Re,Le.prototype.get=Fe,Le.prototype.has=Me,Le.prototype.set=Ne,_e=Le;function Be(t){var e=this.__data__=new kt(t);this.size=e.size}$t=function(t,e){var r=this.__data__;if(r instanceof kt){var n=r.__data__;if(!qt||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new _e(n)}return r.set(t,e),this.size=r.size,this},Be.prototype.clear=Nt,Be.prototype.delete=Lt,Be.prototype.get=Bt,Be.prototype.has=Ut,Be.prototype.set=$t,At=Be;var Ue={};Ue=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t};var $e={},ze={},qe={},Ye=function(){try{var t=Yt(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();qe=Ye,ze=function(t,e,r){"__proto__"==e&&qe?qe(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r};var We=Object.prototype.hasOwnProperty;$e=function(t,e,r){var n=t[e];We.call(t,e)&&Dt(n,r)&&(void 0!==r||e in t)||ze(t,e,r)};var Ve={},He={};He=function(t,e,r,n){var i=!r;r||(r={});for(var o=-1,s=e.length;++o<s;){var a=e[o],u=n?n(r[a],t[a],a,r,t):void 0;void 0===u&&(u=t[a]),i?ze(r,a,u):$e(r,a,u)}return r};var Ge={},Je={},Ke={};Ke=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n};var Qe={},Ze={},Xe={};Xe=function(t){return null!=t&&"object"==typeof t};Ze=function(t){return Xe(t)&&"[object Arguments]"==Ht(t)};var tr=Object.prototype,er=tr.hasOwnProperty,rr=tr.propertyIsEnumerable,nr=Ze(function(){return arguments}())?Ze:function(t){return Xe(t)&&er.call(t,"callee")&&!rr.call(t,"callee")};Qe=nr;var ir={},or=Array.isArray;ir=or;var sr=i("5EcKJ"),ar={},ur=/^(?:0|[1-9]\d*)$/;ar=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&ur.test(t))&&t>-1&&t%1==0&&t<e};var cr,lr={},hr={};hr=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991};var fr={};fr["[object Float32Array]"]=fr["[object Float64Array]"]=fr["[object Int8Array]"]=fr["[object Int16Array]"]=fr["[object Int32Array]"]=fr["[object Uint8Array]"]=fr["[object Uint8ClampedArray]"]=fr["[object Uint16Array]"]=fr["[object Uint32Array]"]=!0,fr["[object Arguments]"]=fr["[object Array]"]=fr["[object ArrayBuffer]"]=fr["[object Boolean]"]=fr["[object DataView]"]=fr["[object Date]"]=fr["[object Error]"]=fr["[object Function]"]=fr["[object Map]"]=fr["[object Number]"]=fr["[object Object]"]=fr["[object RegExp]"]=fr["[object Set]"]=fr["[object String]"]=fr["[object WeakMap]"]=!1,cr=function(t){return Xe(t)&&hr(t.length)&&!!fr[Ht(t)]};var dr={};dr=function(t){return function(e){return t(e)}};var pr=(In=i("95lXD"))&&In.isTypedArray,yr=pr?dr(pr):cr;lr=yr;var vr=Object.prototype.hasOwnProperty;Je=function(t,e){var r=ir(t),n=!r&&Qe(t),i=!r&&!n&&sr(t),o=!r&&!n&&!i&&lr(t),s=r||n||i||o,a=s?Ke(t.length,String):[],u=a.length;for(var c in t)!e&&!vr.call(t,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ar(c,u))||a.push(c);return a};var mr={},gr={},br=Object.prototype;gr=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||br)};var wr={},_r={};var Sr=(_r=function(t,e){return function(r){return t(e(r))}})(Object.keys,Object);wr=Sr;var Er=Object.prototype.hasOwnProperty;mr=function(t){if(!gr(t))return wr(t);var e=[];for(var r in Object(t))Er.call(t,r)&&"constructor"!=r&&e.push(r);return e};var xr={};xr=function(t){return null!=t&&hr(t.length)&&!Vt(t)},Ge=function(t){return xr(t)?Je(t):mr(t)},Ve=function(t,e){return t&&He(e,Ge(e),t)};var Or={},Cr={},Ar={},kr={};kr=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e};var Pr=Object.prototype.hasOwnProperty;Ar=function(t){if(!re(t))return kr(t);var e=gr(t),r=[];for(var n in t)("constructor"!=n||!e&&Pr.call(t,n))&&r.push(n);return r},Cr=function(t){return xr(t)?Je(t,!0):Ar(t)},Or=function(t,e){return t&&He(e,Cr(e),t)};var jr=i("f7Sn6"),Dr={};Dr=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e};var Rr={},Ir={},Tr={};Tr=function(t,e){for(var r=-1,n=null==t?0:t.length,i=0,o=[];++r<n;){var s=t[r];e(s,r,t)&&(o[i++]=s)}return o};var Fr;Fr=function(){return[]};var Mr=Object.prototype.propertyIsEnumerable,Nr=Object.getOwnPropertySymbols;Ir=Nr?function(t){return null==t?[]:(t=Object(t),Tr(Nr(t),(function(e){return Mr.call(t,e)})))}:Fr,Rr=function(t,e){return He(t,Ir(t),e)};var Lr={},Br={},Ur={};Ur=function(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t};var $r={},zr=_r(Object.getPrototypeOf,Object);$r=zr;var qr=Object.getOwnPropertySymbols;Br=qr?function(t){for(var e=[];t;)Ur(e,Ir(t)),t=$r(t);return e}:Fr,Lr=function(t,e){return He(t,Br(t),e)};var Yr,Wr={};Wr=function(t,e,r){var n=e(t);return ir(t)?n:Ur(n,r(t))},Yr=function(t){return Wr(t,Ge,Ir)};var Vr;Vr=function(t){return Wr(t,Cr,Br)};var Hr={},Gr={};me=i("fDUPz");Gr=Yt(me,"DataView");var Jr={};me=i("fDUPz");Jr=Yt(me,"Promise");var Kr={};me=i("fDUPz");Kr=Yt(me,"Set");var Qr={};me=i("fDUPz");Qr=Yt(me,"WeakMap");var Zr="[object Map]",Xr="[object Promise]",tn="[object Set]",en="[object WeakMap]",rn="[object DataView]",nn=ue(Gr),on=ue(qt),sn=ue(Jr),an=ue(Kr),un=ue(Qr),cn=Ht;(Gr&&cn(new Gr(new ArrayBuffer(1)))!=rn||qt&&cn(new qt)!=Zr||Jr&&cn(Jr.resolve())!=Xr||Kr&&cn(new Kr)!=tn||Qr&&cn(new Qr)!=en)&&(cn=function(t){var e=Ht(t),r="[object Object]"==e?t.constructor:void 0,n=r?ue(r):"";if(n)switch(n){case nn:return rn;case on:return Zr;case sn:return Xr;case an:return tn;case un:return en}return e}),Hr=cn;var ln={},hn=Object.prototype.hasOwnProperty;ln=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&hn.call(t,"index")&&(r.index=t.index,r.input=t.input),r};var fn={},dn={},pn={},yn=(me=i("fDUPz")).Uint8Array;pn=yn,dn=function(t){var e=new t.constructor(t.byteLength);return new pn(e).set(new pn(t)),e};var vn={};vn=function(t,e){var r=e?dn(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)};var mn={},gn=/\w*$/;mn=function(t){var e=new t.constructor(t.source,gn.exec(t));return e.lastIndex=t.lastIndex,e};var bn={},wn=zt?zt.prototype:void 0,_n=wn?wn.valueOf:void 0;bn=function(t){return _n?Object(_n.call(t)):{}};var Sn={};Sn=function(t,e){var r=e?dn(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)};fn=function(t,e,r){var n=t.constructor;switch(e){case"[object ArrayBuffer]":return dn(t);case"[object Boolean]":case"[object Date]":return new n(+t);case"[object DataView]":return vn(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Sn(t,r);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(t);case"[object RegExp]":return mn(t);case"[object Symbol]":return bn(t)}};var En={},xn={},On=Object.create,Cn=function(){function t(){}return function(e){if(!re(e))return{};if(On)return On(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();xn=Cn,En=function(t){return"function"!=typeof t.constructor||gr(t)?{}:xn($r(t))};sr=i("5EcKJ");var An,kn={};An=function(t){return Xe(t)&&"[object Map]"==Hr(t)};var Pn=(In=i("95lXD"))&&In.isMap,jn=Pn?dr(Pn):An;kn=jn;var Dn,Rn={};Dn=function(t){return Xe(t)&&"[object Set]"==Hr(t)};var In,Tn=(In=i("95lXD"))&&In.isSet,Fn=Tn?dr(Tn):Dn;Rn=Fn;var Mn="[object Arguments]",Nn="[object Function]",Ln="[object Object]",Bn={};Bn["[object Arguments]"]=Bn["[object Array]"]=Bn["[object ArrayBuffer]"]=Bn["[object DataView]"]=Bn["[object Boolean]"]=Bn["[object Date]"]=Bn["[object Float32Array]"]=Bn["[object Float64Array]"]=Bn["[object Int8Array]"]=Bn["[object Int16Array]"]=Bn["[object Int32Array]"]=Bn["[object Map]"]=Bn["[object Number]"]=Bn["[object Object]"]=Bn["[object RegExp]"]=Bn["[object Set]"]=Bn["[object String]"]=Bn["[object Symbol]"]=Bn["[object Uint8Array]"]=Bn["[object Uint8ClampedArray]"]=Bn["[object Uint16Array]"]=Bn["[object Uint32Array]"]=!0,Bn["[object Error]"]=Bn["[object Function]"]=Bn["[object WeakMap]"]=!1,Ct=function t(e,r,n,i,o,s){var a,u=1&r,c=2&r,l=4&r;if(n&&(a=o?n(e,i,o,s):n(e)),void 0!==a)return a;if(!re(e))return e;var h=ir(e);if(h){if(a=ln(e),!u)return Dr(e,a)}else{var f=Hr(e),d=f==Nn||"[object GeneratorFunction]"==f;if(sr(e))return jr(e,u);if(f==Ln||f==Mn||d&&!o){if(a=c||d?{}:En(e),!u)return c?Lr(e,Or(a,e)):Rr(e,Ve(a,e))}else{if(!Bn[f])return o?e:{};a=fn(e,f,u)}}s||(s=new At);var p=s.get(e);if(p)return p;s.set(e,a),Rn(e)?e.forEach((function(i){a.add(t(i,r,n,i,e,s))})):kn(e)&&e.forEach((function(i,o){a.set(o,t(i,r,n,o,e,s))}));var y=h?void 0:(l?c?Vr:Yr:c?Cr:Ge)(e);return Ue(y||e,(function(i,o){y&&(i=e[o=i]),$e(a,o,t(i,r,n,o,e,s))})),a};Ot=function(t){return Ct(t,5)};var Un={},$n={},zn={},qn={},Yn={},Wn={},Vn={},Hn={};Hn=function(t){return"symbol"==typeof t||Xe(t)&&"[object Symbol]"==Ht(t)};var Gn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Jn=/^\w*$/;Vn=function(t,e){if(ir(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!Hn(t))||(Jn.test(t)||!Gn.test(t)||null!=e&&t in Object(e))};var Kn={},Qn={};function Zn(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=t.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(Zn.Cache||_e),r}Zn.Cache=_e,Qn=Zn;var Xn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ti=/\\(\\)?/g,ei=function(t){var e=Qn(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Xn,(function(t,r,n,i){e.push(n?i.replace(ti,"$1"):r||t)})),e}));Kn=ei;var ri={},ni={},ii={};ii=function(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i};var oi=zt?zt.prototype:void 0,si=oi?oi.toString:void 0;ni=function t(e){if("string"==typeof e)return e;if(ir(e))return ii(e,t)+"";if(Hn(e))return si?si.call(e):"";var r=e+"";return"0"==r&&1/e==-Infinity?"-0":r},ri=function(t){return null==t?"":ni(t)},Wn=function(t,e){return ir(t)?t:Vn(t,e)?[t]:Kn(ri(t))};var ai={};ai=function(t){if("string"==typeof t||Hn(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e},Yn=function(t,e){for(var r=0,n=(e=Wn(e,t)).length;null!=t&&r<n;)t=t[ai(e[r++])];return r&&r==n?t:void 0};var ui={};ui=function(t,e,r,n){if(!re(t))return t;for(var i=-1,o=(e=Wn(e,t)).length,s=o-1,a=t;null!=a&&++i<o;){var u=ai(e[i]),c=r;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(i!=s){var l=a[u];void 0===(c=n?n(l,u,a):void 0)&&(c=re(l)?l:ar(e[i+1])?[]:{})}$e(a,u,c),a=a[u]}return t},qn=function(t,e,r){for(var n=-1,i=e.length,o={};++n<i;){var s=e[n],a=Yn(t,s);r(a,s)&&ui(o,Wn(s,t),a)}return o};var ci,li={};ci=function(t,e){return null!=t&&e in Object(t)};var hi={};hi=function(t,e,r){for(var n=-1,i=(e=Wn(e,t)).length,o=!1;++n<i;){var s=ai(e[n]);if(!(o=null!=t&&r(t,s)))break;t=t[s]}return o||++n!=i?o:!!(i=null==t?0:t.length)&&hr(i)&&ar(s,i)&&(ir(t)||Qe(t))},li=function(t,e){return null!=t&&hi(t,e,ci)},zn=function(t,e){return qn(t,e,(function(e,r){return li(t,r)}))};var fi,di,pi={},yi=zt?zt.isConcatSpreadable:void 0;di=function(t){return ir(t)||Qe(t)||!!(yi&&t&&t[yi])},pi=function t(e,r,n,i,o){var s=-1,a=e.length;for(n||(n=di),o||(o=[]);++s<a;){var u=e[s];r>0&&n(u)?r>1?t(u,r-1,n,i,o):Ur(o,u):i||(o[o.length]=u)}return o},fi=function(t){return(null==t?0:t.length)?pi(t,1):[]};var vi={},mi={};mi=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)};var gi=Math.max;vi=function(t,e,r){return e=gi(void 0===e?t.length-1:e,0),function(){for(var n=arguments,i=-1,o=gi(n.length-e,0),s=Array(o);++i<o;)s[i]=n[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=n[i];return a[e]=r(s),mi(t,this,a)}};var bi,wi={},_i={};_i=function(t){return function(){return t}};bi=qe?function(t,e){return qe(t,"toString",{configurable:!0,enumerable:!1,value:_i(e),writable:!0})}:function(t){return t};var Si=Date.now;var Ei=function(t){var e=0,r=0;return function(){var n=Si(),i=16-(n-r);if(r=n,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(bi);wi=Ei;var xi=function(t){return wi(vi(t,void 0,fi),t+"")}((function(t,e){return null==t?{}:zn(t,e)}));$n=xi,Un=class t{static validateOneType(t){const e={};for(const r of t)r.$meta.type in e||(e[r.$meta.type]=[]),e[r.$meta.type].push(r);const r=Object.keys(e);return r.length<1?[null,[]]:[r[0],e[r[0]]]}static select(e,r){const n=Array.isArray(e)?e:t.splitFilter(e);return $n(r,n)}static selectAll(e,r){const n=Array.isArray(e)?e:t.splitFilter(e),i=[];for(const e of r)i.push(t.select(n,e));return i}static splitFilter(t){const e=[];for(const r of t.split(" "))e.push(r.split("."));return e}static partyize(t,e){return"string"==typeof e?{$meta:{type:t,id:e},_id:e}:"object"==typeof e?Object.assign({},e,{$meta:{type:t,id:e._id}}):void 0}},St=class t{constructor(t,e){this.qb=t,this.model=e,this.spec={match:[]},this.currentWhere=void 0,this.whereStack=[],this.andOrElemStack=[],this.currentMatch=this.spec.match,this.matchStack=[]}toJSON(){return this.spec}async exec(t=!0){if(!("string"==typeof this.spec.type&&this.spec.type.length>0))throw console.error(this.spec),new Error("Bad query");if(t){const t=await this.qb.find(this.spec);return Et("hydrating",t),this.model.hydrate(t)}return await this.qb.find(this.spec)}type(t){return delete this.spec.types,this.spec.type=t,this}types(...t){return delete this.spec.type,this.spec.types=t.slice(),this}id(t){return delete this.spec.ids,this.spec.id=t,this}ids(...t){return delete this.spec.id,this.spec.ids=t.slice(),this}owner(t,e){return this.spec.owner={type:t,id:e},this}sort(t,e){let r=e||1,n=t;return"-"===n[0]&&(r=-1,n=n.slice(1)),this.spec.sort={param:n,direction:r},this}limit(t){return this.spec.limit=t,this}select(t){return this.spec.select=Un.splitFilter(t),this}where(e){return this.currentWhere=t.splitParam(e),this}and(){const t={op:"and",match:[]};return this.currentMatch.push(t),this.andOrElemStack.push("and"),this.matchStack.push(this.currentMatch),this.currentMatch=t.match,this}dna(){const t=this.andOrElemStack.pop();if("and"!==t){if(void 0===t)throw new Error("cant dna without anding first!");throw this.andOrElemStack.push(t),new Error(`cant dna until ${t} is closed`)}if(this.currentMatch=this.matchStack.pop(),void 0===this.currentMatch)throw new Error("match stack underflow!");return this}or(){const t={op:"or",match:[]};return this.currentMatch.push(t),this.andOrElemStack.push("or"),this.matchStack.push(this.currentMatch),this.currentMatch=t.match,this}ro(){const t=this.andOrElemStack.pop();if("or"!==t){if(void 0===t)throw new Error("cant ro without oring first!");throw this.andOrElemStack.push(t),new Error(`cant ro until ${t} is closed`)}if(this.currentMatch=this.matchStack.pop(),void 0===this.currentMatch)throw new Error("match stack underflow!");return this}equals(t){const e={op:"equals",param:this.cloneWhere(),value:t};return this.currentMatch.push(e),this}contains(t){const e={op:"contains",param:this.cloneWhere(),value:t};return this.currentMatch.push(e),this}regex(t){const e={op:"regex",param:this.cloneWhere(),value:t};return this.currentMatch.push(e),this}exists(t){const e=!0===t||void 0===t,r={op:"exists",param:this.cloneWhere(),value:e};return this.currentMatch.push(r),this}in(...t){const e={op:"in",param:this.cloneWhere(),values:t};return this.currentMatch.push(e),this}gt(t){const e={op:"gt",param:this.cloneWhere(),value:t};return this.currentMatch.push(e),this}lt(t){const e={op:"lt",param:this.cloneWhere(),value:t};return this.currentMatch.push(e),this}elem(){const t={op:"elem",param:this.cloneWhere(),match:[]};return this.currentMatch.push(t),this.whereStack.push(this.currentWhere),this.currentWhere=[],this.andOrElemStack.push("elem"),this.matchStack.push(this.currentMatch),this.currentMatch=t.match,this}mele(){const t=this.andOrElemStack.pop();if("elem"!==t){if(void 0===t)throw new Error("cant mele without eleming first!");throw this.andOrElemStack.push(t),new Error(`cant mele until ${t} is closed`)}if(this.currentWhere=this.whereStack.pop(),this.currentMatch=this.matchStack.pop(),void 0===this.currentMatch)throw new Error("match stack underflow!");return this}all(...t){const e={op:"all",param:this.cloneWhere(),values:t};return this.currentMatch.push(e),this}size(t){const e={op:"size",param:this.cloneWhere(),value:t};return this.currentMatch.push(e),this}cloneWhere(){if(!Array.isArray(this.currentWhere))throw new Error("where value not set!");return Ot(this.currentWhere)}static splitParam(t){return t.split(".")}};var Oi,Ci;Ci=function(t,e,r){var n=e.split("."),i=t;try{for(var o=0;o<n.length;o++)i=i[n[o]];null==i&&(i=r)}catch(t){i=null!=r?r:null}return i};const Ai=i("23wL6")("dataparty.idocument");u=i("gh2nv");Oi=class extends u{constructor({party:t,type:e,id:r,data:n,followcache:i}){super(),this.party=t,this.watchSub=void 0,this.watchedFields={},this.watchedFilters={},this.autopull=!0,this.flushcache=!0,this.followcache=void 0===i||i,Ai("document",e,r,n),this._data={...n,$meta:{id:r,type:e,...n.$meta}},this.party.cache&&this.party.cache.on(this.idString,this._handleCacheEvent.bind(this))}get id(){return Ci(this._data,"$meta.id")}get type(){return Ci(this._data,"$meta.type")}get revision(){return Ci(this._data,"$meta.revision")}static get DocumentSchema(){return"document"}get idObj(){return{id:this.id,type:this.type}}get idString(){return this.type+":"+this.id}getData(){return this._data}get data(){return this._data}get cleanData(){const{$meta:t,...e}=this._data;return e}async mergeData(t){return await this.setData(Object.assign({},this.data,t))}async setData(t){Ai("setData start");let e=await this.party.factory.validate(this.type,t);Ai("setData done"),this._data=e}async save(){const t=Object.assign({},this.data);Ai("asign data"),await this.setData(t),Ai("data set");const e=Ci(this.data,"$meta.revision",-1)+1,r=(await this.party.update(t))[0];Ai("doc updated"),e!=Ci(r,"$meta.revision")&&(Ai("pull"),await this.pull())}static async create(t,{type:e,id:r,data:n}){Ai("creating document ",e,r);const i=await t.create(e,n);return Ai("hydrating",i),(await t.factory.hydrate(i))[0]}async remove(){return Ai("removing document ",this.data.type,this.data.id),this.party.remove(this.data)}async pull(t){if(Ai("pulling",this.idString),!this.type)throw new Error("type undefined");Ai("pull",this.data);const e=""+this.type;return t&&this.party.cache&&this.party.cache.remove(this.type,this.id),Ai("pull type -",this.type),this.party.find().type(e).id(this.id).exec().then((t=>(this._data=t[0].data,Ai("pull found",t),this)))}async watch(t,e,r){if(r&&this.on("change",r),[!0,!1].indexOf(t)<0&&[!0,!1].indexOf(this.autopull)<0&&(this.autopull=!0),[!0,!1].indexOf(e)<0&&[!0,!1].indexOf(this.flushcache)<0&&(this.flushcache=!0),[!0,!1].indexOf(t)>-1&&(this.autopull=t),[!0,!1].indexOf(e)>-1&&(this.flushcache=e),this.watchSub)return;const n=(await this.party.socket()).ros,i="/dataparty/document/"+this.type+"/"+this.id;Ai("watch document",i),this.watchSub=new this.party.ROSLIB.Topic({ros:n,name:i,messageType:"dataparty/DocumentChange"}),this.watchSub.subscribe(this._handleWatchMsg.bind(this))}async unwatch(t){t&&this.off("change",t),this.autopull=void 0,this.flushcache=void 0,this.watchSub&&(this.watchSub.unsubscribe(this._handleWatchMsg.bind(this)),this.watchSub=void 0)}async watchField(t,e,r){if(this.watchedFields[t]=null==e||{$eq:e},r&&this.on("field."+t,r),!this.watchSub)return this.watch()}async unwatchField(t,e){this.watchedFields[t]=void 0,delete this.watchedFields[t],e&&this.off("field."+t,e)}_handleWatchMsg(t){this.watchSub&&(Ai(`document changed ${this.watchSub.name} `,t),this.autopull&&this.pull.bind(this)(this.flushcache),this.emit("change",t))}_handleCacheEvent(t){Ai("cache event",this.idString,t);const e=this.party.cache.findById(this.type,this.id),r=Object.assign({},this.getData());switch(Ai("new message",t.event,e),t.event){case"remove":case"update":case"create":if(this.followcache&&(this._data=e,this.emit("value",this)),this.emit(t.event,{new:e,old:r,doc:this}),this.watchedFields&&Object.keys(this.watchedFields).length>0)for(const t in this.watchedFields){const n=this.watchedFields[t],i=JSON.stringify(Ci(r,t)),o=JSON.stringify(Ci(e,t));if(i!==o){if("object"==typeof n&&o!=JSON.stringify(n.$eq))continue;this.emit("field."+t,{expected:n,doc:doc,field:t,old:Ci(r,t),new:Ci(e,t)})}}break;default:Ai("unexpected event",t,this)}}};var ki,Pi={},ji={},Di={},Ri=i("kLpty"),Ii=i("fncO2"),Ti=i("gvoRe");ki=function(t,e){e||(e={}),"function"==typeof e&&(e={cmp:e});var r,n="boolean"==typeof e.cycles&&e.cycles,i=e.cmp&&(r=e.cmp,function(t){return function(e,n){var i={key:e,value:t[e]},o={key:n,value:t[n]};return r(i,o)}}),o=[];return function t(e){if(e&&e.toJSON&&"function"==typeof e.toJSON&&(e=e.toJSON()),void 0!==e){if("number"==typeof e)return isFinite(e)?""+e:"null";if("object"!=typeof e)return JSON.stringify(e);var r,s;if(Array.isArray(e)){for(s="[",r=0;r<e.length;r++)r&&(s+=","),s+=t(e[r])||"null";return s+"]"}if(null===e)return"null";if(-1!==o.indexOf(e)){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var a=o.push(e)-1,u=Object.keys(e).sort(i&&i(e));for(s="",r=0;r<u.length;r++){var c=u[r],l=t(e[c]);l&&(s&&(s+=","),s+=JSON.stringify(c)+":"+l)}return o.splice(a,1),"{"+s+"}"}}(t)};var Fi=i("fyWtD"),Mi=Ii.ucs2length,Ni=i("jJuoE"),Li=Ti.Validation;function Bi(t,e,r){var n=$i.call(this,t,e,r);return n>=0?{index:n,compiling:!0}:(n=this._compilations.length,this._compilations[n]={schema:t,root:e,baseId:r},{index:n,compiling:!1})}function Ui(t,e,r){var n=$i.call(this,t,e,r);n>=0&&this._compilations.splice(n,1)}function $i(t,e,r){for(var n=0;n<this._compilations.length;n++){var i=this._compilations[n];if(i.schema==t&&i.root==e&&i.baseId==r)return n}return-1}function zi(t,e){return"var pattern"+t+" = new RegExp("+Ii.toQuotedString(e[t])+");"}function qi(t){return"var default"+t+" = defaults["+t+"];"}function Yi(t,e){return void 0===e[t]?"":"var refVal"+t+" = refVal["+t+"];"}function Wi(t){return"var customRule"+t+" = customRules["+t+"];"}function Vi(t,e){if(!t.length)return"";for(var r="",n=0;n<t.length;n++)r+=e(n,t);return r}Di=function t(e,r,n,i){var o=this,s=this._opts,a=[void 0],u={},c=[],l={},h=[],f={},d=[];r=r||{schema:e,refVal:a,refs:u};var p=Bi.call(this,e,r,i),y=this._compilations[p.index];if(p.compiling)return y.callValidate=function t(){var e=y.validate,r=e.apply(this,arguments);return t.errors=e.errors,r};var v=this._formats,m=this.RULES;try{var g=w(e,r,n,i);y.validate=g;var b=y.callValidate;return b&&(b.schema=g.schema,b.errors=null,b.refs=g.refs,b.refVal=g.refVal,b.root=g.root,b.$async=g.$async,s.sourceCode&&(b.source=g.source)),g}finally{Ui.call(this,e,r,i)}function w(e,n,i,l){var f=!n||n&&n.schema==e;if(n.schema!=r.schema)return t.call(o,e,n,i,l);var p,y=!0===e.$async,g=Fi({isTop:!0,schema:e,isRoot:f,baseId:l,root:n,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:Ti.MissingRef,RULES:m,validate:Fi,util:Ii,resolve:Ri,resolveRef:_,usePattern:x,useDefault:O,useCustomRule:C,opts:s,formats:v,logger:o.logger,self:o});g=Vi(a,Yi)+Vi(c,zi)+Vi(h,qi)+Vi(d,Wi)+g,s.processCode&&(g=s.processCode(g));try{p=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",g)(o,m,v,r,a,h,d,Ni,Mi,Li),a[0]=p}catch(t){throw o.logger.error("Error compiling schema, function code:",g),t}return p.schema=e,p.errors=null,p.refs=u,p.refVal=a,p.root=f?p:n,y&&(p.$async=!0),!0===s.sourceCode&&(p.source={code:g,patterns:c,defaults:h}),p}function _(e,i,c){i=Ri.url(e,i);var l,h,f=u[i];if(void 0!==f)return E(l=a[f],h="refVal["+f+"]");if(!c&&r.refs){var d=r.refs[i];if(void 0!==d)return E(l=r.refVal[d],h=S(i,l))}h=S(i);var p=Ri.call(o,w,r,i);if(void 0===p){var y=n&&n[i];y&&(p=Ri.inlineRef(y,s.inlineRefs)?y:t.call(o,y,r,n,e))}if(void 0!==p)return function(t,e){var r=u[t];a[r]=e}(i,p),E(p,h);!function(t){delete u[t]}(i)}function S(t,e){var r=a.length;return a[r]=e,u[t]=r,"refVal"+r}function E(t,e){return"object"==typeof t||"boolean"==typeof t?{code:e,schema:t,inline:!0}:{code:e,$async:t&&!!t.$async}}function x(t){var e=l[t];return void 0===e&&(e=l[t]=c.length,c[e]=t),"pattern"+e}function O(t){switch(typeof t){case"boolean":case"number":return""+t;case"string":return Ii.toQuotedString(t);case"object":if(null===t)return"null";var e=ki(t),r=f[e];return void 0===r&&(r=f[e]=h.length,h[r]=t),"default"+r}}function C(t,e,r,n){if(!1!==o._opts.validateSchema){var i=t.definition.dependencies;if(i&&!i.every((function(t){return Object.prototype.hasOwnProperty.call(r,t)})))throw new Error("parent schema must have all required keywords: "+i.join(","));var a=t.definition.validateSchema;if(a)if(!a(e)){var u="keyword schema is invalid: "+o.errorsText(a.errors);if("log"!=o._opts.validateSchema)throw new Error(u);o.logger.error(u)}}var c,l=t.definition.compile,h=t.definition.inline,f=t.definition.macro;if(l)c=l.call(o,e,r,n);else if(f)c=f.call(o,e,r,n),!1!==s.validateSchema&&o.validateSchema(c,!0);else if(h)c=h.call(o,n,t.keyword,e,r);else if(!(c=t.definition.validate))return;if(void 0===c)throw new Error('custom keyword "'+t.keyword+'"failed to compile');var p=d.length;return d[p]=c,{code:"customRule"+p,validate:c}}};Ri=i("kLpty");var Hi,Gi=Hi=function(){this._cache={}};Gi.prototype.put=function(t,e){this._cache[t]=e},Gi.prototype.get=function(t){return this._cache[t]},Gi.prototype.del=function(t){delete this._cache[t]},Gi.prototype.clear=function(){this._cache={}};var Ji=i("3BSTp"),Ki={},Qi=(Ii=i("fncO2"),/^(\d\d\d\d)-(\d\d)-(\d\d)$/),Zi=[0,31,28,31,30,31,30,31,31,30,31,30,31],Xi=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d:\d\d)?$/i,to=/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i,eo=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,ro=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,no=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,oo=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,so=/^(?:\/(?:[^~/]|~0|~1)*)*$/,ao=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,uo=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;function co(t){return t="full"==t?"full":"fast",Ii.copy(co[t])}function lo(t){var e=t.match(Qi);if(!e)return!1;var r=+e[1],n=+e[2],i=+e[3];return n>=1&&n<=12&&i>=1&&i<=(2==n&&function(t){return t%4==0&&(t%100!=0||t%400==0)}(r)?29:Zi[n])}function ho(t,e){var r=t.match(Xi);if(!r)return!1;var n=r[1],i=r[2],o=r[3],s=r[5];return(n<=23&&i<=59&&o<=59||23==n&&59==i&&60==o)&&(!e||s)}Ki=co,co.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d:\d\d)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d:\d\d)$/i,uri:/^(?:[a-z][a-z0-9+-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":ro,url:no,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:to,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:vo,uuid:oo,"json-pointer":so,"json-pointer-uri-fragment":ao,"relative-json-pointer":uo},co.full={date:lo,time:ho,"date-time":function(t){var e=t.split(fo);return 2==e.length&&lo(e[0])&&ho(e[1],!0)},uri:function(t){return po.test(t)&&eo.test(t)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":ro,url:no,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:function(t){return t.length<=255&&to.test(t)},ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:vo,uuid:oo,"json-pointer":so,"json-pointer-uri-fragment":ao,"relative-json-pointer":uo};var fo=/t|\s/i;var po=/\/|:/;var yo=/[^\\]\\Z/;function vo(t){if(yo.test(t))return!1;try{return new RegExp(t),!0}catch(t){return!1}}var mo,go;go={$ref:i("3LAdC"),allOf:i("h87P3"),anyOf:i("fVkwZ"),$comment:i("32aHc"),const:i("7GeV9"),contains:i("fZx2o"),dependencies:i("Vvw4V"),enum:i("2Qkrc"),format:i("9TDyP"),if:i("7pDem"),items:i("gQKJO"),maximum:i("9rmU1"),minimum:i("9rmU1"),maxItems:i("9cXq2"),minItems:i("9cXq2"),maxLength:i("37EV9"),minLength:i("37EV9"),maxProperties:i("jm3ZG"),minProperties:i("jm3ZG"),multipleOf:i("g0CS1"),not:i("4RVnP"),oneOf:i("cCw0D"),pattern:i("lV83e"),properties:i("edJ80"),propertyNames:i("kP8wy"),required:i("vSqL5"),uniqueItems:i("9E7iy"),validate:i("fyWtD")};var bo=(Ii=i("fncO2")).toHash;mo=function(){var t=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],e=["type","$comment"];return t.all=bo(e),t.types=bo(["number","integer","string","array","object","boolean","null"]),t.forEach((function(r){r.rules=r.rules.map((function(r){var n;if("object"==typeof r){var i=Object.keys(r)[0];n=r[i],r=i,n.forEach((function(r){e.push(r),t.all[r]=!0}))}return e.push(r),t.all[r]={keyword:r,code:go[r],implements:n}})),t.all.$comment={keyword:"$comment",code:go.$comment},r.type&&(t.types[r.type]=r)})),t.keywords=bo(e.concat(["$schema","$id","id","$data","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),t.custom={},t};var wo,_o=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];wo=function(t,e){for(var r=0;r<e.length;r++){t=JSON.parse(JSON.stringify(t));var n,i=e[r].split("/"),o=t;for(n=1;n<i.length;n++)o=o[i[n]];for(n=0;n<_o.length;n++){var s=_o[n],a=o[s];a&&(o[s]={anyOf:[a,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"}]})}}return t};Ii=i("fncO2");ji=Do,Do.prototype.validate=function(t,e){var r;if("string"==typeof t){if(!(r=this.getSchema(t)))throw new Error('no schema with key or ref "'+t+'"')}else{var n=this._addSchema(t);r=n.validate||this._compile(n)}var i=r(e);!0!==r.$async&&(this.errors=r.errors);return i},Do.prototype.compile=function(t,e){var r=this._addSchema(t,void 0,e);return r.validate||this._compile(r)},Do.prototype.addSchema=function(t,e,r,n){if(Array.isArray(t)){for(var i=0;i<t.length;i++)this.addSchema(t[i],void 0,r,n);return this}var o=this._getId(t);if(void 0!==o&&"string"!=typeof o)throw new Error("schema id must be string");return No(this,e=Ri.normalizeId(e||o)),this._schemas[e]=this._addSchema(t,r,n,!0),this},Do.prototype.addMetaSchema=function(t,e,r){return this.addSchema(t,e,r,!0),this},Do.prototype.validateSchema=function(t,e){var r=t.$schema;if(void 0!==r&&"string"!=typeof r)throw new Error("$schema must be a string");if(!(r=r||this._opts.defaultMeta||function(t){var e=t._opts.meta;return t._opts.defaultMeta="object"==typeof e?t._getId(e)||e:t.getSchema(ko)?ko:void 0,t._opts.defaultMeta}(this)))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var n=this.validate(r,t);if(!n&&e){var i="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(i);this.logger.error(i)}return n},Do.prototype.getSchema=function(t){var e=Ro(this,t);switch(typeof e){case"object":return e.validate||this._compile(e);case"string":return this.getSchema(e);case"undefined":return function(t,e){var r=Ri.schema.call(t,{schema:{}},e);if(r){var n=r.schema,i=r.root,o=r.baseId,s=Di.call(t,n,i,void 0,o);return t._fragments[e]=new Ji({ref:e,fragment:!0,schema:n,root:i,baseId:o,validate:s}),s}}(this,t)}},Do.prototype.removeSchema=function(t){if(t instanceof RegExp)return Io(this,this._schemas,t),Io(this,this._refs,t),this;switch(typeof t){case"undefined":return Io(this,this._schemas),Io(this,this._refs),this._cache.clear(),this;case"string":var e=Ro(this,t);return e&&this._cache.del(e.cacheKey),delete this._schemas[t],delete this._refs[t],this;case"object":var r=this._opts.serialize,n=r?r(t):t;this._cache.del(n);var i=this._getId(t);i&&(i=Ri.normalizeId(i),delete this._schemas[i],delete this._refs[i])}return this},Do.prototype.addFormat=function(t,e){"string"==typeof e&&(e=new RegExp(e));return this._formats[t]=e,this},Do.prototype.errorsText=function(t,e){if(!(t=t||this.errors))return"No errors";for(var r=void 0===(e=e||{}).separator?", ":e.separator,n=void 0===e.dataVar?"data":e.dataVar,i="",o=0;o<t.length;o++){var s=t[o];s&&(i+=n+s.dataPath+" "+s.message+r)}return i.slice(0,-r.length)},Do.prototype._addSchema=function(t,e,r,n){if("object"!=typeof t&&"boolean"!=typeof t)throw new Error("schema should be object or boolean");var i=this._opts.serialize,o=i?i(t):t,s=this._cache.get(o);if(s)return s;n=n||!1!==this._opts.addUsedSchema;var a=Ri.normalizeId(this._getId(t));a&&n&&No(this,a);var u,c=!1!==this._opts.validateSchema&&!e;c&&!(u=a&&a==Ri.normalizeId(t.$schema))&&this.validateSchema(t,!0);var l=Ri.ids.call(this,t),h=new Ji({id:a,schema:t,localRefs:l,cacheKey:o,meta:r});"#"!=a[0]&&n&&(this._refs[a]=h);this._cache.put(o,h),c&&u&&this.validateSchema(t,!0);return h},Do.prototype._compile=function(t,e){if(t.compiling)return t.validate=i,i.schema=t.schema,i.errors=null,i.root=e||i,!0===t.schema.$async&&(i.$async=!0),i;var r,n;t.compiling=!0,t.meta&&(r=this._opts,this._opts=this._metaOpts);try{n=Di.call(this,t.schema,e,t.localRefs)}catch(e){throw delete t.validate,e}finally{t.compiling=!1,t.meta&&(this._opts=r)}return t.validate=n,t.refs=n.refs,t.refVal=n.refVal,t.root=n.root,n;function i(){var e=t.validate,r=e.apply(this,arguments);return i.errors=e.errors,r}},Do.prototype.compileAsync=i("dSFL3");var So,Eo,xo=/^[a-z_$][a-z0-9_$-]*$/i;Eo=function(t,e,r){var n,i,o=" ",s=t.level,a=t.dataLevel,u=t.schema[e],c=t.schemaPath+t.util.getProperty(e),l=t.errSchemaPath+"/"+e,h=!t.opts.allErrors,f="data"+(a||""),d="valid"+s,p="errs__"+s,y=t.opts.$data&&u&&u.$data;y?(o+=" var schema"+s+" = "+t.util.getData(u.$data,a,t.dataPathArr)+"; ",i="schema"+s):i=u;var v,m,g,b,w,_=this,S="definition"+s,E=_.definition,x="";if(y&&E.$data){w="keywordValidate"+s;var O=E.validateSchema;o+=" var "+S+" = RULES.custom['"+e+"'].definition; var "+w+" = "+S+".validate;"}else{if(!(b=t.useCustomRule(_,u,t.schema,t)))return;i="validate.schema"+c,w=b.code,v=E.compile,m=E.inline,g=E.macro}var C=w+".errors",A="i"+s,k="ruleErr"+s,P=E.async;if(P&&!t.async)throw new Error("async keyword in sync schema");if(m||g||(o+=C+" = null;"),o+="var "+p+" = errors;var "+d+";",y&&E.$data&&(x+="}",o+=" if ("+i+" === undefined) { "+d+" = true; } else { ",O&&(x+="}",o+=" "+d+" = "+S+".validateSchema("+i+"); if ("+d+") { ")),m)E.statements?o+=" "+b.validate+" ":o+=" "+d+" = "+b.validate+"; ";else if(g){var j=t.util.copy(t);x="";j.level++;var D="valid"+j.level;j.schema=b.validate,j.schemaPath="";var R=t.compositeRule;t.compositeRule=j.compositeRule=!0;var I=t.validate(j).replace(/validate\.schema/g,w);t.compositeRule=j.compositeRule=R,o+=" "+I}else{(N=N||[]).push(o),o="",o+="  "+w+".call( ",t.opts.passContext?o+="this":o+="self",v||!1===E.schema?o+=" , "+f+" ":o+=" , "+i+" , "+f+" , validate.schema"+t.schemaPath+" ",o+=" , (dataPath || '')",'""'!=t.errorPath&&(o+=" + "+t.errorPath);var T=a?"data"+(a-1||""):"parentData",F=a?t.dataPathArr[a]:"parentDataProperty",M=o+=" , "+T+" , "+F+" , rootData )  ";o=N.pop(),!1===E.errors?(o+=" "+d+" = ",P&&(o+="await "),o+=M+"; "):o+=P?" var "+(C="customErrors"+s)+" = null; try { "+d+" = await "+M+"; } catch (e) { "+d+" = false; if (e instanceof ValidationError) "+C+" = e.errors; else throw e; } ":" "+C+" = null; "+d+" = "+M+"; "}if(E.modifying&&(o+=" if ("+T+") "+f+" = "+T+"["+F+"];"),o+=""+x,E.valid)h&&(o+=" if (true) { ");else{var N;o+=" if ( ",void 0===E.valid?(o+=" !",o+=g?""+D:""+d):o+=" "+!E.valid+" ",o+=") { ",n=_.keyword,(N=N||[]).push(o),o="",(N=N||[]).push(o),o="",!1!==t.createErrors?(o+=" { keyword: '"+(n||"custom")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: { keyword: '"+_.keyword+"' } ",!1!==t.opts.messages&&(o+=" , message: 'should pass \""+_.keyword+"\" keyword validation' "),t.opts.verbose&&(o+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+f+" "),o+=" } "):o+=" {} ";var L=o;o=N.pop(),!t.compositeRule&&h?t.async?o+=" throw new ValidationError(["+L+"]); ":o+=" validate.errors = ["+L+"]; return false; ":o+=" var err = "+L+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var B=o;o=N.pop(),m?E.errors?"full"!=E.errors&&(o+="  for (var "+A+"="+p+"; "+A+"<errors; "+A+"++) { var "+k+" = vErrors["+A+"]; if ("+k+".dataPath === undefined) "+k+".dataPath = (dataPath || '') + "+t.errorPath+"; if ("+k+".schemaPath === undefined) { "+k+'.schemaPath = "'+l+'"; } ',t.opts.verbose&&(o+=" "+k+".schema = "+i+"; "+k+".data = "+f+"; "),o+=" } "):!1===E.errors?o+=" "+B+" ":(o+=" if ("+p+" == errors) { "+B+" } else {  for (var "+A+"="+p+"; "+A+"<errors; "+A+"++) { var "+k+" = vErrors["+A+"]; if ("+k+".dataPath === undefined) "+k+".dataPath = (dataPath || '') + "+t.errorPath+"; if ("+k+".schemaPath === undefined) { "+k+'.schemaPath = "'+l+'"; } ',t.opts.verbose&&(o+=" "+k+".schema = "+i+"; "+k+".data = "+f+"; "),o+=" } } "):g?(o+="   var err =   ",!1!==t.createErrors?(o+=" { keyword: '"+(n||"custom")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: { keyword: '"+_.keyword+"' } ",!1!==t.opts.messages&&(o+=" , message: 'should pass \""+_.keyword+"\" keyword validation' "),t.opts.verbose&&(o+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+f+" "),o+=" } "):o+=" {} ",o+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&h&&(t.async?o+=" throw new ValidationError(vErrors); ":o+=" validate.errors = vErrors; return false; ")):!1===E.errors?o+=" "+B+" ":(o+=" if (Array.isArray("+C+")) { if (vErrors === null) vErrors = "+C+"; else vErrors = vErrors.concat("+C+"); errors = vErrors.length;  for (var "+A+"="+p+"; "+A+"<errors; "+A+"++) { var "+k+" = vErrors["+A+"]; if ("+k+".dataPath === undefined) "+k+".dataPath = (dataPath || '') + "+t.errorPath+";  "+k+'.schemaPath = "'+l+'";  ',t.opts.verbose&&(o+=" "+k+".schema = "+i+"; "+k+".data = "+f+"; "),o+=" } } else { "+B+" } "),o+=" } ",h&&(o+=" else { ")}return o};var Oo=i("jNsyv");So={add:function(t,e){var r=this.RULES;if(r.keywords[t])throw new Error("Keyword "+t+" is already defined");if(!xo.test(t))throw new Error("Keyword "+t+" is not a valid identifier");if(e){if(!(Co=Co||this.compile(Ao))(e))throw new Error("custom keyword definition is invalid: "+this.errorsText(Co.errors));var n=e.type;if(Array.isArray(n))for(var i=0;i<n.length;i++)s(t,n[i],e);else s(t,n,e);var o=e.metaSchema;o&&(e.$data&&this._opts.$data&&(o={anyOf:[o,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"}]}),e.validateSchema=this.compile(o,!0))}function s(t,e,n){for(var i,o=0;o<r.length;o++){var s=r[o];if(s.type==e){i=s;break}}i||(i={type:e,rules:[]},r.push(i));var a={keyword:t,definition:n,custom:!0,code:Eo,implements:n.implements};i.rules.push(a),r.custom[t]=a}return r.keywords[t]=r.all[t]=!0,this},get:function(t){var e=this.RULES.custom[t];return e?e.definition:this.RULES.keywords[t]||!1},remove:function(t){var e=this.RULES;delete e.keywords[t],delete e.all[t],delete e.custom[t];for(var r=0;r<e.length;r++)for(var n=e[r].rules,i=0;i<n.length;i++)if(n[i].keyword==t){n.splice(i,1);break}return this}};var Co,Ao={definitions:{simpleTypes:Oo.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:Oo.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}};Do.prototype.addKeyword=So.add,Do.prototype.getKeyword=So.get,Do.prototype.removeKeyword=So.remove;Ti=i("gvoRe");Do.ValidationError=Ti.Validation,Do.MissingRefError=Ti.MissingRef,Do.$dataMetaSchema=wo;var ko="http://json-schema.org/draft-07/schema",Po=["removeAdditional","useDefaults","coerceTypes"],jo=["/properties"];function Do(t){if(!(this instanceof Do))return new Do(t);t=this._opts=Ii.copy(t)||{},function(t){var e=t._opts.logger;if(!1===e)t.logger={log:Lo,warn:Lo,error:Lo};else{if(void 0===e&&(e=console),!("object"==typeof e&&e.log&&e.warn&&e.error))throw new Error("logger must implement log, warn and error methods");t.logger=e}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=Ki(t.format),this._cache=t.cache||new Hi,this._loadingSchemas={},this._compilations=[],this.RULES=mo(),this._getId=function(t){switch(t.schemaId){case"auto":return Mo;case"id":return To;default:return Fo}}(t),t.loopRequired=t.loopRequired||1/0,"property"==t.errorDataPath&&(t._errorDataPathProperty=!0),void 0===t.serialize&&(t.serialize=ki),this._metaOpts=function(t){for(var e=Ii.copy(t._opts),r=0;r<Po.length;r++)delete e[Po[r]];return e}(this),t.formats&&function(t){for(var e in t._opts.formats){var r=t._opts.formats[e];t.addFormat(e,r)}}(this),function(t){var e;t._opts.$data&&(e=i("3NeM9"),t.addMetaSchema(e,e.$id,!0));if(!1===t._opts.meta)return;var r=i("jNsyv");t._opts.$data&&(r=wo(r,jo));t.addMetaSchema(r,ko,!0),t._refs["http://json-schema.org/schema"]=ko}(this),"object"==typeof t.meta&&this.addMetaSchema(t.meta),t.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),function(t){var e=t._opts.schemas;if(!e)return;if(Array.isArray(e))t.addSchema(e);else for(var r in e)t.addSchema(e[r],r)}(this)}function Ro(t,e){return e=Ri.normalizeId(e),t._schemas[e]||t._refs[e]||t._fragments[e]}function Io(t,e,r){for(var n in e){var i=e[n];i.meta||r&&!r.test(n)||(t._cache.del(i.cacheKey),delete e[n])}}function To(t){return t.$id&&this.logger.warn("schema $id ignored",t.$id),t.id}function Fo(t){return t.id&&this.logger.warn("schema id ignored",t.id),t.$id}function Mo(t){if(t.$id&&t.id&&t.$id!=t.id)throw new Error("schema $id is different from id");return t.$id||t.id}function No(t,e){if(t._schemas[e]||t._refs[e])throw new Error('schema with key or id "'+e+'" already exists')}function Lo(){}const Bo=i("23wL6")("dataparty.document-factory");var Uo;Uo=class extends Error{constructor(t){super(),this.message="Validation failure\n";for(let e=0;e<t.length;e++){const r=t[e];this.message+=r.message+"at data."+r.dataPath}this.stack="",this.name="DocumentValidationError",this.code=this.name}};Pi=class{constructor({model:t,factories:e,party:r,documentClass:n}){if(this.factories=e||{},this.party=r||null,this.ajv=new ji,this.model=t,this.documentClass=n||Oi,this.validators={},this.model)for(let t of this.model.JSONSchema){const e=this.ajv.compile(t);this.validators[t.title]=e,Bo(t.title)}}async hydrate(t){let e=[];for(let r of t){let t=r.$meta.id,n=r.$meta.type,i=this.getDocument(n,t,r);e.push(i)}return e}addFactory(t,e){this.factories[t]=e}getFactory(t){return this.factories&&this.factories[t]?this.factories[t]:this.documentClass}getTypes(){return["document"].concat(Object.keys(this.factories))}getValidators(){return Object.keys(this.validators)}getFactories(){let t={document:this.documentClass};for(let e of this.getTypes())t[e]=this.getFactory(e);return t}getDocument(t,e,r){return new(this.getFactory(t))({type:t,id:e,data:r,party:this.party})}async validate(t,e){return Bo("validate",t),new Promise(((r,n)=>{if(!this.validators[t])return Bo("WARNING - validate with no such model type[",t,"]"),n(new Uo("no such validator"));if(!this.validators[t](e)){let e=this.validators[t].errors;return n(new Uo(e))}return r(e)}))}get Document(){return this.documentClass}};var $o,zo,qo={};f=i("b28Wo");zo=function(){return function(){"use strict";var t=Object.prototype.hasOwnProperty,r={copyProperties:function(t,e){var r;for(r in t)e[r]=t[r]},resolveTransformObject:function(t,e,n){var i,o;if("number"!=typeof n&&(n=0),++n>=10)return t;for(i in t)"string"==typeof t[i]&&0===t[i].indexOf("[%lktxp]")?(o=t[i].substring(8),e.hasOwnProperty(o)&&(t[i]=e[o])):"object"==typeof t[i]&&(t[i]=r.resolveTransformObject(t[i],e,n));return t},resolveTransformParams:function(t,e){var n,i,o=[];if(void 0===e)return t;for(n=0;n<t.length;n++)i=y(t[n],"shallow-recurse-objects"),o.push(r.resolveTransformObject(i,e));return o},getIn:function(t,e,r){if(null!=t){if(!r)return t[e];if("string"==typeof e&&(e=e.split(".")),!Array.isArray(e))throw new Error("path must be a string or array. Found "+typeof e);for(var n=0,i=e.length;null!=t&&n<i;)t=t[e[n++]];return n&&n==i?t:void 0}}},n={aeq:o,lt:s,gt:a};function o(t,e){var r,n,i,o;if(t===e)return!0;if(!t||!e||!0===t||!0===e||t!=t||e!=e){switch(t){case void 0:case null:i=1;break;case!1:i=3;break;case!0:i=4;break;case"":i=5;break;default:i=t==t?9:0}switch(e){case void 0:case null:o=1;break;case!1:o=3;break;case!0:o=4;break;case"":o=5;break;default:o=e==e?9:0}if(9!==i||9!==o)return i===o}return r=Number(t),n=Number(e),r==r||n==n?r===n:(r=t.toString())==(n=e.toString())}function s(t,e,r){var n,i,o,s;if(!t||!e||!0===t||!0===e||t!=t||e!=e){switch(t){case void 0:case null:o=1;break;case!1:o=3;break;case!0:o=4;break;case"":o=5;break;default:o=t==t?9:0}switch(e){case void 0:case null:s=1;break;case!1:s=3;break;case!0:s=4;break;case"":s=5;break;default:s=e==e?9:0}if(9!==o||9!==s)return o===s?r:o<s}return n=Number(t),i=Number(e),n==n&&i==i?n<i||!(n>i)&&r:n==n&&i!=i||(i!=i||n==n)&&(t<e||!(t>e)&&(t==e?r:(n=t.toString())<(i=e.toString())||n==i&&r))}function a(t,e,r){var n,i,o,s;if(!t||!e||!0===t||!0===e||t!=t||e!=e){switch(t){case void 0:case null:o=1;break;case!1:o=3;break;case!0:o=4;break;case"":o=5;break;default:o=t==t?9:0}switch(e){case void 0:case null:s=1;break;case!1:s=3;break;case!0:s=4;break;case"":s=5;break;default:s=e==e?9:0}if(9!==o||9!==s)return o===s?r:o>s}return n=Number(t),i=Number(e),n==n&&i==i?n>i||!(n<i)&&r:(n!=n||i==i)&&(i==i&&n!=n||t>e||!(t<e)&&(t==e?r:(n=t.toString())>(i=e.toString())||n==i&&r))}function u(t,e,r){return n.aeq(t,e)?0:n.lt(t,e,!1)?r?1:-1:n.gt(t,e,!1)?r?-1:1:0}function c(t,e,r,n,i){var o,s=i||0,a=e[s],u=!1;if("object"==typeof t&&a in t&&(o=t[a]),s+1>=e.length)u=r(o,n);else if(Array.isArray(o))for(var l=0,h=o.length;l<h&&!0!==(u=c(o[l],e,r,n,s+1));l+=1);else u=c(o,e,r,n,s+1);return u}function l(e){return"string"==typeof e||Array.isArray(e)?function(t){return-1!==e.indexOf(t)}:"object"==typeof e&&null!==e?function(r){return t.call(e,r)}:null}function h(e,r){for(var n in r)if(t.call(r,n))return d[n](e,r[n]);return!1}var d={$eq:function(t,e){return t===e},$aeq:function(t,e){return t==e},$ne:function(t,e){return e!=e?t==t:t!==e},$dteq:function(t,e){return n.aeq(t,e)},$gt:function(t,e){return n.gt(t,e,!1)},$gte:function(t,e){return n.gt(t,e,!0)},$lt:function(t,e){return n.lt(t,e,!1)},$lte:function(t,e){return n.lt(t,e,!0)},$jgt:function(t,e){return t>e},$jgte:function(t,e){return t>=e},$jlt:function(t,e){return t<e},$jlte:function(t,e){return t<=e},$between:function(t,e){return null!=t&&n.gt(t,e[0],!0)&&n.lt(t,e[1],!0)},$jbetween:function(t,e){return null!=t&&t>=e[0]&&t<=e[1]},$in:function(t,e){return-1!==e.indexOf(t)},$nin:function(t,e){return-1===e.indexOf(t)},$keyin:function(t,e){return t in e},$nkeyin:function(t,e){return!(t in e)},$definedin:function(t,e){return void 0!==e[t]},$undefinedin:function(t,e){return void 0===e[t]},$regex:function(t,e){return e.test(t)},$containsString:function(t,e){return"string"==typeof t&&-1!==t.indexOf(e)},$containsNone:function(t,e){return!d.$containsAny(t,e)},$containsAny:function(t,e){var r=l(t);return null!==r&&(Array.isArray(e)?e.some(r):r(e))},$contains:function(t,e){var r=l(t);return null!==r&&(Array.isArray(e)?e.every(r):r(e))},$type:function(t,e){var r=typeof t;return"object"===r&&(Array.isArray(t)?r="array":t instanceof Date&&(r="date")),"object"!=typeof e?r===e:h(r,e)},$finite:function(t,e){return e===isFinite(t)},$size:function(t,e){return!!Array.isArray(t)&&("object"!=typeof e?t.length===e:h(t.length,e))},$len:function(t,e){return"string"==typeof t&&("object"!=typeof e?t.length===e:h(t.length,e))},$where:function(t,e){return!0===e(t)},$not:function(t,e){return!h(t,e)},$and:function(t,e){for(var r=0,n=e.length;r<n;r+=1)if(!h(t,e[r]))return!1;return!0},$or:function(t,e){for(var r=0,n=e.length;r<n;r+=1)if(h(t,e[r]))return!0;return!1},$exists:function(t,e){return e?void 0!==t:void 0===t}},p={$eq:d.$eq,$aeq:!0,$dteq:!0,$gt:!0,$gte:!0,$lt:!0,$lte:!0,$in:!0,$between:!0};function y(t,e){if(null==t)return null;var r;switch(e||"parse-stringify"){case"parse-stringify":r=JSON.parse(JSON.stringify(t));break;case"jquery-extend-deep":r=jQuery.extend(!0,{},t);break;case"shallow":r=Object.create(t.constructor.prototype),Object.keys(t).map((function(e){r[e]=t[e]}));break;case"shallow-assign":r=Object.create(t.constructor.prototype),Object.assign(r,t);break;case"shallow-recurse-objects":r=y(t,"shallow"),Object.keys(t).forEach((function(e){"object"==typeof t[e]&&"Object"===t[e].constructor.name?r[e]=y(t[e],"shallow-recurse-objects"):Array.isArray(t[e])&&(r[e]=function(t,e){if("parse-stringify"==e)return y(t,e);for(var r=[],n=0,i=t.length;n<i;n++)r[n]=y(t[n],e);return r}(t[e],"shallow-recurse-objects"))}))}return r}function v(){try{return window&&void 0!==window.localStorage&&null!==window.localStorage}catch(t){return!1}}function m(){}function g(t,r){this.filename=t||"loki.db",this.collections=[],this.databaseVersion=1.5,this.engineVersion=1.5,this.autosave=!1,this.autosaveInterval=5e3,this.autosaveHandle=null,this.throttledSaves=!0,this.options={},this.persistenceMethod=null,this.persistenceAdapter=null,this.throttledSavePending=!1,this.throttledCallbacks=[],this.verbose=!(!r||!r.hasOwnProperty("verbose"))&&r.verbose,this.events={init:[],loaded:[],flushChanges:[],close:[],changes:[],warning:[]},r&&r.hasOwnProperty("env")?this.ENV=r.env:this.ENV=void 0!==e&&(e.android||e.NSObject)?"NATIVESCRIPT":"undefined"==typeof window||void 0!==e&&e.window&&void 0!==f?"NODEJS":"undefined"!=typeof document?-1===document.URL.indexOf("http://")&&-1===document.URL.indexOf("https://")?"CORDOVA":"BROWSER":"CORDOVA","undefined"===this.ENV&&(this.ENV="NODEJS"),this.configureOptions(r,!0),this.on("init",this.clearChanges)}function b(t){this.hashStore={},this.options=t||{},this.options.hasOwnProperty("asyncResponses")||(this.options.asyncResponses=!1),this.options.hasOwnProperty("asyncTimeout")||(this.options.asyncTimeout=50)}function w(t,e){if(this.mode="reference",this.adapter=null,this.options=e||{},this.dbref=null,this.dbname="",this.pageIterator={},!t)throw new Error("LokiPartitioningAdapter requires a (non-reference mode) adapter on construction");if("reference"===t.mode)throw new Error("LokiPartitioningAdapter cannot be instantiated with a reference mode adapter");this.adapter=t,this.options.hasOwnProperty("paging")||(this.options.paging=!1),this.options.hasOwnProperty("pageSize")||(this.options.pageSize=26214400),this.options.hasOwnProperty("delimiter")||(this.options.delimiter="$<\n")}function _(){try{this.fs=i("eojjI")}catch(t){this.fs=null}}function S(){}function E(t,e){return e=e||{},this.collection=t,this.filteredrows=[],this.filterInitialized=!1,this}function x(t,e){if("$regex"===t)Array.isArray(e)?e=new RegExp(e[0],e[1]):e instanceof RegExp||(e=new RegExp(e));else if("object"==typeof e)for(var r in e)"$regex"!==r&&"object"!=typeof e[r]||(e[r]=x(r,e[r]));return e}function O(t,e,r){this.collection=t,this.name=e,this.rebuildPending=!1,this.options=r||{},this.options.hasOwnProperty("persistent")||(this.options.persistent=!1),this.options.hasOwnProperty("sortPriority")||(this.options.sortPriority="passive"),this.options.hasOwnProperty("minRebuildInterval")||(this.options.minRebuildInterval=1),this.resultset=new E(t),this.resultdata=[],this.resultsdirty=!1,this.cachedresultset=null,this.filterPipeline=[],this.sortFunction=null,this.sortCriteria=null,this.sortCriteriaSimple=null,this.sortDirty=!1,this.events={rebuild:[]}}function C(e,r){this.name=e,this.data=[],this.idIndex=[],this.binaryIndices={},this.constraints={unique:{},exact:{}},this.uniqueNames=[],this.transforms={},this.objType=e,this.dirty=!0,this.cachedIndex=null,this.cachedBinaryIndex=null,this.cachedData=null;var n=this;(r=r||{}).hasOwnProperty("unique")&&(Array.isArray(r.unique)||(r.unique=[r.unique]),r.unique.forEach((function(t){n.uniqueNames.push(t),n.constraints.unique[t]=new M(t)}))),r.hasOwnProperty("exact")&&r.exact.forEach((function(t){n.constraints.exact[t]=new N(t)})),this.adaptiveBinaryIndices=!r.hasOwnProperty("adaptiveBinaryIndices")||r.adaptiveBinaryIndices,this.transactional=!!r.hasOwnProperty("transactional")&&r.transactional,this.cloneObjects=!!r.hasOwnProperty("clone")&&r.clone,this.cloneMethod=r.hasOwnProperty("cloneMethod")?r.cloneMethod:"parse-stringify",this.asyncListeners=!!r.hasOwnProperty("asyncListeners")&&r.asyncListeners,this.disableMeta=!!r.hasOwnProperty("disableMeta")&&r.disableMeta,this.disableChangesApi=!r.hasOwnProperty("disableChangesApi")||r.disableChangesApi,this.disableDeltaChangesApi=!r.hasOwnProperty("disableDeltaChangesApi")||r.disableDeltaChangesApi,this.disableChangesApi&&(this.disableDeltaChangesApi=!0),this.autoupdate=!!r.hasOwnProperty("autoupdate")&&r.autoupdate,this.serializableIndices=!r.hasOwnProperty("serializableIndices")||r.serializableIndices,this.ttl={age:null,ttlInterval:null,daemon:null},this.setTTL(r.ttl||-1,r.ttlInterval),this.maxId=0,this.DynamicViews=[],this.events={insert:[],update:[],"pre-insert":[],"pre-update":[],close:[],flushbuffer:[],error:[],delete:[],warning:[]},this.changes=[],this.ensureId();var i=[];if(r&&r.indices)if("[object Array]"===Object.prototype.toString.call(r.indices))i=r.indices;else{if("string"!=typeof r.indices)throw new TypeError("Indices needs to be a string or an array of strings");i=[r.indices]}for(var o=0;o<i.length;o++)this.ensureIndex(i[o]);function s(t,e){var r=null!==e&&"object"==typeof e?Object.keys(e):null;if(r&&r.length&&["string","boolean","number"].indexOf(typeof e)<0){for(var i={},o=0;o<r.length;o++){var a=r[o];if(e.hasOwnProperty(a))if(!t.hasOwnProperty(a)||n.uniqueNames.indexOf(a)>=0||"$loki"==a||"meta"==a)i[a]=e[a];else{var u=s(t[a],e[a]);void 0!==u&&u!={}&&(i[a]=u)}}return 0===Object.keys(i).length?void 0:i}return t===e?void 0:e}function a(){n.changes=[]}this.observerCallback=function(e){var r="function"==typeof Set?new Set:[];r.add||(r.add=function(t){return-1===this.indexOf(t)&&this.push(t),this}),e.forEach((function(t){r.add(t.object)})),r.forEach((function(e){if(!t.call(e,"$loki"))return n.removeAutoUpdateObserver(e);try{n.update(e)}catch(t){}}))},this.getChangeDelta=function(t,e){return e?s(e,t):JSON.parse(JSON.stringify(t))},this.getObjectDelta=s,this.getChanges=function(){return n.changes},this.flushChanges=a,this.setChangesApi=function(t){n.disableChangesApi=!t,t||(n.disableDeltaChangesApi=!1)},this.on("delete",(function(t){n.disableChangesApi||n.createChange(n.name,"R",t)})),this.on("warning",(function(t){n.console.warn(t)})),a()}function A(t){return-1!==t.indexOf(".")}function k(t){return parseFloat(t,10)}function P(t,e){return t+e}function j(t,e){return t-e}function D(t){return t.reduce(P,0)/t.length}function R(t,e,r){if(!1===r)return t[e];for(var n=e.split("."),i=t;n.length>0;)i=i[n.shift()];return i}function I(t,e,r){for(var n,i,o=0,s=t.length;o<s;){if(i=o+s>>1,0===(n=r.apply(null,[e,t[i]])))return{found:!0,index:i};n<0?s=i:o=i+1}return{found:!1,index:s}}function T(t){return function(e,r){return I(e,r,t)}}function F(){}function M(t){this.field=t,this.keyMap={},this.lokiMap={}}function N(t){this.index={},this.field=t}return m.prototype.events={},m.prototype.asyncListeners=!1,m.prototype.on=function(t,e){var r,n=this;return Array.isArray(t)?(t.forEach((function(t){n.on(t,e)})),e):((r=this.events[t])||(r=this.events[t]=[]),r.push(e),e)},m.prototype.emit=function(t){var e=this,r=Array.prototype.slice.call(arguments,1);if(!t||!this.events[t])throw new Error("No event "+t+" defined");this.events[t].forEach((function(t){e.asyncListeners?setTimeout((function(){t.apply(e,r)}),1):t.apply(e,r)}))},m.prototype.addListener=m.prototype.on,m.prototype.removeListener=function(t,e){var r=this;if(Array.isArray(t))t.forEach((function(t){r.removeListener(t,e)}));else if(this.events[t]){var n=this.events[t];n.splice(n.indexOf(e),1)}},g.prototype=new m,g.prototype.constructor=g,g.prototype.getIndexedAdapter=function(){return i("71Ezx")},g.prototype.configureOptions=function(t,e){var r={fs:_,localStorage:S,memory:b};if(this.options={},this.persistenceMethod=null,this.persistenceAdapter=null,void 0!==t){if(this.options=t,this.options.hasOwnProperty("persistenceMethod")&&"function"==typeof r[t.persistenceMethod]&&(this.persistenceMethod=t.persistenceMethod,this.persistenceAdapter=new r[t.persistenceMethod]),this.options.hasOwnProperty("adapter")&&(this.persistenceMethod="adapter",this.persistenceAdapter=t.adapter,this.options.adapter=null),t.autoload&&e){var n=this;setTimeout((function(){n.loadDatabase(t,t.autoloadCallback)}),1)}this.options.hasOwnProperty("autosaveInterval")&&(this.autosaveDisable(),this.autosaveInterval=parseInt(this.options.autosaveInterval,10)),this.options.hasOwnProperty("autosave")&&this.options.autosave&&(this.autosaveDisable(),this.autosave=!0,this.options.hasOwnProperty("autosaveCallback")?this.autosaveEnable(t,t.autosaveCallback):this.autosaveEnable()),this.options.hasOwnProperty("throttledSaves")&&(this.throttledSaves=this.options.throttledSaves)}this.options.hasOwnProperty("serializationMethod")||(this.options.serializationMethod="normal"),this.options.hasOwnProperty("destructureDelimiter")||(this.options.destructureDelimiter="$<\n"),null===this.persistenceAdapter&&(this.persistenceMethod={NODEJS:"fs",BROWSER:"localStorage",CORDOVA:"localStorage",MEMORY:"memory"}[this.ENV],this.persistenceMethod&&(this.persistenceAdapter=new r[this.persistenceMethod]))},g.prototype.copy=function(t){var e,r,n=new g(this.filename,{env:"NA"});if(t=t||{},n.loadJSONObject(this,{retainDirtyFlags:!0}),t.hasOwnProperty("removeNonSerializable")&&!0===t.removeNonSerializable)for(n.autosaveHandle=null,n.persistenceAdapter=null,e=n.collections.length,r=0;r<e;r++)n.collections[r].constraints=null,n.collections[r].ttl=null;return n},g.prototype.addCollection=function(t,e){var r,n=this.collections.length;if(e&&!0===e.disableMeta){if(!1===e.disableChangesApi)throw new Error("disableMeta option cannot be passed as true when disableChangesApi is passed as false");if(!1===e.disableDeltaChangesApi)throw new Error("disableMeta option cannot be passed as true when disableDeltaChangesApi is passed as false");if("number"==typeof e.ttl&&e.ttl>0)throw new Error("disableMeta option cannot be passed as true when ttl is enabled")}for(r=0;r<n;r+=1)if(this.collections[r].name===t)return this.collections[r];var i=new C(t,e);return this.collections.push(i),this.verbose&&(i.console=console),i},g.prototype.loadCollection=function(t){if(!t.name)throw new Error("Collection must have a name property to be loaded");this.collections.push(t)},g.prototype.getCollection=function(t){var e,r=this.collections.length;for(e=0;e<r;e+=1)if(this.collections[e].name===t)return this.collections[e];return this.emit("warning","collection "+t+" not found"),null},g.prototype.renameCollection=function(t,e){var r=this.getCollection(t);return r&&(r.name=e),r},g.prototype.listCollections=function(){for(var t=this.collections.length,e=[];t--;)e.push({name:this.collections[t].name,type:this.collections[t].objType,count:this.collections[t].data.length});return e},g.prototype.removeCollection=function(t){var e,r=this.collections.length;for(e=0;e<r;e+=1)if(this.collections[e].name===t){var n=new C(t,{}),i=this.collections[e];for(var o in i)i.hasOwnProperty(o)&&n.hasOwnProperty(o)&&(i[o]=n[o]);return void this.collections.splice(e,1)}},g.prototype.getName=function(){return this.name},g.prototype.serializeReplacer=function(t,e){switch(t){case"autosaveHandle":case"persistenceAdapter":case"constraints":case"ttl":return null;case"throttledSavePending":case"throttledCallbacks":return;default:return e}},g.prototype.serialize=function(t){switch((t=t||{}).hasOwnProperty("serializationMethod")||(t.serializationMethod=this.options.serializationMethod),t.serializationMethod){case"normal":default:return JSON.stringify(this,this.serializeReplacer);case"pretty":return JSON.stringify(this,this.serializeReplacer,2);case"destructured":return this.serializeDestructured()}},g.prototype.toJson=g.prototype.serialize,g.prototype.serializeDestructured=function(t){var e,r,n,i,o,s=[];if((t=t||{}).hasOwnProperty("partitioned")||(t.partitioned=!1),t.hasOwnProperty("delimited")||(t.delimited=!0),t.hasOwnProperty("delimiter")||(t.delimiter=this.options.destructureDelimiter),!0===t.partitioned&&t.hasOwnProperty("partition")&&t.partition>=0)return this.serializeCollection({delimited:t.delimited,delimiter:t.delimiter,collectionIndex:t.partition});for((o=new g(this.filename)).loadJSONObject(this),e=0;e<o.collections.length;e++)o.collections[e].data=[];if(!0===t.partitioned&&-1===t.partition)return o.serialize({serializationMethod:"normal"});for(s.push(o.serialize({serializationMethod:"normal"})),o=null,e=0;e<this.collections.length;e++)if(n=this.serializeCollection({delimited:t.delimited,delimiter:t.delimiter,collectionIndex:e}),!1===t.partitioned&&!1===t.delimited){if(!Array.isArray(n))throw new Error("a nondelimited, non partitioned collection serialization did not return an expected array");for(i=n.length,r=0;r<i;r++)s.push(n[r]),n[r]=null;s.push("")}else s.push(n);return t.partitioned?(t.delimited,s):t.delimited?(s.push(""),s.join(t.delimiter)):(s.push(""),s)},g.prototype.serializeCollection=function(t){var e,r,n=[];if((t=t||{}).hasOwnProperty("delimited")||(t.delimited=!0),!t.hasOwnProperty("collectionIndex"))throw new Error("serializeCollection called without 'collectionIndex' option");for(e=this.collections[t.collectionIndex].data.length,n=[],r=0;r<e;r++)n.push(JSON.stringify(this.collections[t.collectionIndex].data[r]));return t.delimited?(n.push(""),n.join(t.delimiter)):n},g.prototype.deserializeDestructured=function(t,e){var r,n,i,o=[],s=0,a=1,u=!1;if((e=e||{}).hasOwnProperty("partitioned")||(e.partitioned=!1),e.hasOwnProperty("delimited")||(e.delimited=!0),e.hasOwnProperty("delimiter")||(e.delimiter=this.options.destructureDelimiter),e.partitioned){if(e.hasOwnProperty("partition"))return-1===e.partition?r=JSON.parse(t[0]):this.deserializeCollection(t[e.partition+1],e);for(n=(r=JSON.parse(t[0])).collections.length,s=0;s<n;s++)r.collections[s].data=this.deserializeCollection(t[s+1],e);return r}if(e.delimited){if(o=t.split(e.delimiter),t=null,0===o.length)return null}else o=t;for(n=(r=JSON.parse(o[0])).collections.length,o[0]=null;!u;)o[a],""===o[a]?++s>n&&(u=!0):(i=JSON.parse(o[a]),r.collections[s].data.push(i)),o[a++]=null;return r},g.prototype.deserializeCollection=function(t,e){var r,n,i=[];for((e=e||{}).hasOwnProperty("partitioned")||(e.partitioned=!1),e.hasOwnProperty("delimited")||(e.delimited=!0),e.hasOwnProperty("delimiter")||(e.delimiter=this.options.destructureDelimiter),e.delimited?(i=t.split(e.delimiter)).pop():i=t,n=i.length,r=0;r<n;r++)i[r]=JSON.parse(i[r]);return i},g.prototype.loadJSON=function(t,e){var r;if(0===t.length)r={};else switch(this.options.serializationMethod){case"normal":case"pretty":default:r=JSON.parse(t);break;case"destructured":r=this.deserializeDestructured(t)}this.loadJSONObject(r,e)},g.prototype.loadJSONObject=function(t,e){var n,i,o,s,a,u,c=0,l=t.collections?t.collections.length:0;function h(t){var n,i=e[t.name];return i.proto?(n=i.inflate||r.copyProperties,function(t){var e=new i.proto;return n(t,e),e}):i.inflate}for(this.name=t.name,t.hasOwnProperty("throttledSaves")&&e&&!e.hasOwnProperty("throttledSaves")&&(this.throttledSaves=t.throttledSaves),this.collections=[];c<l;c+=1){if(n=t.collections[c],(i=this.addCollection(n.name,{disableChangesApi:n.disableChangesApi,disableDeltaChangesApi:n.disableDeltaChangesApi,disableMeta:n.disableMeta})).adaptiveBinaryIndices=!!n.hasOwnProperty("adaptiveBinaryIndices")&&!0===n.adaptiveBinaryIndices,i.transactional=n.transactional,i.asyncListeners=n.asyncListeners,i.cloneObjects=n.cloneObjects,i.cloneMethod=n.cloneMethod||"parse-stringify",i.autoupdate=n.autoupdate,i.changes=n.changes,e&&!0===e.retainDirtyFlags?i.dirty=n.dirty:i.dirty=!1,o=n.data.length,s=0,e&&e.hasOwnProperty(n.name))for(a=h(n);s<o;s++)u=a(n.data[s]),i.data[s]=u,i.addAutoUpdateObserver(u);else for(;s<o;s++)i.data[s]=n.data[s],i.addAutoUpdateObserver(i.data[s]);if(i.maxId=void 0===n.maxId?0:n.maxId,i.idIndex=n.idIndex,void 0!==n.binaryIndices&&(i.binaryIndices=n.binaryIndices),void 0!==n.transforms&&(i.transforms=n.transforms),i.ensureId(),i.uniqueNames=[],n.hasOwnProperty("uniqueNames"))for(i.uniqueNames=n.uniqueNames,s=0;s<i.uniqueNames.length;s++)i.ensureUniqueIndex(i.uniqueNames[s]);if(void 0!==n.DynamicViews){for(var f=0;f<n.DynamicViews.length;f++){var d=n.DynamicViews[f],p=i.addDynamicView(d.name,d.options);p.resultdata=d.resultdata,p.resultsdirty=d.resultsdirty,p.filterPipeline=d.filterPipeline,p.sortCriteria=d.sortCriteria,p.sortFunction=null,p.sortDirty=d.sortDirty,p.resultset.filteredrows=d.resultset.filteredrows,p.resultset.filterInitialized=d.resultset.filterInitialized,p.rematerialize({removeWhereFilters:!0})}t.databaseVersion<1.5&&(i.ensureAllIndexes(!0),i.dirty=!0)}}},g.prototype.close=function(t){this.autosave&&(this.autosaveDisable(),this.autosaveDirty()&&(this.saveDatabase(t),t=void 0)),t&&this.on("close",t),this.emit("close")},g.prototype.generateChangesNotification=function(t){function e(t){return t.name}var r=[],n=t||this.collections.map(e);return this.collections.forEach((function(t){-1!==n.indexOf(e(t))&&(r=r.concat(t.getChanges()))})),r},g.prototype.serializeChanges=function(t){return JSON.stringify(this.generateChangesNotification(t))},g.prototype.clearChanges=function(){this.collections.forEach((function(t){t.flushChanges&&t.flushChanges()}))},b.prototype.loadDatabase=function(t,e){var r=this;this.options.asyncResponses?setTimeout((function(){r.hashStore.hasOwnProperty(t)?e(r.hashStore[t].value):e(null)}),this.options.asyncTimeout):this.hashStore.hasOwnProperty(t)?e(this.hashStore[t].value):e(null)},b.prototype.saveDatabase=function(t,e,r){var n,i=this;this.options.asyncResponses?setTimeout((function(){n=i.hashStore.hasOwnProperty(t)?i.hashStore[t].savecount:0,i.hashStore[t]={savecount:n+1,lastsave:new Date,value:e},r()}),this.options.asyncTimeout):(n=this.hashStore.hasOwnProperty(t)?this.hashStore[t].savecount:0,this.hashStore[t]={savecount:n+1,lastsave:new Date,value:e},r())},b.prototype.deleteDatabase=function(t,e){this.hashStore.hasOwnProperty(t)&&delete this.hashStore[t],"function"==typeof e&&e()},w.prototype.loadDatabase=function(t,e){var r=this;this.dbname=t,this.dbref=new g(t),this.adapter.loadDatabase(t,(function(t){if(t){"string"!=typeof t&&e(new Error("LokiPartitioningAdapter received an unexpected response from inner adapter loadDatabase()"));var n=JSON.parse(t);r.dbref.loadJSONObject(n),n=null,r.dbref.collections.length,0!==r.dbref.collections.length?(r.pageIterator={collection:0,pageIndex:0},r.loadNextPartition(0,(function(){e(r.dbref)}))):e(r.dbref)}else e(t)}))},w.prototype.loadNextPartition=function(t,e){var r=this.dbname+"."+t,n=this;if(!0===this.options.paging)return this.pageIterator.pageIndex=0,void this.loadNextPage(e);this.adapter.loadDatabase(r,(function(r){var i=n.dbref.deserializeCollection(r,{delimited:!0,collectionIndex:t});n.dbref.collections[t].data=i,++t<n.dbref.collections.length?n.loadNextPartition(t,e):e()}))},w.prototype.loadNextPage=function(t){var e=this.dbname+"."+this.pageIterator.collection+"."+this.pageIterator.pageIndex,r=this;this.adapter.loadDatabase(e,(function(e){var n=e.split(r.options.delimiter);e="";var i,o=n.length,s=""===n[o-1];for(s&&(n.pop(),""===n[(o=n.length)-1]&&1===o&&(n.pop(),o=n.length)),i=0;i<o;i++)r.dbref.collections[r.pageIterator.collection].data.push(JSON.parse(n[i])),n[i]=null;n=[],s?++r.pageIterator.collection<r.dbref.collections.length?r.loadNextPartition(r.pageIterator.collection,t):t():(r.pageIterator.pageIndex++,r.loadNextPage(t))}))},w.prototype.exportDatabase=function(t,e,r){var n,i=e.collections.length;for(this.dbref=e,this.dbname=t,this.dirtyPartitions=[-1],n=0;n<i;n++)e.collections[n].dirty&&this.dirtyPartitions.push(n);this.saveNextPartition((function(t){r(t)}))},w.prototype.saveNextPartition=function(t){var e=this,r=this.dirtyPartitions.shift(),n=this.dbname+(-1===r?"":"."+r);if(this.options.paging&&-1!==r)return this.pageIterator={collection:r,docIndex:0,pageIndex:0},void this.saveNextPage((function(r){0===e.dirtyPartitions.length?t(r):e.saveNextPartition(t)}));var i=this.dbref.serializeDestructured({partitioned:!0,delimited:!0,partition:r});this.adapter.saveDatabase(n,i,(function(r){r?t(r):0===e.dirtyPartitions.length?t(null):e.saveNextPartition(t)}))},w.prototype.saveNextPage=function(t){var e=this,r=this.dbref.collections[this.pageIterator.collection],n=this.dbname+"."+this.pageIterator.collection+"."+this.pageIterator.pageIndex,i=0,o=r.data.length,s=this.options.delimiter.length,a="",u="",c=!1,l=!1,h=function(r){u="",r&&t(r),c?t(null):(e.pageIterator.pageIndex++,e.saveNextPage(t))};for(0===r.data.length&&(c=!0);;)if(c||(a=JSON.stringify(r.data[this.pageIterator.docIndex]),u+=a,i+=a.length,++this.pageIterator.docIndex>=o&&(c=!0)),i>=this.options.pageSize&&(l=!0),l&&!c||(u+=this.options.delimiter,i+=s),c||l)return void this.adapter.saveDatabase(n,u,h)},_.prototype.loadDatabase=function(t,e){var r=this;this.fs.stat(t,(function(n,i){!n&&i.isFile()?r.fs.readFile(t,{encoding:"utf8"},(function(t,r){e(t?new Error(t):r)})):e(null)}))},_.prototype.saveDatabase=function(t,e,r){var n=this,i=t+"~";this.fs.writeFile(i,e,(function(e){e?r(new Error(e)):n.fs.rename(i,t,r)}))},_.prototype.deleteDatabase=function(t,e){this.fs.unlink(t,(function(t){t?e(new Error(t)):e()}))},S.prototype.loadDatabase=function(t,e){v()?e(localStorage.getItem(t)):e(new Error("localStorage is not available"))},S.prototype.saveDatabase=function(t,e,r){v()?(localStorage.setItem(t,e),r(null)):r(new Error("localStorage is not available"))},S.prototype.deleteDatabase=function(t,e){v()?(localStorage.removeItem(t),e(null)):e(new Error("localStorage is not available"))},g.prototype.throttledSaveDrain=function(t,e){var r=this,n=(new Date).getTime();if(this.throttledSaves||t(!0),(e=e||{}).hasOwnProperty("recursiveWait")||(e.recursiveWait=!0),e.hasOwnProperty("recursiveWaitLimit")||(e.recursiveWaitLimit=!1),e.hasOwnProperty("recursiveWaitLimitDuration")||(e.recursiveWaitLimitDuration=2e3),e.hasOwnProperty("started")||(e.started=(new Date).getTime()),this.throttledSaves&&this.throttledSavePending){if(!e.recursiveWait)return void this.throttledCallbacks.push(t);this.throttledCallbacks.push((function(){return r.throttledSavePending?e.recursiveWaitLimit&&n-e.started>e.recursiveWaitLimitDuration?void t(!1):void r.throttledSaveDrain(t,e):void t(!0)}))}else t(!0)},g.prototype.loadDatabaseInternal=function(t,e){var r=e||function(t,e){if(t)throw t},n=this;null!==this.persistenceAdapter?this.persistenceAdapter.loadDatabase(this.filename,(function(e){if("string"==typeof e){var i=!1;try{n.loadJSON(e,t||{}),i=!0}catch(t){r(t)}i&&(r(null),n.emit("loaded","database "+n.filename+" loaded"))}else{if(!e)return r(null),void n.emit("loaded","empty database "+n.filename+" loaded");if(e instanceof Error)return void r(e);if("object"==typeof e)return n.loadJSONObject(e,t||{}),r(null),void n.emit("loaded","database "+n.filename+" loaded");r("unexpected adapter response : "+e)}})):r(new Error("persistenceAdapter not configured"))},g.prototype.loadDatabase=function(t,e){var r=this;this.throttledSaves?this.throttledSaveDrain((function(n){if(n)return r.throttledSavePending=!0,void r.loadDatabaseInternal(t,(function(t){0===r.throttledCallbacks.length?r.throttledSavePending=!1:r.saveDatabase(),"function"==typeof e&&e(t)}));"function"==typeof e&&e(new Error("Unable to pause save throttling long enough to read database"))}),t):this.loadDatabaseInternal(t,e)},g.prototype.saveDatabaseInternal=function(t){var e=t||function(t){if(t)throw t},r=this;null!==this.persistenceAdapter?"reference"===this.persistenceAdapter.mode&&"function"==typeof this.persistenceAdapter.exportDatabase?this.persistenceAdapter.exportDatabase(this.filename,this.copy({removeNonSerializable:!0}),(function(t){r.autosaveClearFlags(),e(t)})):(r.autosaveClearFlags(),this.persistenceAdapter.saveDatabase(this.filename,r.serialize(),(function(t){e(t)}))):e(new Error("persistenceAdapter not configured"))},g.prototype.saveDatabase=function(t){if(this.throttledSaves)if(this.throttledSavePending)this.throttledCallbacks.push(t);else{var e=this.throttledCallbacks;this.throttledCallbacks=[],e.unshift(t),this.throttledSavePending=!0;var r=this;this.saveDatabaseInternal((function(t){r.throttledSavePending=!1,e.forEach((function(e){"function"==typeof e&&setTimeout((function(){e(t)}),1)})),r.throttledCallbacks.length>0&&r.saveDatabase()}))}else this.saveDatabaseInternal(t)},g.prototype.save=g.prototype.saveDatabase,g.prototype.deleteDatabase=function(t,e){var r=e||function(t,e){if(t)throw t};"function"!=typeof t||e||(r=t),null!==this.persistenceAdapter?this.persistenceAdapter.deleteDatabase(this.filename,(function(t){r(t)})):r(new Error("persistenceAdapter not configured"))},g.prototype.autosaveDirty=function(){for(var t=0;t<this.collections.length;t++)if(this.collections[t].dirty)return!0;return!1},g.prototype.autosaveClearFlags=function(){for(var t=0;t<this.collections.length;t++)this.collections[t].dirty=!1},g.prototype.autosaveEnable=function(t,e){this.autosave=!0;var r=5e3,n=this;void 0!==this.autosaveInterval&&null!==this.autosaveInterval&&(r=this.autosaveInterval),this.autosaveHandle=setInterval((function(){n.autosaveDirty()&&n.saveDatabase(e)}),r)},g.prototype.autosaveDisable=function(){void 0!==this.autosaveHandle&&null!==this.autosaveHandle&&(clearInterval(this.autosaveHandle),this.autosaveHandle=null)},E.prototype.reset=function(){return this.filteredrows.length>0&&(this.filteredrows=[]),this.filterInitialized=!1,this},E.prototype.toJSON=function(){var t=this.copy();return t.collection=null,t},E.prototype.limit=function(t){this.filterInitialized||0!==this.filteredrows.length||(this.filteredrows=this.collection.prepareFullDocIndex());var e=new E(this.collection);return e.filteredrows=this.filteredrows.slice(0,t),e.filterInitialized=!0,e},E.prototype.offset=function(t){this.filterInitialized||0!==this.filteredrows.length||(this.filteredrows=this.collection.prepareFullDocIndex());var e=new E(this.collection);return e.filteredrows=this.filteredrows.slice(t),e.filterInitialized=!0,e},E.prototype.copy=function(){var t=new E(this.collection);return this.filteredrows.length>0&&(t.filteredrows=this.filteredrows.slice()),t.filterInitialized=this.filterInitialized,t},E.prototype.branch=E.prototype.copy,E.prototype.transform=function(t,e){var n,i,o=this;if("string"==typeof t&&this.collection.transforms.hasOwnProperty(t)&&(t=this.collection.transforms[t]),"object"!=typeof t||!Array.isArray(t))throw new Error("Invalid transform");for(void 0!==e&&(t=r.resolveTransformParams(t,e)),n=0;n<t.length;n++)switch((i=t[n]).type){case"find":o.find(i.value);break;case"where":o.where(i.value);break;case"simplesort":o.simplesort(i.property,i.desc||i.options);break;case"compoundsort":o.compoundsort(i.value);break;case"sort":o.sort(i.value);break;case"limit":o=o.limit(i.value);break;case"offset":o=o.offset(i.value);break;case"map":o=o.map(i.value,i.dataOptions);break;case"eqJoin":o=o.eqJoin(i.joinData,i.leftJoinKey,i.rightJoinKey,i.mapFun,i.dataOptions);break;case"mapReduce":o=o.mapReduce(i.mapFunction,i.reduceFunction);break;case"update":o.update(i.value);break;case"remove":o.remove()}return o},E.prototype.sort=function(t){this.filterInitialized||0!==this.filteredrows.length||(this.filteredrows=this.collection.prepareFullDocIndex());var e,r,n=(e=t,r=this.collection.data,function(t,n){return e(r[t],r[n])});return this.filteredrows.sort(n),this},E.prototype.simplesort=function(t,e){var n,i=10,o=this.collection.data.length,s=this.filteredrows.length,a=this.collection.binaryIndices.hasOwnProperty(t);if(void 0!==e&&!1!==e||(e={desc:!1}),!0===e&&(e={desc:!0}),0===s){if(this.filterInitialized)return this;if(this.collection.binaryIndices.hasOwnProperty(t))return this.collection.ensureIndex(t),this.filteredrows=this.collection.binaryIndices[t].values.slice(0),e.desc&&this.filteredrows.reverse(),this;this.filteredrows=this.collection.prepareFullDocIndex()}else if(!e.disableIndexIntersect&&a&&(n=o/s,e.useJavascriptSorting&&(i=6),n<=i||e.forceIndexIntersect)){var c,l=this.filteredrows,h={};for(c=0;c<s;c++)h[l[c]]=!0;var f=this.collection.binaryIndices[t].values;return this.filteredrows=f.filter((function(t){return h[t]})),e.desc&&this.filteredrows.reverse(),this}if(e.useJavascriptSorting)return this.sort((function(e,r){return e[t]===r[t]?0:e[t]>r[t]?1:e[t]<r[t]?-1:void 0}));var d,p,y,v,m,g,b=(d=t,p=e.desc,y=this.collection.data,function(t,e){return~d.indexOf(".")?(g=d.split("."),v=r.getIn(y[t],g,!0),m=r.getIn(y[e],g,!0)):(v=y[t][d],m=y[e][d]),u(v,m,p)});return this.filteredrows.sort(b),this},E.prototype.compoundsort=function(t){if(0===t.length)throw new Error("Invalid call to compoundsort, need at least one property");var e;if(1===t.length)return e=t[0],Array.isArray(e)?this.simplesort(e[0],e[1]):this.simplesort(e,!1);for(var n=0,i=t.length;n<i;n+=1)e=t[n],Array.isArray(e)||(t[n]=[e,!1]);this.filterInitialized||0!==this.filteredrows.length||(this.filteredrows=this.collection.prepareFullDocIndex());var o,s,a=(o=t,s=this.collection.data,function(t,e){return function(t,e,n){for(var i,o,s,a,c,l=0,h=0,f=t.length;h<f;h++)if(~(o=(i=t[h])[0]).indexOf(".")?(c=o.split("."),s=r.getIn(e,c,!0),a=r.getIn(n,c,!0)):(s=e[o],a=n[o]),0!==(l=u(s,a,i[1])))return l;return 0}(o,s[t],s[e])});return this.filteredrows.sort(a),this},E.prototype.findOr=function(t){for(var e=null,r=0,n=0,i=[],o=[],s=0,a=this.count(),u=0,c=t.length;u<c;u++){if((n=(e=this.branch().find(t[u]).filteredrows).length)===a)return this;for(r=0;r<n;r++)void 0===o[s=e[r]]&&(o[s]=!0,i.push(s))}return this.filteredrows=i,this.filterInitialized=!0,this},E.prototype.$or=E.prototype.findOr,E.prototype.findAnd=function(t){for(var e=0,r=t.length;e<r;e++){if(0===this.count())return this;this.find(t[e])}return this},E.prototype.$and=E.prototype.findAnd,E.prototype.find=function(e,n){if(0===this.collection.data.length)return this.filteredrows=[],this.filterInitialized=!0,this;var i,o,s,a,u,l,h,f=e||"getAll",y=!1,v=[],m=[],g=null;if(n=n||!1,"object"==typeof f){for(i in f)(a={})[i]=f[i],m.push(a),t.call(f,i)&&(o=i,s=f[i]);if(m.length>1)return this.find({$and:m},n)}if(!o||"getAll"===f)return n&&(this.filteredrows=this.collection.data.length>0?[0]:[],this.filterInitialized=!0),this;if("$and"===o||"$or"===o)return this[o](s),n&&this.filteredrows.length>1&&(this.filteredrows=this.filteredrows.slice(0,1)),this;if(null===s||"object"!=typeof s||s instanceof Date)u="$eq",l=s;else{if("object"!=typeof s)throw new Error("Do not know what you want to do.");for(h in s)if(t.call(s,h)){u=h,l=s[h];break}}"$regex"!==u&&"object"!=typeof l||(l=x(u,l));var b=-1!==o.indexOf(".");!this.filterInitialized&&this.collection.binaryIndices[o]&&p[u]&&(!0!==this.collection.adaptiveBinaryIndices&&this.collection.ensureIndex(o),y=!0,g=this.collection.binaryIndices[o]);var w,_=d[u],S=this.collection.data,E=0,O=0,C=0;if(this.filterInitialized)if(O=(w=this.filteredrows).length,b)for(o=o.split("."),E=0;E<O;E++)c(S[C=w[E]],o,_,l)&&v.push(C);else for(E=0;E<O;E++)_(S[C=w[E]][o],l)&&v.push(C);else if(y){var A=this.collection.calculateRange(u,o,l);if("$in"!==u){for(E=A[0];E<=A[1];E++)if(!0!==p[u]){if(p[u](r.getIn(S[g.values[E]],o,b),l)&&(v.push(g.values[E]),n))return this.filteredrows=v,this.filterInitialized=!0,this}else if(v.push(g.values[E]),n)return this.filteredrows=v,this.filterInitialized=!0,this}else for(E=0,O=A.length;E<O;E++)if(v.push(g.values[A[E]]),n)return this.filteredrows=v,this.filterInitialized=!0,this}else if(O=S.length,b){for(o=o.split("."),E=0;E<O;E++)if(c(S[E],o,_,l)&&(v.push(E),n))return this.filteredrows=v,this.filterInitialized=!0,this}else for(E=0;E<O;E++)if(_(S[E][o],l)&&(v.push(E),n))return this.filteredrows=v,this.filterInitialized=!0,this;return this.filteredrows=v,this.filterInitialized=!0,this},E.prototype.where=function(t){var e,r=[];if("function"!=typeof t)throw new TypeError("Argument is not a stored view or a function");e=t;try{if(this.filterInitialized){for(var n=this.filteredrows.length;n--;)!0===e(this.collection.data[this.filteredrows[n]])&&r.push(this.filteredrows[n]);return this.filteredrows=r,this}for(var i=this.collection.data.length;i--;)!0===e(this.collection.data[i])&&r.push(i);return this.filteredrows=r,this.filterInitialized=!0,this}catch(t){throw t}},E.prototype.count=function(){return this.filterInitialized?this.filteredrows.length:this.collection.count()},E.prototype.data=function(t){var e,r,n,i,o=[],s=this.collection.data;if((t=t||{}).removeMeta&&!t.forceClones&&(t.forceClones=!0,t.forceCloneMethod=t.forceCloneMethod||"shallow"),this.collection.disableDeltaChangesApi||(t.forceClones=!0,t.forceCloneMethod="parse-stringify"),!this.filterInitialized){if(0===this.filteredrows.length){if(this.collection.cloneObjects||t.forceClones){for(r=s.length,i=t.forceCloneMethod||this.collection.cloneMethod,n=0;n<r;n++)e=y(s[n],i),t.removeMeta&&(delete e.$loki,delete e.meta),o.push(e);return o}return s.slice()}this.filterInitialized=!0}var a=this.filteredrows;if(r=a.length,this.collection.cloneObjects||t.forceClones)for(i=t.forceCloneMethod||this.collection.cloneMethod,n=0;n<r;n++)e=y(s[a[n]],i),t.removeMeta&&(delete e.$loki,delete e.meta),o.push(e);else for(n=0;n<r;n++)o.push(s[a[n]]);return o},E.prototype.update=function(t){if("function"!=typeof t)throw new TypeError("Argument is not a function");this.filterInitialized||0!==this.filteredrows.length||(this.filteredrows=this.collection.prepareFullDocIndex());for(var e,r=this.filteredrows.length,n=this.collection.data,i=0;i<r;i++)this.collection.cloneObjects||!this.collection.disableDeltaChangesApi?(t(e=y(n[this.filteredrows[i]],this.collection.cloneMethod)),this.collection.update(e)):(t(n[this.filteredrows[i]]),this.collection.update(n[this.filteredrows[i]]));return this},E.prototype.remove=function(){return this.filterInitialized||0!==this.filteredrows.length||(this.filteredrows=this.collection.prepareFullDocIndex()),this.collection.removeBatchByPositions(this.filteredrows),this.filteredrows=[],this},E.prototype.mapReduce=function(t,e){try{return e(this.data().map(t))}catch(t){throw t}},E.prototype.eqJoin=function(t,e,r,n,i){var o,s,a,u,c=[],l=[],h="function"==typeof e,f="function"==typeof r,d={};if(s=(o=this.data(i)).length,t instanceof C)c=t.chain().data(i);else if(t instanceof E)c=t.data(i);else{if(!Array.isArray(t))throw new TypeError("joinData needs to be an array or result set");c=t}a=c.length;for(var p=0;p<a;p++)d[u=f?r(c[p]):c[p][r]]=c[p];n||(n=function(t,e){return{left:t,right:e}});for(var y=0;y<s;y++)u=h?e(o[y]):o[y][e],l.push(n(o[y],d[u]||{}));return this.collection=new C("joinData"),this.collection.insert(l),this.filteredrows=[],this.filterInitialized=!1,this},E.prototype.map=function(t,e){var r=this.data(e).map(t);return this.collection=new C("mappedData"),this.collection.insert(r),this.filteredrows=[],this.filterInitialized=!1,this},O.prototype=new m,O.prototype.rematerialize=function(t){var e,r,n;if(t=t||{},this.resultdata=[],this.resultsdirty=!0,this.resultset=new E(this.collection),(this.sortFunction||this.sortCriteria||this.sortCriteriaSimple)&&(this.sortDirty=!0),t.hasOwnProperty("removeWhereFilters"))for(r=e=this.filterPipeline.length;r--;)"where"===this.filterPipeline[r].type&&(r!==this.filterPipeline.length-1&&(this.filterPipeline[r]=this.filterPipeline[this.filterPipeline.length-1]),this.filterPipeline.length--);var i=this.filterPipeline;for(this.filterPipeline=[],e=i.length,n=0;n<e;n++)this.applyFind(i[n].val);return this.data(),this.emit("rebuild",this),this},O.prototype.branchResultset=function(t,e){var r=this.resultset.branch();return void 0===t?r:r.transform(t,e)},O.prototype.toJSON=function(){var t=new O(this.collection,this.name,this.options);return t.resultset=this.resultset,t.resultdata=[],t.resultsdirty=!0,t.filterPipeline=this.filterPipeline,t.sortFunction=this.sortFunction,t.sortCriteria=this.sortCriteria,t.sortCriteriaSimple=this.sortCriteriaSimple||null,t.sortDirty=this.sortDirty,t.collection=null,t},O.prototype.removeFilters=function(t){t=t||{},this.rebuildPending=!1,this.resultset.reset(),this.resultdata=[],this.resultsdirty=!0,this.cachedresultset=null,this.filterPipeline=[],this.sortFunction=null,this.sortCriteria=null,this.sortCriteriaSimple=null,this.sortDirty=!1,!0===t.queueSortPhase&&this.queueSortPhase()},O.prototype.applySort=function(t){return this.sortFunction=t,this.sortCriteria=null,this.sortCriteriaSimple=null,this.queueSortPhase(),this},O.prototype.applySimpleSort=function(t,e){return this.sortCriteriaSimple={propname:t,options:e||!1},this.sortCriteria=null,this.sortFunction=null,this.queueSortPhase(),this},O.prototype.applySortCriteria=function(t){return this.sortCriteria=t,this.sortCriteriaSimple=null,this.sortFunction=null,this.queueSortPhase(),this},O.prototype.startTransaction=function(){return this.cachedresultset=this.resultset.copy(),this},O.prototype.commit=function(){return this.cachedresultset=null,this},O.prototype.rollback=function(){return this.resultset=this.cachedresultset,this.options.persistent&&(this.resultdata=this.resultset.data(),this.emit("rebuild",this)),this},O.prototype._indexOfFilterWithId=function(t){if("string"==typeof t||"number"==typeof t)for(var e=0,r=this.filterPipeline.length;e<r;e+=1)if(t===this.filterPipeline[e].uid)return e;return-1},O.prototype._addFilter=function(t){this.filterPipeline.push(t),this.resultset[t.type](t.val)},O.prototype.reapplyFilters=function(){this.resultset.reset(),this.cachedresultset=null,this.options.persistent&&(this.resultdata=[],this.resultsdirty=!0);var t=this.filterPipeline;this.filterPipeline=[];for(var e=0,r=t.length;e<r;e+=1)this._addFilter(t[e]);return this.sortFunction||this.sortCriteria||this.sortCriteriaSimple?this.queueSortPhase():this.queueRebuildEvent(),this},O.prototype.applyFilter=function(t){var e=this._indexOfFilterWithId(t.uid);return e>=0?(this.filterPipeline[e]=t,this.reapplyFilters()):(this.cachedresultset=null,this.options.persistent&&(this.resultdata=[],this.resultsdirty=!0),this._addFilter(t),this.sortFunction||this.sortCriteria||this.sortCriteriaSimple?this.queueSortPhase():this.queueRebuildEvent(),this)},O.prototype.applyFind=function(t,e){return this.applyFilter({type:"find",val:t,uid:e}),this},O.prototype.applyWhere=function(t,e){return this.applyFilter({type:"where",val:t,uid:e}),this},O.prototype.removeFilter=function(t){var e=this._indexOfFilterWithId(t);if(e<0)throw new Error("Dynamic view does not contain a filter with ID: "+t);return this.filterPipeline.splice(e,1),this.reapplyFilters(),this},O.prototype.count=function(){return this.resultsdirty&&(this.resultdata=this.resultset.data()),this.resultset.count()},O.prototype.data=function(t){return(this.sortDirty||this.resultsdirty)&&this.performSortPhase({suppressRebuildEvent:!0}),this.options.persistent?this.resultdata:this.resultset.data(t)},O.prototype.queueRebuildEvent=function(){if(!this.rebuildPending){this.rebuildPending=!0;var t=this;setTimeout((function(){t.rebuildPending&&(t.rebuildPending=!1,t.emit("rebuild",t))}),this.options.minRebuildInterval)}},O.prototype.queueSortPhase=function(){if(!this.sortDirty){this.sortDirty=!0;var t=this;"active"===this.options.sortPriority?setTimeout((function(){t.performSortPhase()}),this.options.minRebuildInterval):this.queueRebuildEvent()}},O.prototype.performSortPhase=function(t){(this.sortDirty||this.resultsdirty)&&(t=t||{},this.sortDirty&&(this.sortFunction?this.resultset.sort(this.sortFunction):this.sortCriteria?this.resultset.compoundsort(this.sortCriteria):this.sortCriteriaSimple&&this.resultset.simplesort(this.sortCriteriaSimple.propname,this.sortCriteriaSimple.options),this.sortDirty=!1),this.options.persistent&&(this.resultdata=this.resultset.data(),this.resultsdirty=!1),t.suppressRebuildEvent||this.emit("rebuild",this))},O.prototype.evaluateDocument=function(t,e){if(!this.resultset.filterInitialized)return this.options.persistent&&(this.resultdata=this.resultset.data()),void(this.sortFunction||this.sortCriteria||this.sortCriteriaSimple?this.queueSortPhase():this.queueRebuildEvent());var r,n=this.resultset.filteredrows,i=e?-1:n.indexOf(+t),o=n.length,s=new E(this.collection);s.filteredrows=[t],s.filterInitialized=!0;for(var a=0,u=this.filterPipeline.length;a<u;a++)s[(r=this.filterPipeline[a]).type](r.val);var c=0===s.filteredrows.length?-1:0;return-1!==i||-1!==c?-1===i&&-1!==c?(n.push(t),this.options.persistent&&this.resultdata.push(this.collection.data[t]),void(this.sortFunction||this.sortCriteria||this.sortCriteriaSimple?this.queueSortPhase():this.queueRebuildEvent())):-1!==i&&-1===c?(i<o-1?(n.splice(i,1),this.options.persistent&&this.resultdata.splice(i,1)):(n.length=o-1,this.options.persistent&&(this.resultdata.length=o-1)),void(this.sortFunction||this.sortCriteria||this.sortCriteriaSimple?this.queueSortPhase():this.queueRebuildEvent())):-1!==i&&-1!==c?(this.options.persistent&&(this.resultdata[i]=this.collection.data[t]),void(this.sortFunction||this.sortCriteria||this.sortCriteriaSimple?this.queueSortPhase():this.queueRebuildEvent())):void 0:void 0},O.prototype.removeDocument=function(t){var e,r,n,i={},o={},s=[],a=this.resultset,u=this.resultset.filteredrows,c=u.length;if(!this.resultset.filterInitialized)return this.options.persistent&&(this.resultdata=this.resultset.data()),void(this.sortFunction||this.sortCriteria||this.sortCriteriaSimple?this.queueSortPhase():this.queueRebuildEvent());for(Array.isArray(t)||(t=[t]),n=t.length,r=0;r<n;r++)i[t[r]]=!0;for(e=0;e<c;e++)i[u[e]]&&(o[e]=!0);Object.keys(o).length>0&&(this.resultset.filteredrows=this.resultset.filteredrows.filter((function(t,e){return!o[e]})),this.options.persistent&&(this.resultdata=this.resultdata.filter((function(t,e){return!o[e]}))),this.sortFunction||this.sortCriteria||this.sortCriteriaSimple?this.queueSortPhase():this.queueRebuildEvent());var l=function(t){return function(e){return e<a.filteredrows[t]}};for(c=a.filteredrows.length,e=0;e<c;e++)s=t.filter(l(e)),a.filteredrows[e]-=s.length},O.prototype.mapReduce=function(t,e){try{return e(this.data().map(t))}catch(t){throw t}},C.prototype=new m,C.prototype.createChange=function(t,e,r,n){this.changes.push({name:t,operation:e,obj:"U"!=e||this.disableDeltaChangesApi?JSON.parse(JSON.stringify(r)):this.getChangeDelta(r,n)})},C.prototype.insertMeta=function(t){var e,r;if(!this.disableMeta&&t)if(Array.isArray(t))for(e=t.length,r=0;r<e;r++)t[r].hasOwnProperty("meta")||(t[r].meta={}),t[r].meta.created=(new Date).getTime(),t[r].meta.revision=0;else t.meta||(t.meta={}),t.meta.created=(new Date).getTime(),t.meta.revision=0},C.prototype.updateMeta=function(t){!this.disableMeta&&t&&(t.meta.updated=(new Date).getTime(),t.meta.revision+=1)},C.prototype.createInsertChange=function(t){this.createChange(this.name,"I",t)},C.prototype.createUpdateChange=function(t,e){this.createChange(this.name,"U",t,e)},C.prototype.insertMetaWithChange=function(t){this.insertMeta(t),this.createInsertChange(t)},C.prototype.updateMetaWithChange=function(t,e){this.updateMeta(t),this.createUpdateChange(t,e)},C.prototype.console={log:function(){},warn:function(){},error:function(){}},C.prototype.addAutoUpdateObserver=function(t){this.autoupdate&&"function"==typeof Object.observe&&Object.observe(t,this.observerCallback,["add","update","delete","reconfigure","setPrototype"])},C.prototype.removeAutoUpdateObserver=function(t){this.autoupdate&&"function"==typeof Object.observe&&Object.unobserve(t,this.observerCallback)},C.prototype.addTransform=function(t,e){if(this.transforms.hasOwnProperty(t))throw new Error("a transform by that name already exists");this.transforms[t]=e},C.prototype.getTransform=function(t){return this.transforms[t]},C.prototype.setTransform=function(t,e){this.transforms[t]=e},C.prototype.removeTransform=function(t){delete this.transforms[t]},C.prototype.byExample=function(t){var e,r,n;for(e in n=[],t)t.hasOwnProperty(e)&&n.push(((r={})[e]=t[e],r));return{$and:n}},C.prototype.findObject=function(t){return this.findOne(this.byExample(t))},C.prototype.findObjects=function(t){return this.find(this.byExample(t))},C.prototype.ttlDaemonFuncGen=function(){var t=this,e=this.ttl.age;return function(){var r=Date.now();t.chain().where((function(t){var n=t.meta.updated||t.meta.created;return e<r-n})).remove()}},C.prototype.setTTL=function(t,e){t<0?clearInterval(this.ttl.daemon):(this.ttl.age=t,this.ttl.ttlInterval=e,this.ttl.daemon=setInterval(this.ttlDaemonFuncGen(),e))},C.prototype.prepareFullDocIndex=function(){for(var t=this.data.length,e=new Array(t),r=0;r<t;r+=1)e[r]=r;return e},C.prototype.configureOptions=function(t){(t=t||{}).hasOwnProperty("adaptiveBinaryIndices")&&(this.adaptiveBinaryIndices=t.adaptiveBinaryIndices,this.adaptiveBinaryIndices&&this.ensureAllIndexes())},C.prototype.ensureIndex=function(t,e){if(void 0===e&&(e=!1),null==t)throw new Error("Attempting to set index without an associated property");if((!this.binaryIndices[t]||e||this.binaryIndices[t].dirty)&&(!0!==this.adaptiveBinaryIndices||!this.binaryIndices.hasOwnProperty(t)||e)){var i={name:t,dirty:!0,values:this.prepareFullDocIndex()};this.binaryIndices[t]=i;var o,s,a,u,c,l=(o=t,s=this.data,function(t,e){if(~o.indexOf(".")?(c=o.split("."),a=r.getIn(s[t],c,!0),u=r.getIn(s[e],c,!0)):(a=s[t][o],u=s[e][o]),a!==u){if(n.lt(a,u,!1))return-1;if(n.gt(a,u,!1))return 1}return 0});i.values.sort(l),i.dirty=!1,this.dirty=!0}},C.prototype.checkAllIndexes=function(e){var r,n=this.binaryIndices,i=[];for(r in n)t.call(n,r)&&(this.checkIndex(r,e)||i.push(r));return i},C.prototype.checkIndex=function(t,e){(e=e||{}).randomSamplingFactor&&!1!==e.randomSampling&&(e.randomSampling=!0),e.randomSamplingFactor=e.randomSamplingFactor||.1,(e.randomSamplingFactor<0||e.randomSamplingFactor>1)&&(e.randomSamplingFactor=.1);var n,i,o,s,a,u=!0;if(!this.binaryIndices.hasOwnProperty(t))throw new Error("called checkIndex on property without an index: "+t);if(this.adaptiveBinaryIndices||this.ensureIndex(t),(s=(a=this.binaryIndices[t].values).length)!==this.data.length)return e.repair&&this.ensureIndex(t,!0),!1;if(0===s)return!0;var c=-1!==t.indexOf(".");if(1===s)u=0===a[0];else if(e.randomSampling){if(d.$lte(r.getIn(this.data[a[0]],t,c),r.getIn(this.data[a[1]],t,c))||(u=!1),d.$lte(r.getIn(this.data[a[s-2]],t,c),r.getIn(this.data[a[s-1]],t,c))||(u=!1),u)for(i=Math.floor((s-1)*e.randomSamplingFactor),n=0;n<i-1;n++)if(o=Math.floor(Math.random()*(s-1)),!d.$lte(r.getIn(this.data[a[o]],t,c),r.getIn(this.data[a[o+1]],t,c))){u=!1;break}}else for(n=0;n<s-1;n++)if(!d.$lte(r.getIn(this.data[a[n]],t,c),r.getIn(this.data[a[n+1]],t,c))){u=!1;break}return!u&&e.repair&&this.ensureIndex(t,!0),u},C.prototype.getBinaryIndexValues=function(t){var e,n=this.binaryIndices[t].values,i=[];for(e=0;e<n.length;e++)i.push(r.getIn(this.data[n[e]],t,!0));return i},C.prototype.ensureUniqueIndex=function(t){var e=this.constraints.unique[t];return e||-1==this.uniqueNames.indexOf(t)&&this.uniqueNames.push(t),this.constraints.unique[t]=e=new M(t),this.data.forEach((function(t){e.set(t)})),e},C.prototype.ensureAllIndexes=function(e){var r,n=this.binaryIndices;for(r in n)t.call(n,r)&&this.ensureIndex(r,e)},C.prototype.flagBinaryIndexesDirty=function(){var e,r=this.binaryIndices;for(e in r)t.call(r,e)&&(r[e].dirty=!0)},C.prototype.flagBinaryIndexDirty=function(t){this.binaryIndices[t]&&(this.binaryIndices[t].dirty=!0)},C.prototype.count=function(t){return t?this.chain().find(t).filteredrows.length:this.data.length},C.prototype.ensureId=function(){var t=this.data.length,e=0;for(this.idIndex=[];e<t;e+=1)this.idIndex.push(this.data[e].$loki)},C.prototype.ensureIdAsync=function(t){this.async((function(){this.ensureId()}),t)},C.prototype.addDynamicView=function(t,e){var r=new O(this,t,e);return this.DynamicViews.push(r),r},C.prototype.removeDynamicView=function(t){this.DynamicViews=this.DynamicViews.filter((function(e){return e.name!==t}))},C.prototype.getDynamicView=function(t){for(var e=0;e<this.DynamicViews.length;e++)if(this.DynamicViews[e].name===t)return this.DynamicViews[e];return null},C.prototype.findAndUpdate=function(t,e){"function"==typeof t?this.updateWhere(t,e):this.chain().find(t).update(e)},C.prototype.findAndRemove=function(t){this.chain().find(t).remove()},C.prototype.insert=function(t){if(!Array.isArray(t))return this.insertOne(t);var e,r=[];this.emit("pre-insert",t);for(var n=0,i=t.length;n<i;n++){if(!(e=this.insertOne(t[n],!0)))return;r.push(e)}return this.emit("insert",r),1===(r=this.cloneObjects?y(r,this.cloneMethod):r).length?r[0]:r},C.prototype.insertOne=function(t,e){var r,n=null;if("object"!=typeof t?n=new TypeError("Document needs to be an object"):null===t&&(n=new TypeError("Object cannot be null")),null!==n)throw this.emit("error",n),n;var i=this.cloneObjects?y(t,this.cloneMethod):t;if(this.disableMeta||void 0!==i.meta||(i.meta={revision:0,created:0}),e||this.emit("pre-insert",i),this.add(i))return this.disableChangesApi?this.insertMeta(i):this.insertMetaWithChange(i),r=this.cloneObjects?y(i,this.cloneMethod):i,e||this.emit("insert",r),this.addAutoUpdateObserver(r),r},C.prototype.clear=function(t){var e=this;t=t||{},this.data=[],this.idIndex=[],this.cachedIndex=null,this.cachedBinaryIndex=null,this.cachedData=null,this.maxId=0,this.DynamicViews=[],this.dirty=!0,!0===t.removeIndices?(this.binaryIndices={},this.constraints={unique:{},exact:{}},this.uniqueNames=[]):(Object.keys(this.binaryIndices).forEach((function(t){e.binaryIndices[t].dirty=!1,e.binaryIndices[t].values=[]})),this.constraints={unique:{},exact:{}},this.uniqueNames.forEach((function(t){e.ensureUniqueIndex(t)})))},C.prototype.update=function(e){var r,n,i;if(Array.isArray(e)){i=e.length,(r=!this.cloneObjects&&this.adaptiveBinaryIndices&&Object.keys(this.binaryIndices).length>0)&&(this.adaptiveBinaryIndices=!1);try{for(n=0;n<i;n+=1)this.update(e[n])}finally{r&&(this.ensureAllIndexes(),this.adaptiveBinaryIndices=!0)}}else{if(!t.call(e,"$loki"))throw new Error("Trying to update unsynced document. Please save the document first by using insert() or addMany()");try{this.startTransaction();var o,s,a,u,c,l=this.get(e.$loki,!0),h=this;if(!l)throw new Error("Trying to update a document not in collection.");o=l[0],a=l[1],s=this.cloneObjects||!this.disableDeltaChangesApi?y(e,this.cloneMethod):e,this.emit("pre-update",e),Object.keys(this.constraints.unique).forEach((function(t){h.constraints.unique[t].update(o,s)})),this.data[a]=s,s!==e&&this.addAutoUpdateObserver(e);for(var f=0;f<this.DynamicViews.length;f++)this.DynamicViews[f].evaluateDocument(a,!1);if(this.adaptiveBinaryIndices){var d=this.binaryIndices;for(u in d)this.adaptiveBinaryIndexUpdate(a,u)}else this.flagBinaryIndexesDirty();return this.idIndex[a]=s.$loki,this.commit(),this.dirty=!0,this.disableChangesApi?this.updateMeta(s,null):this.updateMetaWithChange(s,o),c=this.cloneObjects?y(s,this.cloneMethod):s,this.emit("update",c,o),c}catch(t){throw this.rollback(),this.console.error(t.message),this.emit("error",t),t}}},C.prototype.add=function(e){if("object"!=typeof e)throw new TypeError("Object being added needs to be an object");if(void 0!==e.$loki)throw new Error("Document is already in collection, please use update()");try{this.startTransaction(),this.maxId++,isNaN(this.maxId)&&(this.maxId=this.data[this.data.length-1].$loki+1),e.$loki=this.maxId,this.disableMeta||(e.meta.version=0);var r,n=this.constraints.unique;for(r in n)t.call(n,r)&&n[r].set(e);this.idIndex.push(e.$loki),this.data.push(e);for(var i=this.data.length-1,o=this.DynamicViews.length,s=0;s<o;s++)this.DynamicViews[s].evaluateDocument(i,!0);if(this.adaptiveBinaryIndices){var a=this.binaryIndices;for(r in a)this.adaptiveBinaryIndexInsert(i,r)}else this.flagBinaryIndexesDirty();return this.commit(),this.dirty=!0,this.cloneObjects?y(e,this.cloneMethod):e}catch(t){throw this.rollback(),this.console.error(t.message),this.emit("error",t),t}},C.prototype.updateWhere=function(t,e){var r,n=this.where(t),i=0;try{for(;i<n.length;i++)r=e(n[i]),this.update(r)}catch(t){this.rollback(),this.console.error(t.message)}},C.prototype.removeWhere=function(t){var e;"function"==typeof t?(e=this.data.filter(t),this.remove(e)):this.chain().find(t).remove()},C.prototype.removeDataOnly=function(){this.remove(this.data.slice())},C.prototype.removeBatchByPositions=function(t){var e,r,n,i,o=t.length,s={},a=Object.keys(this.binaryIndices).length,u=Object.keys(this.constraints.unique).length,c=this.adaptiveBinaryIndices&&Object.keys(this.binaryIndices).length>0,l=this;try{for(this.startTransaction(),n=0;n<o;n++)s[this.idIndex[t[n]]]=!0;if((e=this.DynamicViews.length)>0||a>0||u>0){if(e>0)for(r=0;r<e;r++)this.DynamicViews[r].removeDocument(t);if(this.adaptiveBinaryIndices&&!c){var h,f=this.binaryIndices;for(h in f)this.adaptiveBinaryIndexRemove(t,h)}else this.flagBinaryIndexesDirty();u&&Object.keys(this.constraints.unique).forEach((function(e){for(n=0;n<o;n++)null!==(i=l.data[t[n]])[e]&&void 0!==i[e]&&l.constraints.unique[e].remove(i[e])}))}if(!this.disableChangesApi||this.events.delete.length>1)for(n=0;n<o;n++)this.emit("delete",this.data[t[n]]);this.data=this.data.filter((function(t){return!s[t.$loki]})),this.idIndex=this.idIndex.filter((function(t){return!s[t]})),this.adaptiveBinaryIndices&&c&&(this.adaptiveBinaryIndices=!1,this.ensureAllIndexes(!0),this.adaptiveBinaryIndices=!0),this.commit(),this.dirty=!0}catch(t){return this.rollback(),c&&(this.adaptiveBinaryIndices=!0),this.console.error(t.message),this.emit("error",t),null}},C.prototype.removeBatch=function(t){var e,r=t.length,n=this.data.length,i={},o=[];for(e=0;e<n;e++)i[this.data[e].$loki]=e;for(e=0;e<r;e++)"object"==typeof t[e]?o.push(i[t[e].$loki]):o.push(i[t[e]]);this.removeBatchByPositions(o)},C.prototype.remove=function(e){if("number"==typeof e&&(e=this.get(e)),"object"!=typeof e)throw new Error("Parameter is not an object");if(Array.isArray(e))this.removeBatch(e);else{if(!t.call(e,"$loki"))throw new Error("Object is not a document stored in the collection");try{this.startTransaction();var r=this.get(e.$loki,!0),n=r[1],i=this;Object.keys(this.constraints.unique).forEach((function(t){null!==e[t]&&void 0!==e[t]&&i.constraints.unique[t].remove(e[t])}));for(var o=0;o<this.DynamicViews.length;o++)this.DynamicViews[o].removeDocument(n);if(this.adaptiveBinaryIndices){var s,a=this.binaryIndices;for(s in a)this.adaptiveBinaryIndexRemove(n,s)}else this.flagBinaryIndexesDirty();return this.data.splice(n,1),this.removeAutoUpdateObserver(e),this.idIndex.splice(n,1),this.commit(),this.dirty=!0,this.emit("delete",r[0]),delete e.$loki,delete e.meta,e}catch(t){return this.rollback(),this.console.error(t.message),this.emit("error",t),null}}},C.prototype.get=function(t,e){var r=e||!1,n=this.idIndex,i=n.length-1,o=0,s=o+i>>1;if(t="number"==typeof t?t:parseInt(t,10),isNaN(t))throw new TypeError("Passed id is not an integer");for(;n[o]<n[i];)n[s=o+i>>1]<t?o=s+1:i=s;return i===o&&n[o]===t?r?[this.data[o],o]:this.data[o]:null},C.prototype.getBinaryIndexPosition=function(t,e){var n=r.getIn(this.data[t],e,!0),i=this.binaryIndices[e].values,o=this.calculateRange("$eq",e,n);if(0===o[0]&&-1===o[1])return null;for(var s=o[0],a=o[1],u=s;u<=a;u++)if(i[u]===t)return u;return null},C.prototype.adaptiveBinaryIndexInsert=function(t,e){var n=-1!==e.indexOf("."),i=this.binaryIndices[e].values,o=r.getIn(this.data[t],e,n);!0===this.serializableIndices&&o instanceof Date&&(this.data[t][e]=o.getTime(),o=r.getIn(this.data[t],e));var s=0===i.length?0:this.calculateRangeStart(e,o,!0,n);this.binaryIndices[e].values.splice(s,0,t)},C.prototype.adaptiveBinaryIndexUpdate=function(t,e){var r,n=this.binaryIndices[e].values,i=n.length;for(r=0;r<i&&n[r]!==t;r++);this.binaryIndices[e].values.splice(r,1),this.adaptiveBinaryIndexInsert(t,e)},C.prototype.adaptiveBinaryIndexRemove=function(t,e,r){var n,i,o,s,a,u,c,l=this.binaryIndices[e],h={};if(Array.isArray(t)){if(1!==(s=t.length)){for(o=0;o<s;o++)h[t[o]]=!0;if(l.values=l.values.filter((function(t){return!h[t]})),!0===r)return;var f=t.slice();for(f.sort((function(t,e){return t-e})),n=l.values.length,i=0;i<n;i++){for(a=l.values[i],u=0,o=0;o<s&&a>f[o];o++)u++;l.values[i]-=u}return}t=t[0]}if(null===(c=this.getBinaryIndexPosition(t,e)))return null;if(l.values.splice(c,1),!0!==r)for(n=l.values.length,i=0;i<n;i++)l.values[i]>t&&l.values[i]--},C.prototype.calculateRangeStart=function(t,e,i,o){var s=this.data,a=this.binaryIndices[t].values,u=0,c=a.length-1,l=0;if(0===a.length)return-1;for(r.getIn(s[a[u]],t,o),r.getIn(s[a[c]],t,o);u<c;)l=u+c>>1,n.lt(r.getIn(s[a[l]],t,o),e,!1)?u=l+1:c=l;var h=u;return n.aeq(e,r.getIn(s[a[h]],t,o))?h:n.lt(e,r.getIn(s[a[h]],t,o),!1)?i?h:h-1:i?h+1:h},C.prototype.calculateRangeEnd=function(t,e,i){var o=this.data,s=this.binaryIndices[t].values,a=0,u=s.length-1,c=0;if(0===s.length)return-1;for(r.getIn(o[s[a]],t,i),r.getIn(o[s[u]],t,i);a<u;)c=a+u>>1,n.lt(e,r.getIn(o[s[c]],t,i),!1)?u=c:a=c+1;var l=u;return n.aeq(e,r.getIn(o[s[l]],t,i))?l:n.gt(e,r.getIn(o[s[l]],t,i),!1)?l+1:n.aeq(e,r.getIn(o[s[l-1]],t,i))?l-1:l},C.prototype.calculateRange=function(t,e,i){var o,s,a,u=this.data,c=this.binaryIndices[e].values,l=c.length-1;if(0===u.length)return[0,-1];var h=-1!==e.indexOf("."),f=r.getIn(u[c[0]],e,h),d=r.getIn(u[c[l]],e,h);switch(t){case"$eq":case"$aeq":case"$dteq":if(n.lt(i,f,!1)||n.gt(i,d,!1))return[0,-1];break;case"$gt":if(n.gt(i,d,!0))return[0,-1];if(n.gt(f,i,!1))return[0,l];break;case"$gte":if(n.gt(i,d,!1))return[0,-1];if(n.gt(f,i,!0))return[0,l];break;case"$lt":if(n.lt(i,f,!0))return[0,-1];if(n.lt(d,i,!1))return[0,l];break;case"$lte":if(n.lt(i,f,!1))return[0,-1];if(n.lt(d,i,!0))return[0,l];break;case"$between":return n.gt(i[0],d,!1)||n.lt(i[1],f,!1)?[0,-1]:((o=this.calculateRangeStart(e,i[0],!1,h))<0&&o++,(a=this.calculateRangeEnd(e,i[1],h))>l&&a--,n.gt(r.getIn(u[c[o]],e,h),i[0],!0)||o++,n.lt(r.getIn(u[c[a]],e,h),i[1],!0)||a--,a<o?[0,-1]:[o,a]);case"$in":for(var p=[],y=[],v=0,m=i.length;v<m;v++)for(var g=this.calculateRange("$eq",e,i[v]),b=g[0];b<=g[1];b++)void 0===p[b]&&(p[b]=!0,y.push(b));return y}switch(t){case"$eq":case"$aeq":case"$dteq":case"$gte":case"$lt":o=this.calculateRangeStart(e,i,!1,h),s=r.getIn(u[c[o]],e,h)}switch(t){case"$eq":case"$aeq":case"$dteq":case"$lte":case"$gt":a=this.calculateRangeEnd(e,i,h),r.getIn(u[c[a]],e,h)}switch(t){case"$eq":case"$aeq":case"$dteq":return n.aeq(s,i)?[o,a]:[0,-1];case"$gt":return n.aeq(r.getIn(u[c[a]],e,h),i)?[a+1,l]:[a,l];case"$gte":return n.aeq(r.getIn(u[c[o]],e,h),i)?[o,l]:[o+1,l];case"$lt":return n.aeq(r.getIn(u[c[o]],e,h),i)?[0,o-1]:[0,o];case"$lte":return n.aeq(r.getIn(u[c[a]],e,h),i)?[0,a]:[0,a-1];default:return[0,u.length-1]}},C.prototype.by=function(t,e){var r;if(void 0===e)return r=this,function(e){return r.by(t,e)};var n=this.constraints.unique[t].get(e);return this.cloneObjects?y(n,this.cloneMethod):n},C.prototype.findOne=function(t){t=t||{};var e=this.chain().find(t,!0).data();return Array.isArray(e)&&0===e.length?null:this.cloneObjects?y(e[0],this.cloneMethod):e[0]},C.prototype.chain=function(t,e){var r=new E(this);return void 0===t?r:r.transform(t,e)},C.prototype.find=function(t){return this.chain().find(t).data()},C.prototype.findOneUnindexed=function(t,e){for(var n=this.data.length;n--;)if(r.getIn(this.data[n],t,!0)===e)return this.data[n];return null},C.prototype.startTransaction=function(){if(this.transactional){this.cachedData=y(this.data,this.cloneMethod),this.cachedIndex=this.idIndex,this.cachedBinaryIndex=this.binaryIndices;for(var t=0;t<this.DynamicViews.length;t++)this.DynamicViews[t].startTransaction()}},C.prototype.commit=function(){if(this.transactional){this.cachedData=null,this.cachedIndex=null,this.cachedBinaryIndex=null;for(var t=0;t<this.DynamicViews.length;t++)this.DynamicViews[t].commit()}},C.prototype.rollback=function(){if(this.transactional){null!==this.cachedData&&null!==this.cachedIndex&&(this.data=this.cachedData,this.idIndex=this.cachedIndex,this.binaryIndices=this.cachedBinaryIndex);for(var t=0;t<this.DynamicViews.length;t++)this.DynamicViews[t].rollback()}},C.prototype.async=function(t,e){setTimeout((function(){if("function"!=typeof t)throw new TypeError("Argument passed for async execution is not a function");t(),e()}),0)},C.prototype.where=function(t){return this.chain().where(t).data()},C.prototype.mapReduce=function(t,e){try{return e(this.data.map(t))}catch(t){throw t}},C.prototype.eqJoin=function(t,e,r,n,i){return new E(this).eqJoin(t,e,r,n,i)},C.prototype.stages={},C.prototype.getStage=function(t){return this.stages[t]||(this.stages[t]={}),this.stages[t]},C.prototype.commitLog=[],C.prototype.stage=function(t,e){var r=JSON.parse(JSON.stringify(e));return this.getStage(t)[e.$loki]=r,r},C.prototype.commitStage=function(t,e){var r,n=this.getStage(t),i=(new Date).getTime();for(r in n)this.update(n[r]),this.commitLog.push({timestamp:i,message:e,data:JSON.parse(JSON.stringify(n[r]))});this.stages[t]={}},C.prototype.no_op=function(){},C.prototype.extract=function(t){for(var e=0,r=this.data.length,n=A(t),i=[];e<r;e+=1)i.push(R(this.data[e],t,n));return i},C.prototype.max=function(t){return Math.max.apply(null,this.extract(t))},C.prototype.min=function(t){return Math.min.apply(null,this.extract(t))},C.prototype.maxRecord=function(t){for(var e,r=0,n=this.data.length,i=A(t),o={index:0,value:void 0};r<n;r+=1)void 0!==e?e<R(this.data[r],t,i)&&(e=R(this.data[r],t,i),o.index=this.data[r].$loki):(e=R(this.data[r],t,i),o.index=this.data[r].$loki);return o.value=e,o},C.prototype.minRecord=function(t){for(var e,r=0,n=this.data.length,i=A(t),o={index:0,value:void 0};r<n;r+=1)void 0!==e?e>R(this.data[r],t,i)&&(e=R(this.data[r],t,i),o.index=this.data[r].$loki):(e=R(this.data[r],t,i),o.index=this.data[r].$loki);return o.value=e,o},C.prototype.extractNumerical=function(t){return this.extract(t).map(k).filter(Number).filter((function(t){return!isNaN(t)}))},C.prototype.avg=function(t){return D(this.extractNumerical(t))},C.prototype.stdDev=function(t){return e=this.extractNumerical(t),r=D(e),n=D(e.map((function(t){var e=t-r;return e*e}))),Math.sqrt(n);var e,r,n},C.prototype.mode=function(t){var e,r,n,i={},o=this.extract(t);for(r in o.forEach((function(t){i[t]?i[t]+=1:i[t]=1})),i)e?e<i[r]&&(n=r):(n=r,e=i[r]);return n},C.prototype.median=function(t){var e=this.extractNumerical(t);e.sort(j);var r=Math.floor(e.length/2);return e.length%2?e[r]:(e[r-1]+e[r])/2},F.prototype={keys:[],values:[],sort:function(t,e){return t<e?-1:t>e?1:0},setSort:function(t){this.bs=new T(t)},bs:function(){return new T(this.sort)},set:function(t,e){var r=this.bs(this.keys,t);r.found?this.values[r.index]=e:(this.keys.splice(r.index,0,t),this.values.splice(r.index,0,e))},get:function(t){return this.values[I(this.keys,t,this.sort).index]}},M.prototype.keyMap={},M.prototype.lokiMap={},M.prototype.set=function(t){var e=t[this.field];if(null!=e){if(this.keyMap[e])throw new Error("Duplicate key for property "+this.field+": "+e);this.keyMap[e]=t,this.lokiMap[t.$loki]=e}},M.prototype.get=function(t){return this.keyMap[t]},M.prototype.byId=function(t){return this.keyMap[this.lokiMap[t]]},M.prototype.update=function(t,e){if(this.lokiMap[t.$loki]!==e[this.field]){var r=this.lokiMap[t.$loki];this.set(e),this.keyMap[r]=void 0}else this.keyMap[t[this.field]]=e},M.prototype.remove=function(t){var e=this.keyMap[t];if(null==e)throw new Error("Key is not in unique index: "+this.field);this.keyMap[t]=void 0,this.lokiMap[e.$loki]=void 0},M.prototype.clear=function(){this.keyMap={},this.lokiMap={}},N.prototype={set:function(t,e){this.index[t]?this.index[t].push(e):this.index[t]=[e]},remove:function(t,e){var r=this.index[t];for(var n in r)r[n]==e&&r.splice(n,1);r.length<1&&(this.index[t]=void 0)},get:function(t){return this.index[t]},clear:function(t){this.index={}}},g.LokiOps=d,g.Collection=C,g.KeyValueStore=F,g.LokiMemoryAdapter=b,g.LokiPartitioningAdapter=w,g.LokiLocalStorageAdapter=S,g.LokiFsAdapter=_,g.persistenceAdapters={fs:_,localStorage:S},g.aeq=o,g.lt=s,g.gt=a,g.Comparators=n,g}()},"function"==typeof define&&define.amd?define([],zo):qo=zo();u=i("gh2nv");const Yo=i("23wL6")("dataparty.loki-cache");$o=class extends u{constructor(){super(),this.db=new qo("app.dataparty.io/cache")}async start(){return Promise.resolve()}_emitChange(t,e){const{type:r,id:n,revision:i}=t.$meta;this.emit(`${r}:${n}`,{event:e,msg:{type:r,id:n,revision:i}})}remove(t,e){Yo("remove",t,e);var r=this.db.getCollection(t);r.chain().find({"$meta.id":e}).remove();var n=r.findOne({"$meta.id":e});if(Yo(n),n)try{r.remove(n)}catch(t){Yo("remove CATCH -",t),r.findAndRemove({"$meta.id":e})}var i=this.findById(t,e);Yo(i),Yo(i?"remove, TEST - found item":"remove, TEST - no item found")}findById(t,e){const r=this.db.getCollection(t).findOne({"$meta.id":e});return r&&(delete r.$loki,delete r.meta),r}insert(t){return new Promise(((e,r)=>{for(const e of t){Yo("inserting msg ->",e);const{type:t,id:r,error:n,removed:i}=e.$meta;this.db.getCollection(t)||this.db.addCollection(t);const o=this.db.getCollection(t),s=o.findOne({"$meta.id":r});if(n||i){if(Yo("invalidating msg!"),s){try{o.findAndRemove({"$meta.id":r})}catch(t){Yo("WARN",t)}this._emitChange(e,"remove")}}else Yo("inserting msg",e),s&&o.findAndRemove({"$meta.id":r}),o.insert(Ot(e)),s?this._emitChange(e,"update"):this._emitChange(e,"create")}e(!0)}))}populate(t){return new Promise(((e,r)=>{Yo("populating msgs ->",t);const n=[],i=[];for(const e of t){const{type:t,id:r,revision:o}=e.$meta||{},s=this.db.getCollection(t);if(s){const t=Object.assign({},s.findOne({"$meta.id":r}));delete t.$loki,delete t.meta,t&&t.$meta&&t.$meta.id?o>-1&&t.$meta.revision!=o?i.push(e):n.push(t):i.push(e)}else i.push(e)}Yo("hits & misses ->",{hits:n,misses:i}),e({hits:n,misses:i})}))}};wt=class{constructor({config:t,cache:e,noCache:r=!1,comms:n,model:i,factories:o,documentClass:s,qb:a=null}){this.config=t,this.qb=a,this.cache=r?null:e||new $o,this.comms=n,this._actor={id:void 0,type:void 0},this._actors=[],this._identity=void 0,this.started=!1,this.factory=new Pi({party:this,model:i,factories:o,documentClass:s})}async start(){this.started||(_t("start"),this.config&&await this.config.start(),this.cache&&await this.cache.start(),await Promise.all([this.loadIdentity(),this.loadActor()]),this.started=!0,_t("\tDocument Validators",this.factory.getValidators()),_t("\tDocument Classes",this.factory.getTypes()))}async createDocument(t,e,r){let n=this.factory.getFactory(t);return await n.create(this,{data:e,type:t,id:r})}async create(t,...e){return await this.qb.create(t,e)}async remove(...t){return this.qb.modify(t,"remove")}async update(...t){return this.qb.modify(t,"update")}find(){return new St(this.qb,this.factory)}async call(t){throw new Error("Not Implemented")}async socket(t){throw new Error("Not Implemented")}get ROSLIB(){return ROSLIB}get Document(){return this.factory.Document}get types(){return this.factory.getFactories()}get identity(){if(this.hasIdentity())return this._identity.toJSON(!1)}get privateIdentity(){if(this.hasIdentity())return this._identity}get actor(){return this.actors&&this.actors[0]?this.actors[0]:this._actor.id&&this._actor.type?this._actor:void 0}get actors(){return this._actors}set actors(t){this._actors=t;const e=this.actor;if(!e)return;this._actor.id=e.id,this._actor.type=e.type;this.config.write("actor",this._actor)}hasIdentity(){return null!=this._identity}hasActor(){return null!=this.actor}async loadIdentity(){const t=this.config.read("identity");t?(_t("loaded identity"),this._identity=l.Identity.fromString(JSON.stringify(t))):(_t("generated new identity"),await this.resetIdentity())}async resetIdentity(){const t="identity";await this.config.write(t,null),this._identity=new l.Identity({id:"primary"}),await this.config.write(t,this._identity.toJSON(!0)),await this.loadIdentity()}async loadActor(){const t=this.config.read("actor");t&&(this._actor.id=t.id,this._actor.type=t.type,_t("loaded actor",this._actor))}async encrypt(t,e){const r=new l.Message({msg:t});return await r.encrypt(this._identity,e.key),r}async decrypt(t,e,r=!1){if(t.enc&&t.sig){const r=new l.Message(t),n=await r.decrypt(this._identity),i=l.Routines.extractPublicKeys(r.enc);if(_t(`publicKeys.sign - ${i.sign}`),i.sign!==e.key.public.sign||i.box!==e.key.public.box)throw new Error("TrustFail: reply is not from service");if(_t("decrypted reply ->",JSON.stringify(n)),n.error)throw _t("call failed ->",n.error),n.error;return n}if(r&&!t.error)return t;if(t.error)throw _t("call failed ->",t.error),t.error;throw new Error("TrustFail: reply is not encrypted")}};var Wo;const Vo=i("23wL6")("dataparty.peer-party");var Ho;const Go=i("23wL6")("dataparty.party.qb");u=i("gh2nv");var Jo={},Ko={},Qo="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(Qo){var Zo=new Uint8Array(16);Ko=function(){return Qo(Zo),Zo}}else{var Xo=new Array(16);Ko=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),Xo[e]=t>>>((3&e)<<3)&255;return Xo}}for(var ts={},es=[],rs=0;rs<256;++rs)es[rs]=(rs+256).toString(16).substr(1);ts=function(t,e){var r=e||0,n=es;return[n[t[r++]],n[t[r++]],n[t[r++]],n[t[r++]],"-",n[t[r++]],n[t[r++]],"-",n[t[r++]],n[t[r++]],"-",n[t[r++]],n[t[r++]],"-",n[t[r++]],n[t[r++]],n[t[r++]],n[t[r++]],n[t[r++]],n[t[r++]]].join("")},Jo=function(t,e,r){var n=e&&r||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var i=(t=t||{}).random||(t.rng||Ko)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e)for(var o=0;o<16;++o)e[n+o]=i[o];return e||ts(i)};var ns;const is=i("23wL6")("dataparty.party.crufl");u=i("gh2nv");var os=i("fZjWS"),ss=i("2Roe1");i("fOwX1").takeWhile;const as=new ss.MD5;ns=class extends u{constructor({op:t,spec:e,msgs:r,qb:n,timeout:i}){if(super(),this.cache=n.cache,this.lookup=n.lookup.bind(n),this.request,this.op=t,this.type=null,this.spec=e,this.msgs=r,this.uuid=Jo(),this.specHash=void 0!==this.spec?as.hex(JSON.stringify(this.spec)):void 0,this.errors=!1,this.result=null,this.timeout=null,this.timeoutTimer=i?setTimeout(this.onTimeout.bind(this),i):void 0,this.startTime=os(),this.endTime=null,void 0!==this.spec&&void 0!==this.msgs)throw new Error("crufl can not have both spec and msgs");if(void 0!==this.spec){if(is("crufl("+this.op+") - created from spec",this.spec),this.type=e.type,!("string"==typeof this.type&&this.type.length>0))throw is(e),new Error("crufl with no spec type!\n"+JSON.stringify(e,null,2))}else if(void 0!==this.msgs){is("crufl("+this.op+") - created from msgs");const[t,n]=Un.validateOneType(r);if(null===t)throw new Error("crufl with no consistent type!\n"+JSON.stringify(e,null,2));this.type=t,this.msgs=n}}get duration(){return this.endTime?this.endTime.diff(this.startTime,"ms"):os().diff(this.startTime,"ms")}clearTimeout(){null!==this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=null,this.timeout=!1)}async onResult(t){is("onResult",t);try{if(null!=this.result)throw new Error("onResult called more than once - "+this.uuid);if(1==this.timeout)throw new Error("result after timeout - "+this.uuid);if(this.result=t,this.clearTimeout(),this.result.op!=this.op)throw new Error("result op does not match request");switch(this.result.op){case"find":if(!this.result.msgs||this.result.msgs.length<1){this.result.msgs=[];break}is("lookup needed",this.result),this.result.msgs=await this.lookup(this.result.msgs);break;case"lookup":case"update":case"create":case"remove":this.cache&&this.cache.insert(this.result.msgs),this.errors=this.anyErrors(this.result.msgs);break;default:throw new Error(`unsupported result op: ${t.op} - `+this.uuid)}}catch(t){this.errors||(this.errors=t)}this.endTime=os(),this.emit("complete")}onTimeout(){is("timeout"),null==this.result&&(this.timeout=!0,this.timeoutTimer=null,this.endTime=os(),this.errors=new Error("crufl timeout"),this.emit("complete"))}get request(){return{op:this.op,uuid:this.uuid,type:this.type,msgs:this.msgs,spec:this.spec,specHash:this.specHash}}anyErrors(t){let e;for(const r of t)if(r.$meta.error){e||(e={});let t=e[r.$meta.error];t||(t=e[r.$meta.error]=[]),t.push(r.$meta.id)}if(e){let t=new Error(Object.keys(e)[0]),r={errors:e,crufl:this};return t.name=Object.keys(e)[0],t.message=JSON.stringify(r,null,2),t}return!1}filterInvalid(t,e){const r={};for(const e of t)r[e._id]=e;for(const t of e)t.$meta.error&&delete r[t._id];return Object.values(r)}},Ho=class extends u{constructor({call:t,cache:e,debounce:r=10,timeout:n=3e3,find_dedup:i=!0}){super(),this.call=t,this.cache=e,this.debounce=r,this.timeout=n,this.find_dedup=i,this.crufls={},this.find_map={},this.send_queue=[],this.send_timer=null,this.send_timer_created=null}async find(t){if(Go("find -",JSON.stringify(t,null,2)),"id"in t||"ids"in t){Go("find -> has ids",t);const e=("id"in t?[t.id]:t.ids).map((e=>Un.partyize(t.type,e+""))),r=new ns({op:"lookup",msgs:e,qb:this,timeout:this.timeout});return await this.queueRequest(r)}{Go("find -> has no id or ids");const e=new ns({op:"find",spec:t,qb:this,timeout:this.timeout});return await this.queueRequest(e)}}async create(t,e){Go("create - ",t,JSON.stringify(e,null,2));const r=e.map((e=>Un.partyize(t,e)));return await this.modify(r,"create")}async modify(t,e){Go("modify - ",e,JSON.stringify(t,null,2));const r=new ns({op:e,msgs:t,qb:this,timeout:this.timeout});return await this.queueRequest(r)}async lookup(t,e){if(Go("lookup - ",JSON.stringify(t,null,2)),!t||t.length<1)return[];const r=new ns({op:"lookup",msgs:t,qb:this,timeout:this.timeout});return await this.queueRequest(r,e)}async waitForCruflComplete(t){return await new Promise(((e,r)=>{t.once("complete",(()=>{Go("crufl completed in",t.duration,"ms",t.request,t.result),"find"==t.op&&this.find_dedup&&delete this.find_map[t.specHash],0!=t.errors?(r(t),this.emit("error",t)):e(t.result.msgs),delete this.crufls[t.uuid]}))}))}async queueRequest(t,e=!1){if(this.cache&&!e&&"lookup"==t.op){Go("queueRequest - attempt cache lookup");const e=await this.cache.populate(t.msgs);if(0===e.misses.length)return Go("queueRequest - completed from cache"),t.clearTimeout(),t.spec&&t.spec.select?Un.selectAll(t.spec.select,e.hits):e.hits;if(e.misses.length>0&&e.hits.length>0){Go("queueRequest - has partial result from cache");let r=await this.lookup(e.misses,!0);return Go("queueRequest - completed partially from cache"),t.clearTimeout(),[...e.hits,...r]}}if(this.find_dedup&&"find"==t.op){let e=this.find_map[t.specHash];if(e)return Go("deduping find op - waiting for pending crufl",e.uuid),t.clearTimeout(),await this.waitForCruflComplete(e);this.find_map[t.specHash]=t}this.crufls[t.uuid]=t;let r=this.waitForCruflComplete(t);return!1===this.debounce||this.debounce<1?await this.sendRequests([t]):(this.send_queue.push(t),this.send_timer||(this.send_timer=setTimeout((async()=>{await this.onSendTimer()}),this.debounce))),await r}async onSendTimer(){const t=this.send_queue;this.send_queue=[],delete this.send_timer,this.send_timer=null,await this.sendRequests(t)}async sendRequests(t){if(t.length<1)return;const e={uuid:Jo(),crufls:t.map((t=>t.request))};Go("doRequest -",JSON.stringify(e,null,2));const r=await this.call(e);await this.onReply(r)}async onReply(t){Go("onReply - ",t);let e=[];for(let r of t.results){let t=this.onResult(r);e.push(t)}await Promise.all(e)}async onResult(t){Go("onResult",t);let e=this.crufls[t.uuid];void 0!==e&&(await e.onResult(t),delete this.crufls[t.uuid])}};Wo=class extends wt{constructor({comms:t,hostParty:e,qbOptions:r={debounce:10,find_dedup:!0,timeout:1e4},...n}){super(n),this.comms=t,this.comms.party=this,this.qb=new Ho({call:this.handleCall.bind(this),cache:this.cache,...r}),this.hostParty=null,this.comms.host&&(this.hostParty=e)}async start(){await super.start(),this.comms.host?(Vo("start - host"),await this.hostParty.start()):Vo("start - client"),await this.comms.start()}async handleCall(t){return Vo("handleCall"),this.comms.host?(Vo("handleCall - host"),await this.hostParty.handleCall(t)):(Vo("handleCall - client"),await this.comms.call("api-v2-peer-bouncer",t))}};var us;const cs=i("23wL6")("dataparty.cloud-party");us=class extends wt{constructor({config:t,qbOptions:e,...r}){super({config:t,...r}),this.qb=new Ho({call:this.call.bind(this),cache:this.cache,qbOptions:e}),this.rest=new s({config:this.config,party:this}),this.comms=this.rest}async call(t){return this.rest.call("api-v2-bouncer",t)}async socket(){return this.rest.websocket()}async start(){cs("start"),await super.start(),await this.rest.start()}async stop(){await this.rest.stop()}find(){return new St(this.qb,this.model)}async update(...t){return this.qb.modify(t,"update")}async create(t,...e){return this.qb.create(t,e)}async remove(...t){return this.qb.modify(t,"remove")}};var ls;i("23wL6")("dataparty.loki-party");var hs,fs;const ds=i("23wL6")("bouncer.idb");var ps;u=i("gh2nv");fs=class extends u{constructor(t,e="api_"){super(),this.factory=t,this.prefix=e}async start(){ds("starting"),ds(this.factory.getValidators());for(const t of this.factory.getValidators()){ds("creating collection",t);const e=Ci(this.factory,"model.IndexSettings."+t);await this.createCollection(t,e)}}async hasCollection(t){return-1!=(await this.getCollectionNames()).indexOf(t)}async stop(){throw new Error("not implemented")}documentToObject(t){throw new Error("not implemented")}documentFromObject(t){throw new Error("not implemented")}ensureId(t){throw new Error("not implemented")}stripMeta(t){const{_id:e,meta:r,$meta:n,...i}=t;return i}onlyMeta(t){const{meta:e,$meta:r,...n}=t;return{$meta:r||e}}emitChange(t,e){const{type:r,id:n,revision:i}=t.$meta;this.emit(`${r}:${n}`,{event:e,msg:{type:r,id:n,revision:i}})}async createCollection(t,e){throw new Error("not implemented")}async getCollection(t){throw new Error("not implemented")}async getCollectionNames(){throw new Error("not implemented")}async find(t,e){throw new Error("not implemented")}async insert(t,e){throw new Error("not implemented")}async insertMany(t,e){throw new Error("not implemented")}async update(t,e,r){throw new Error("not implemented")}async findAndRemove(t,e){throw new Error("not implemented")}},i("eJXcg"),i("lGJEF"),i("6C4SJ"),i("2Q7Vm"),i("2qO2U"),i("l6cIO"),i("en0Im"),i("bygnz"),i("jGNeQ"),i("gGs6W"),i("2Bj5i"),i("jgPwP"),i("kWOgF"),i("39bz6"),i("3pUDt"),i("54qZ9"),i("lBBqR"),i("jKNOz"),ps=i("cnYJZ"),i("7gMWj"),i("7hdyU"),i("3HpxW");qo.LokiFsAdapter;var ys={};!function(t,e){"function"==typeof define&&define.amd?define([],e):ys=e()}(0,(function(){return function(){const t=i("eojjI"),e=i("eojjI"),r=i("ijHcq");function n(){this.mode="reference",this.dbref=null,this.dirtyPartitions=[]}return n.prototype.generateDestructured=function*(t){var e,r;if((t=t||{}).hasOwnProperty("partition")||(t.partition=-1),-1!==t.partition){var n,i;if(t.partition>=0)for(n=this.dbref.collections[t.partition].data.length,i=0;i<n;i++)yield JSON.stringify(this.dbref.collections[t.partition].data[i])}else{for(r=this.dbref.copy(),e=0;e<r.collections.length;e++)r.collections[e].data=[];yield r.serialize({serializationMethod:"normal"})}},n.prototype.loadDatabase=function(n,i){var o,s,a,u=this;this.dbref=null,t.stat(n,(function(c,l){!c&&l.isFile()?(o=t.createReadStream(n),s=new r,(a=e.createInterface(o,s)).on("line",(function(t){null===u.dbref&&""!==t&&(u.dbref=JSON.parse(t))})),a.on("close",(function(){u.dbref.collections.length>0&&u.loadNextCollection(n,0,(function(){i(u.dbref)}))}))):i(null)}))},n.prototype.loadNextCollection=function(n,i,o){var s,a=t.createReadStream(n+"."+i),u=new r,c=e.createInterface(a,u),l=this;c.on("line",(function(t){""!==t&&(s=JSON.parse(t),l.dbref.collections[i].data.push(s))})),c.on("close",(function(t){a=null,u=null,c=null,s=null,++i<l.dbref.collections.length?l.loadNextCollection(n,i,o):o()}))},n.prototype.getPartition=function*(){var t,e=this.dbref.collections.length;for(yield-1,t=0;t<e;t++)this.dbref.collections[t].dirty&&(yield t)},n.prototype.exportDatabase=function(t,e,r){this.dbref=e;var n=this.getPartition();this.saveNextPartition(t,n,(function(){r(null)}))},n.prototype.saveNextPartition=function(e,r,n){var i,o=this,s=r.next();if(s.done)n();else{i=e+(-1===s.value?"":"."+s.value);var a=t.createWriteStream(i);for(var u of(a.on("close",(function(){o.saveNextPartition(e,r,n)})),this.generateDestructured({partition:s.value})))a.write(u+"\n");a.end()}},n}()}));var vs={},ms=(f=i("b28Wo"),Math.floor(16777215*Math.random())),gs=ws.index=parseInt(16777215*Math.random(),10),bs=(void 0===f||"number"!=typeof f.pid?Math.floor(1e5*Math.random()):f.pid)%65535;function ws(t){if(!(this instanceof ws))return new ws(t);if(t&&(t instanceof ws||"ObjectID"===t._bsontype))return t;var e,r;if(null!=(r=t)&&r.constructor&&"function"==typeof r.constructor.isBuffer&&r.constructor.isBuffer(r)||Array.isArray(t)&&12===t.length)e=Array.prototype.slice.call(t);else if("string"==typeof t){if(12!==t.length&&!ws.isValid(t))throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");e=Es(t)}else/number|undefined/.test(typeof t)&&(e=Es(_s(t)));Object.defineProperty(this,"id",{enumerable:!0,get:function(){return String.fromCharCode.apply(this,e)}}),Object.defineProperty(this,"str",{get:function(){return e.map(Ss.bind(this,2)).join("")}})}function _s(t){return"number"!=typeof t&&(t=Date.now()/1e3),Ss(8,t=parseInt(t,10)%4294967295)+Ss(6,ms)+Ss(4,bs)+Ss(6,gs=(gs+1)%16777215)}function Ss(t,e){return(e=e.toString(16)).length===t?e:"00000000".substring(e.length,t)+e}function Es(t){var e=0,r=[];if(24===t.length)for(;e<24;r.push(parseInt(t[e]+t[e+1],16)),e+=2);else if(12===t.length)for(;e<12;r.push(t.charCodeAt(e)),e++);return r}vs=ws,ws.generate=_s,ws.default=ws,ws.createFromTime=function(t){return new ws(Ss(8,t=parseInt(t,10)%4294967295)+"0000000000000000")},ws.createFromHexString=function(t){if(!ws.isValid(t))throw new Error("Invalid ObjectID hex string");return new ws(t)},ws.isValid=function(t){return!(!t||"string"!=typeof t&&("object"!=typeof t||Array.isArray(t)||"function"!=typeof t.toString))&&/^[0-9A-F]{24}$/i.test(t.toString())},ws.setMachineID=function(t){var e;if("string"==typeof t){if(e=parseInt(t,16),isNaN(e)){t=("000000"+t).substr(-7,6),e="";for(var r=0;r<6;r++)e+=t.charCodeAt(r)}}else/number|undefined/.test(typeof t)&&(e=0|t);ms=16777215&e},ws.getMachineID=function(){return ms},ws.prototype={_bsontype:"ObjectID",constructor:ws,toHexString:function(){return this.str},equals:function(t){return!!t&&this.str===t.toString()},getTimestamp:function(){return new Date(1e3*parseInt(this.str.substr(0,8),16))}};var xs=Symbol&&Symbol.for("nodejs.util.inspect.custom")||"inspect";ws.prototype[xs]=function(){return"ObjectID("+this+")"},ws.prototype.toJSON=ws.prototype.toHexString,ws.prototype.toString=ws.prototype.toHexString;var Os;const Cs=i("23wL6")("bouncer.mongo-query");Os=class{constructor(t){this.spec=Object.assign({},t)}hasTypes(){return"string"==typeof this.spec.type||Array.isArray(this.spec.types)}getTypes(){return"string"==typeof this.spec.type?[this.spec.type]:Array.isArray(this.spec.types)?this.spec.types:[]}hasLimit(){return"number"==typeof this.spec.limit}getLimit(){return this.spec.limit}hasSort(){return null!==this.spec.sort&&"object"==typeof this.spec.sort}getSort(){return{[this.spec.sort.param.join(".")]:this.spec.sort.direction}}getQueryDoc(){const t=this.spec.match?this.spec.match.slice():[];if(Cs("getting query doc with raw match ->",JSON.stringify(t)),null!==this.spec.owner&&"object"==typeof this.spec.owner&&(Cs("non-null spec owner"),t.unshift({op:"equals",param:["owner","id"],value:new vs(this.spec.owner.id).id}),t.unshift({op:"equals",param:["owner","type"],value:this.spec.owner.type})),this.spec.id&&(this.spec.ids=[this.spec.id]),this.spec.ids){const e=[];for(const t of this.spec.ids)if(vs.isValid(t)){Cs("is valid");let r=new vs(t).toString();e.push(r)}else Cs("is not valid");e.length>0&&t.unshift({op:"in",param:["_id"],values:e})}if(t.length<1)return Cs("returning empty query doc!"),{};const e=[];return Cs("building query doc from match ->",JSON.stringify(t)),As({op:"and",match:t},e),e[0]}};const As=(t,e)=>{switch(t.op){case"and":case"or":{const r=[];e.push({["$"+t.op]:r});for(const e of t.match)As(e,r);return}case"elem":{const r=[];e.push({[t.param.join(".")]:{$elemMatch:r}});for(const e of t.match)As(e,r);return}case"regex":t.value=new RegExp(t.value);case"contains":case"exists":case"gt":case"lt":case"size":return void e.push({[t.param.join(".")]:{["$"+t.op]:t.value}});case"equals":return void e.push({[t.param.join(".")]:t.value});case"in":case"all":return void e.push({[t.param.join(".")]:{["$"+t.op]:t.values}})}throw new Error(`unrecognized query op: ${t.op}`)};var ks=function(t,e){return function(){let r=arguments;return new Promise((function(n,i){let o=[];for(let t of r)o.push(t);o.push((function(t,...e){t?i(t):1==e.length?n(e[0]):n(e)})),t.apply(e,o)}))}};const Ps=i("23wL6")("bouncer.db.loki-db");hs=class extends fs{constructor({path:t,factory:e,dbAdapter:r,lokiOptions:n}){super(e),Ps("constructor"),this.loki=null,this.lokiOptions=n,this.path=t,this.dbAdapter=r||new ys,this.error=null}static get LokiLocalStorageAdapter(){return qo.LokiLocalStorageAdapter}async start(){Ps("starting"),Ps("path",this.path),this.loki=new qo(this.path,{adapter:this.dbAdapter,...this.lokiOptions}),await new Promise(((t,e)=>{this.loki.loadDatabase({},t),Ps("started with collections",this.loki.listCollections())})),await super.start(),Ps("started with collections",this.loki.listCollections())}async getCollectionNames(){return this.loki.listCollections().map((t=>t.name.replace(this.prefix,"")))}async createCollection(t,e){if(Ps("createCollection",t,e),1==this.hasCollection(t))return;const r={unique:["$meta.id"].concat(e.unique),indices:["$meta.id"].concat(e.indices)};Ps("createCollection",t,r),r.unique.push("$meta.id");let n=this.loki.addCollection(this.prefix+t,r);Ps(n)}async getCollection(t){let e=this.loki.getCollection(this.prefix+t);return Ps("collections",this.loki.listCollections()),e}documentToObject(t){let e=Object.assign({},t);return e.$meta={id:ps(e,"$meta.id",{default:e._id}),type:ps(t,"$meta.type"),created:ps(e,"$meta.created",{default:(new Date).toISOString()}),revision:ps(e,"$meta.revision",{default:1}),removed:ps(e,"$meta.removed")},delete e.meta,delete e.$loki,delete e._id,e}documentFromObject(t){let e=Object.assign({},t);return e._id=ps(t,"$meta.id",{default:t._id}),e.$meta={id:ps(t,"$meta.id",{default:t._id}),type:ps(t,"$meta.type"),created:ps(t,"$meta.created",{default:(new Date).toISOString()}),revision:ps(t,"$meta.revision",{default:1}),removed:ps(t,"$meta.removed")},e}ensureId(t){let e={...t};return reach(e,"$meta.id")||(e.$meta.id=(new vs).toHexString()),this.documentFromObject(e)}async find(t,e){let r=e.getQueryDoc();Ps("find collection=",t," query=",JSON.stringify(r,null,2));let n=(await this.getCollection(t)).chain().find(r);if(e.hasLimit()&&(n=n.limit(e.getLimit())),e.hasSort()){let t=Object.keys(e.getSort())[0];n=n.simplesort(t)}return n.data().map(this.documentToObject)||[]}async insertMany(t,e){Ps("insert collection=",t," docs=",JSON.stringify(e,null,2));let r=await this.getCollection(t),n=[];for(let i of e){let e={...i};void 0===e._id&&(e._id=(new vs).toString(),e.$meta.id=e._id);let o=this.documentFromObject(e);const s=this.stripMeta(e);Ps("validating",s,"from",e),await this.factory.validate(t,s),Ps("its good, inserting",o);const a=r.insert(o);Ps("inserted",a);const u=a,c=this.documentToObject(u);Ps("returning",c),this.emitChange(c,"create"),n.push(c)}return await ks(this.loki.saveDatabase.bind(this.loki)),n}async update(t,e){Ps("update collection",t," docs",e);let r=await this.getCollection(t),n=[];for(let i of e){let e=this.documentFromObject(i);e.$meta.revision++,Ps("updating",i,"to",e);const o=this.stripMeta(e);Ps("validating",o,"from",e),await this.factory.validate(t,o),Ps("its good, updating",e);let s={...r.findOne({"$meta.id":e._id}),...e};r.update(s);const a=this.documentToObject(s);this.emitChange(a,"update"),n.push(a)}return await ks(this.loki.saveDatabase.bind(this.loki)),n}async findAndRemove(t,e){Ps("findAndRemove collection",t," obj",e);const r=(await this.getCollection(t)).findAndRemove({"$meta.id":e.$meta.id});Ps("dbDoc",r);let n=this.documentToObject(r);return n.$meta.removed=!0,this.emitChange(n,"remove"),Ps("obj",n),await ks(this.loki.saveDatabase.bind(this.loki)),n}};var js;const Ds=i("23wL6")("bouncer.crufler-admin");var Rs;Rs=class{constructor({db:t,context:e}){this.db=t,this.context=e}async handleCall(t){throw new Error("not implemented")}async applyCreate(t){throw new Error("not implemented")}async applyRemove(t){throw new Error("not implemented")}async applyUpdate(t){throw new Error("not implemented")}async applyFind(t,e=!1){throw new Error("not implemented")}},js=class extends Rs{constructor({db:t,context:e}){super({db:t,context:e})}async handleCall(t){Ds("handleCall",t);let e=[];for(let r of t.crufls){let t={op:r.op,type:r.type,uuid:r.uuid,msgs:[],complete:!0,error:null};Ds("\tcrufl->",r.type);try{switch(r.op){case"create":t.msgs=await this.applyCreate(r);break;case"remove":t.msgs=await this.applyRemove(r);break;case"update":t.msgs=await this.applyUpdate(r);break;case"find":t.msgs=await this.applyFind(r,!1);break;case"lookup":t.msgs=await this.applyFind(r,!0)}}catch(e){Ds("crufl error"),Ds(e),t.error=e,Ds(r),Ds(t)}Ds("completed",r),Ds("result",t),e.push(t)}let r={uuid:t.uuid,results:e,complete:!0};return Ds("replying",JSON.stringify(r,null,2)),r}async applyFind(t,e=!1){Ds("find",JSON.stringify(t,null,2));let r=t.spec?t.spec:{ids:t.msgs.map((t=>(Ds(typeof t.$meta.id),t.$meta.id))),type:t.type},n=new Os(r),i=await this.db.find(t.type,n);Ds("resultSet",i);let o=[];for(const t of i)e?o.push(t):o.push({$meta:{id:t.$meta.id,type:t.$meta.type,revision:t.$meta.revision}});return Ds("applyFind found msgs",o),o}async applyCreate(t){return await this.db.insertMany(t.type,t.msgs)}async applyRemove(t){let e=[];for(let r of t.msgs){r.$meta.id,r.$meta.type;let n=await this.db.findAndRemove(t.type,r);e.push(n)}return e}async applyUpdate(t){return await this.db.update(t.type,t.msgs)}};ls=class extends wt{constructor({path:t,dbAdapter:e,qbOptions:r,lokiOptions:n,...i}){super(i),this.db=new hs({dbAdapter:e,path:t,factory:this.factory,lokiOptions:n}),this.crufler=new js({db:this.db}),this.qb=new Ho({call:this.handleCall.bind(this),cache:this.cache,...r})}async start(){await super.start(),await this.db.start()}async handleCall(t){return await this.crufler.handleCall(t)}};var Is;i("23wL6")("dataparty.zango-party");var Ts,Fs={};Fs={Db:i("7lSYP")};const Ms=i("23wL6")("bouncer.db.zango-db");Ts=class extends fs{constructor({dbname:t,factory:e}){super(e),Ms("constructor"),this.zango=null,this.dbname=t,this.error=null}async start(){Ms("starting");let t={};for(const e of this.factory.getValidators()){Ms("creating collection",e);const r=Ci(this.factory,"model.IndexSettings."+e),n=["$meta.id"].concat(r.unique).concat(r.indices);t[this.prefix+e]=!(n.length>0)||n}Ms("dbname",this.dbname,t),this.zango=new Fs.Db(this.dbname,t)}async getCollectionNames(){return this.factory.getValidators().map((t=>t.replace(this.prefix,"")))}async getCollection(t){return this.zango.collection(this.prefix+t)}documentToObject(t){let e=Object.assign({},t);return e.$meta={id:ps(e,"meta.id",{default:e._id}),type:ps(t,"meta.type"),created:ps(e,"meta.created",{default:(new Date).toISOString()}),revision:ps(e,"meta.revision",{default:1}),removed:ps(e,"meta.removed")},delete e.meta,delete e._id,e}documentFromObject(t){let e=Object.assign({},t);return e._id=ps(t,"$meta.id",{default:t._id}),e.meta={id:ps(t,"$meta.id",{default:t._id}),type:ps(t,"$meta.type"),created:ps(t,"$meta.created",{default:(new Date).toISOString()}),revision:ps(t,"$meta.revision",{default:1}),removed:ps(t,"$meta.removed")},delete e.$meta,e}ensureId(t){let e={...t};return Ci(e,"$meta.id")||(e.$meta.id=(new vs).toHexString()),this.documentFromObject(e)}async find(t,e){let r=e.getQueryDoc();Ms("find collection=",t," query=",JSON.stringify(r,null,2));let n=(await this.getCollection(t)).find(r);return e.hasLimit()&&(n=n.limit(e.getLimit())),e.hasSort()&&(n=n.sort(e.getSort())),(await n.toArray()).map(this.documentToObject)||[]}async insertMany(t,e){Ms("insert collection=",t," docs=",JSON.stringify(e,null,2));let r=await this.getCollection(t),n=[];for(let i of e){let e={...i};void 0===e._id&&(e._id=(new vs).toString(),e.$meta.id=e._id);let o=this.documentFromObject(e);const s=this.stripMeta(e);Ms("validating",s,"from",e),await this.factory.validate(t,s),Ms("its good, inserting",o),await r.insert(o),Ms("inserted",o);const a=this.documentToObject(o);Ms("returning",a),this.emitChange(a,"create"),n.push(a)}return n}async update(t,e){Ms("update collection",t," docs",e);let r=await this.getCollection(t),n=[];for(let i of e){let e=this.documentFromObject(i);Ms("updating",i,"to",e);const o=this.stripMeta(e);this.onlyMeta(i);Ms("validating",o,"from",e),await this.factory.validate(t,o),Ms("its good, updating",e);let s=await r.findOne({_id:e._id});Ms("found old",s),e.meta.revision=s.meta.revision++;let a={...s,...e};await r.update({_id:e._id},a);const u=this.documentToObject(a);this.emitChange(u,"update"),n.push(u)}return n}async findAndRemove(t,e){Ms("findAndRemove collection",t," obj",e);let r=await this.getCollection(t);const n=await r.findOne({_id:e.$meta.id});Ms("found old doc",n),await r.remove({_id:e.$meta.id}),Ms("dbDoc",n);let i=this.documentToObject(n);return i.$meta.removed=!0,this.emitChange(i,"remove"),Ms("obj",i),i}};Is=class extends wt{constructor({dbname:t,qbOptions:e,...r}){super(r),this.db=new Ts({dbname:t,factory:this.factory}),this.crufler=new js({db:this.db}),this.qb=new Ho({call:this.handleCall.bind(this),cache:this.cache,...e})}async start(){await super.start(),await this.db.start()}async handleCall(t){return await this.crufler.handleCall(t)}};const Ns=i("23wL6")("dataparty.cloud.document");bt={IDocument:Oi,IParty:wt,DocumentFactory:Pi,CloudDocument:class extends Oi{constructor(t){super(t)}async acl(){if("acl"==this.type)return this;const t=await this.party.find().type("acl").where("resource.id").equals(this.id).where("resource.type").equals(this.type).exec();if(t.length>0)return Ns("found ACL for document -",this.idString),t[0];Ns("creating acl");const e=(await this.party.create("acl",{resource:{id:this.id,type:this.type}}))[0];Ns("created acl",e);const r=(await this.party.find().type(Ci(e,"$meta.type")||e.type).id(Ci(e,"$meta.id")||e.id).exec())[0];return Ns("created ACL for document -",this.idString,r.data),r}async grantAccess(t,e,r="",n=!0){const i=await this.acl();return Ns("granting access to document -",this.idString,"via acl - ",i.data),i.setPermissionsByField(t,e,r,n)}get owner(){return{id:Ci(this.data,"owner.id"),type:Ci(this.data,"owner.type")}}},CloudParty:us,LokiParty:ls,ZangoParty:Is,PeerParty:Wo,LokiDb:hs};var Ls,Bs={};Bs=function t(e,r,n){function i(s,a){if(!r[s]){if(!e[s]){var u=void 0;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[s]={exports:{}};e[s][0].call(l.exports,(function(t){var r=e[s][1][t];return i(r||t)}),l,l.exports,t,e,r,n)}return r[s].exports}for(var o=void 0,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(t,e,r){function n(t){return"object"==typeof t&&null!==t}e.exports=function(t,e,r,i){var o,s=e.split("."),a=t;for(i=void 0===i||i;s.length&&(o=s.shift(),a);)!n(a[o])&&i&&(a[o]={}),s.length||(a[o]=r),a=a[o];return t}},{}]},{},[1])(1);const Us=i("23wL6")("dataparty.config.memory");Ls=class{constructor(t){t=t||{},this.content=Object.assign({},t)}start(){return this}clear(){this.content={}}readAll(){return Object.assign({},this.content)}read(t){return Us("reading path: "+t),Ci(this.readAll(),t)}async write(t,e){let r=this.readAll();Bs(r,t,e),this.content=Object.assign({},r)}exists(t){return void 0!==read(t)}async save(){}};const $s=i("23wL6")("dataparty.config.local-storage");let zs={Comms:o,Config:{MemoryConfig:Ls,LocalStorageConfig:class{constructor(t,e){this.whitelist=e||[],t=t||{},this.basePath=t.basePath||"dataparty-api",this.defaults=t||{},this.defaults.logicalSeparator="."}start(){return Promise.resolve(this)}clear(){localStorage.setItem(this.basePath,JSON.stringify({}))}readAll(){try{return Object.assign({},this.defaults,JSON.parse(localStorage.getItem(this.basePath)||"{}"))}catch(t){return{}}}read(t){return $s("reading path: "+t),Ci(this.readAll(),t)}async write(t,e){let r=this.readAll();Bs(r,t,e),localStorage.setItem(this.basePath,JSON.stringify(r))}exists(t){return void 0!==read(t)}async save(){}}},...bt};window.Dataparty=zs})();
//# sourceMappingURL=dataparty-browser.js.map
